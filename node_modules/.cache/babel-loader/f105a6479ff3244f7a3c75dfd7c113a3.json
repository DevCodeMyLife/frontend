{"ast":null,"code":"import _objectSpread from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _createForOfIteratorHelper from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _excluded=[\"node\",\"inline\",\"className\",\"children\"];import React,{Component}from\"react\";import ReactMarkdown from'react-markdown';import{Prism as SyntaxHighlighter}from'react-syntax-highlighter';import{tomorrow}from\"react-syntax-highlighter/dist/esm/styles/prism\";import like from\"../icon/like.png\";import look from\"../icon/look.png\";import notes from\"../icon/notes.png\";import messages from\"../icon/messages.png\";import user from\"../icon/user.png\";import{Link}from\"react-navi\";import Head from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var gfm=require('remark-gfm');var Feed=/*#__PURE__*/function(_Component){_inherits(Feed,_Component);var _super=_createSuper(Feed);function Feed(_props){var _this;_classCallCheck(this,Feed);_this=_super.call(this,_props);_this.handleKeyPress=function(event){_this.setState({isLoaded:\"load\"});var query=event.target.value;if(query.length>0){fetch(\"api/search?\"+new URLSearchParams({query:query}),{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){_this.setState({isLoaded:\"access\",result:res.data.sort(function(x,y){return x.count_like>y.count_like?-1:1;})});}).catch(function(error){_this.setState({isLoaded:\"error\",result:{}});});}else{fetch(\"api/feed\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){_this.setState({isLoaded:\"access\",result:res.data});}).catch(function(error){_this.setState({isLoaded:\"error\",result:{}});});}};_this.handleClickTag=function(event){var _iterator=_createForOfIteratorHelper(event.target.parentNode.children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var sibling=_step.value;sibling.classList.remove('button-select');}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this.setState({isLoaded:\"load\"});event.target.classList.add('button-select');var attr=event.target.getAttribute('action');if(attr===\"top\"){fetch(\"api/feed/top\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){if(res.status.code===0&&res.data!=null){_this.setState({isLoaded:\"access\",result:res.data.sort(function(x,y){return x.count_like>y.count_like?-1:1;})});_this.setState({result:res.data.sort(function(x,y){return x.look_count>y.look_count?-1:1;})});}else{_this.setState({isLoaded:\"access\",result:[]});}}).catch(function(error){_this.setState({isLoaded:\"error\",result:{}});});}else{fetch(\"api/feed\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){_this.setState({isLoaded:\"access\",result:res.data});}).catch(function(error){_this.setState({isLoaded:\"error\",result:{}});});}};_this.handlerFocus=function(event){_this.setState({isLoaded:\"OnFocusSearch\"});};_this.handlerBlur=function(event){_this.setState({isLoaded:\"access\"});};_this.handleHoverOn=function(event){var elem=event.target.querySelector('.descriptions-button');if(elem){elem.classList.add('fade-in');}else{document.querySelector('.descriptions-button').classList.remove('fade-in');}};_this.handleHoverOff=function(event){var elem=event.target.querySelector('.descriptions-button');if(elem){elem.classList.remove('fade-in');}document.querySelector('.descriptions-button').classList.remove('fade-in');};_this.components={code:function code(_ref){var node=_ref.node,inline=_ref.inline,className=_ref.className,children=_ref.children,props=_objectWithoutProperties(_ref,_excluded);var match=/language-(\\w+)/.exec(className||'');return!inline&&match?/*#__PURE__*/_jsx(SyntaxHighlighter,_objectSpread({style:tomorrow,language:match[1],PreTag:\"div\",children:String(children).replace(/\\n$/,'')},props)):/*#__PURE__*/_jsx(\"code\",_objectSpread(_objectSpread({className:className},props),{},{children:children}));}};_this.state={error:null,isLoaded:\"load\",result:[],auth:false,messagesCount:0,data:null};return _this;}_createClass(Feed,[{key:\"like\",value:function like(uuid){var data={feeds_uuid:uuid};fetch(\"api/like\",{method:\"POST\",body:JSON.stringify(data)}).then(function(response){return response.json();}).then(function(res){if(res.status.code===0){document.getElementById(uuid).innerHTML=res.data.count;}}).catch(function(error){console.log(error);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"api/feed\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(res){_this2.setState({isLoaded:\"access\",result:res.data});}).catch(function(error){_this2.setState({isLoaded:\"error\",result:{}});window.location.href=\"/\";});fetch(\"/api/authentication\",{method:\"POST\",body:JSON.stringify({\"finger\":window.localStorage.getItem(\"finger\")})}).then(function(response){return response.json();}).then(function(res){if(res.status.code===0){_this2.setState({auth:true,data:res.data,feed:res.feed,notification_count:res.notification_count,notification:res.notification,token:res.token,messagesCount:res.count_message});}else{_this2.sendLogs(res.status.message);_this2.delete_cookie(\"access_token\");}_this2.setState({load:true,headComponent:null});_this2.setState({headComponent:/*#__PURE__*/_jsx(Head,{auth:true,user:res.data[0],load:true})});}).catch(function(error){_this2.setState({auth:false,load:true,token:\"asd\"});});}},{key:\"unixToDateTime\",value:function unixToDateTime(unixTimestamp){var milliseconds=unixTimestamp*1000;var dateObject=new Date(milliseconds);return dateObject.toLocaleString();}},{key:\"render\",value:// <img src={messages} alt=\"messages\" path=\"/messages\" />\nfunction render(){var _this3=this;var _this$state=this.state,isLoaded=_this$state.isLoaded,result=_this$state.result;return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"vertical_menu\",className:\"reviews-menu\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-vertical-nav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-value\",href:\"/feeds\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-image\",children:/*#__PURE__*/_jsx(\"img\",{src:notes,alt:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-value\",children:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})]})}),!this.state.load?/*#__PURE__*/_jsx(\"div\",{className:\"loader-flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader-small\"})}):this.state.auth?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-value\",href:\"/user?id=\".concat(this.state.data[0].id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-image\",children:/*#__PURE__*/_jsx(\"img\",{src:user,alt:\"messages\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-value\",children:\"\\u0412\\u0430\\u0448\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item\",children:[this.state.messagesCount?/*#__PURE__*/_jsx(\"div\",{className:\"counter-notification\",id:\"counter_notification\",path:\"/messages\",children:this.state.messagesCount>10?\"10+\":this.state.messagesCount}):null,/*#__PURE__*/_jsxs(Link,{className:\"nav-value\",href:\"/messages\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-image\",children:/*#__PURE__*/_jsx(\"img\",{src:messages,alt:\"messages\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-value\",children:\"\\u041C\\u0435\\u0441\\u0441\\u0435\\u043D\\u0434\\u0436\\u0435\\u0440\"})]})]})]}):null]})}),/*#__PURE__*/_jsx(\"div\",{className:\"content-wall-views\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-feed\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-search wrapper-inline-block unselectable\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440 \\u0438\\u043C\\u044F \\u0430\\u0432\\u0442\\u043E\\u0440\\u0430\",onKeyPress:this.handleKeyPress,onFocus:this.handlerFocus,onBlur:this.handlerBlur})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tags-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button-default-tag tags-item unselectable button-select\",id:\"all\",action:\"all\",onClick:this.handleClickTag,children:\"\\u0412\\u0441\\u0435\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-default-tag tags-item unselectable\",action:\"top\",onClick:this.handleClickTag,children:\"\\u0422\\u043E\\u043F 10 \\u043D\\u0435\\u0434\\u0435\\u043B\\u0438\"})]})]}),isLoaded===\"load\"?/*#__PURE__*/_jsx(\"div\",{className:\"loader-wrapper feed-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader\"})}):isLoaded===\"error\"?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"not_news\",children:\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0441\\u043E\\u0435\\u0434\\u0438\\u043D\\u0435\\u0438\\u044F \\u0441 \\u0441\\u0435\\u0440\\u0432\\u0435\\u0440\\u043E\\u043C. \\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0434\\u0435\\u0435.\"})}):isLoaded===\"OnFocusSearch\"?/*#__PURE__*/_jsx(\"div\",{className:\"feed-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"not_news\",children:\"\\u041D\\u0430\\u0447\\u043D\\u0438\\u0442\\u0435 \\u0432\\u0432\\u043E\\u0434\\u0438\\u0442\\u044C \\u0438 \\u043C\\u044B \\u043D\\u0430\\u0447\\u043D\\u0435\\u043C \\u0438\\u0441\\u043A\\u0430\\u0442\\u044C...\"})}):result.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"feed-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"not_news\",children:\"\\u041A \\u0441\\u043E\\u0436\\u0430\\u043B\\u0435\\u043D\\u0438\\u044E \\u043F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u043D\\u0435\\u0447\\u0435\\u0433\\u043E \\uD83D\\uDE41\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"feed-wrapper\",children:result.map(function(data){var _data$value;return/*#__PURE__*/_jsxs(\"div\",{className:\"feed-wrapper-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feed-item-value\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"photo-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:data===null||data===void 0?void 0:data.photo,alt:data===null||data===void 0?void 0:data.id,onClick:function onClick(e){e.preventDefault();window.location.href=\"/user?id=\".concat(data===null||data===void 0?void 0:data.uid);}},\"asdmmmmasd\")},\"aksdlkasd\"),/*#__PURE__*/_jsx(\"div\",{className:\"value-post\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"feed-item-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"link-user\",onClick:function onClick(e){e.preventDefault();window.location.href=\"/user?id=\".concat(data===null||data===void 0?void 0:data.uid);},children:data===null||data===void 0?void 0:data.user}),/*#__PURE__*/_jsx(\"div\",{className:\"feed-item-datetime\",children:_this3.unixToDateTime(data===null||data===void 0?void 0:data.date_time)})]})})]},\"asldk\"),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper-data\",children:/*#__PURE__*/_jsx(ReactMarkdown,{className:\"value-post\",remarkPlugins:[gfm],components:_this3.components,onClick:function onClick(e){e.preventDefault();window.location.href=\"/post?uuid=\".concat(data===null||data===void 0?void 0:data.ID);},children:(data===null||data===void 0?void 0:(_data$value=data.value)===null||_data$value===void 0?void 0:_data$value.substring(0,200))+\"...\"})},\"asldkasd\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper-bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wrapper-flex-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-default\",onClick:function onClick(e){e.preventDefault();window.location.href=\"/post?uuid=\".concat(data===null||data===void 0?void 0:data.ID);},children:\"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"like_wrapper wrapper-flex-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"like\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"like-item\",children:/*#__PURE__*/_jsx(\"img\",{src:look,alt:\"like\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"like-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"like-count\",children:data===null||data===void 0?void 0:data.look_count})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"like\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"like-item\",onClick:function onClick(){return _this3.like(data===null||data===void 0?void 0:data.ID);},children:/*#__PURE__*/_jsx(\"img\",{src:like,alt:\"like\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"like-item\",children:/*#__PURE__*/_jsx(\"span\",{className:\"like-count\",id:data===null||data===void 0?void 0:data.ID,children:data===null||data===void 0?void 0:data.count_like})})]})]})]})]},data===null||data===void 0?void 0:data.ID);})})]})})]})});}}]);return Feed;}(Component);export default Feed;","map":{"version":3,"sources":["/Users/andrejsmelev-sampanov/Documents/org_devcodemylife/frontend/src/components/Feed.js"],"names":["React","Component","ReactMarkdown","Prism","SyntaxHighlighter","tomorrow","like","look","notes","messages","user","Link","Head","gfm","require","Feed","props","handleKeyPress","event","setState","isLoaded","query","target","value","length","fetch","URLSearchParams","method","then","response","json","res","result","data","sort","x","y","count_like","catch","error","handleClickTag","parentNode","children","sibling","classList","remove","add","attr","getAttribute","status","code","look_count","handlerFocus","handlerBlur","handleHoverOn","elem","querySelector","document","handleHoverOff","components","node","inline","className","match","exec","String","replace","state","auth","messagesCount","uuid","feeds_uuid","body","JSON","stringify","getElementById","innerHTML","count","console","log","window","location","href","localStorage","getItem","feed","notification_count","notification","token","count_message","sendLogs","message","delete_cookie","load","headComponent","unixTimestamp","milliseconds","dateObject","Date","toLocaleString","id","map","photo","e","preventDefault","uid","unixToDateTime","date_time","ID","substring"],"mappings":"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","sourcesContent":["import React, { Component }  from \"react\";\nimport ReactMarkdown from 'react-markdown'\nimport {Prism as SyntaxHighlighter} from 'react-syntax-highlighter'\nimport { tomorrow } from \"react-syntax-highlighter/dist/esm/styles/prism\"\nimport like from \"../icon/like.png\"\nimport look from \"../icon/look.png\";\nimport notes from \"../icon/notes.png\";\nimport messages from \"../icon/messages.png\";\nimport user from \"../icon/user.png\";\nimport {Link} from \"react-navi\";\nimport Head from \"./Header\";\nconst gfm = require('remark-gfm')\n\n\nclass Feed extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: \"load\",\n            result: [],\n            auth: false,\n            messagesCount: 0,\n            data: null\n        };\n    }\n\n    like(uuid) {\n        let data = {\n            feeds_uuid: uuid\n        }\n        fetch(\"api/like\", {\n            method: \"POST\",\n            body: JSON.stringify(data)\n        })\n            .then(response => response.json())\n            .then(res => {\n                if (res.status.code === 0){\n                    document.getElementById(uuid).innerHTML = res.data.count\n                }\n            })\n            .catch(error => {\n                console.log(error)\n            });\n    }\n\n    handleKeyPress = (event) => {\n        this.setState({\n            isLoaded: \"load\",\n        })\n\n        let query = event.target.value\n\n        if (query.length > 0) {\n            fetch(\"api/search?\" + new URLSearchParams({\n                query: query\n            }), {\n                method: \"GET\",\n            })\n                .then(response => response.json())\n                .then(res => {\n                    this.setState({\n                        isLoaded: \"access\",\n                        result: res.data.sort(function (x, y){\n                            return x.count_like > y.count_like ? -1 : 1;\n                        })\n                    });\n                })\n                .catch(error => {\n                    this.setState({\n                        isLoaded: \"error\",\n                        result: {}\n                    });\n                });\n        }else{\n            fetch(\"api/feed\", {\n                method: \"GET\",\n            })\n                .then(response => response.json())\n                .then(res => {\n                    this.setState({\n                        isLoaded: \"access\",\n                        result: res.data\n                    });\n                })\n                .catch(error => {\n                    this.setState({\n                        isLoaded: \"error\",\n                        result: {}\n                    });\n                });\n        }\n    }\n\n    handleClickTag = event => {\n        for (let sibling of event.target.parentNode.children) {\n            sibling.classList.remove('button-select');\n        }\n\n        this.setState({\n            isLoaded: \"load\",\n        })\n\n        event.target.classList.add('button-select')\n        let attr = event.target.getAttribute('action')\n\n        if (attr === \"top\"){\n            fetch(\"api/feed/top\", {\n                method: \"GET\",\n            })\n                .then(response => response.json())\n                .then(res => {\n                    if (res.status.code === 0 && res.data != null) {\n                        this.setState({\n                            isLoaded: \"access\",\n                            result: res.data.sort(function (x, y) {\n                                return x.count_like > y.count_like ? -1 : 1;\n                            })\n                        });\n\n                        this.setState({\n                            result: res.data.sort(function (x, y) {\n                                return x.look_count > y.look_count ? -1 : 1;\n                            })\n                        });\n                    }else{\n                        this.setState({\n                            isLoaded: \"access\",\n                            result: []\n                        });\n                    }\n                })\n                .catch(error => {\n                    this.setState({\n                        isLoaded: \"error\",\n                        result: {}\n                    });\n                });\n        }else{\n            fetch(\"api/feed\", {\n                method: \"GET\",\n            })\n                .then(response => response.json())\n                .then(res => {\n                    this.setState({\n                        isLoaded: \"access\",\n                        result: res.data\n                    });\n                })\n                .catch(error => {\n                    this.setState({\n                        isLoaded: \"error\",\n                        result: {}\n                    });\n                });\n        }\n    }\n\n    componentDidMount() {\n        fetch(\"api/feed\", {\n            method: \"GET\",\n        })\n            .then(response => response.json())\n            .then(res => {\n\n                this.setState({\n                    isLoaded: \"access\",\n                    result: res.data\n                });\n\n\n            })\n            .catch(error => {\n                this.setState({\n                    isLoaded: \"error\",\n                    result: {}\n                });\n                window.location.href = \"/\"\n            });\n\n        fetch(\"/api/authentication\", {\n            method: \"POST\",\n            body: JSON.stringify({\n                \"finger\": window.localStorage.getItem(\"finger\")\n            })\n        })\n            .then(response => response.json())\n            .then(res => {\n                if (res.status.code === 0){\n                    this.setState({\n                        auth: true,\n                        data: res.data,\n                        feed: res.feed,\n                        notification_count: res.notification_count,\n                        notification: res.notification,\n                        token: res.token,\n                        messagesCount: res.count_message\n                    });\n                }else{\n                    this.sendLogs(res.status.message)\n                    this.delete_cookie(\"access_token\")\n                }\n                this.setState({\n                    load: true,\n                    headComponent: null\n                });\n\n                this.setState({\n                    headComponent: <Head\n                        auth={true}\n                        user={res.data[0]}\n                        load={true}\n                    />\n                })\n\n\n            })\n            .catch(error => {\n                this.setState({\n                    auth: false,\n                    load: true,\n                    token: \"asd\",\n                });\n\n            });\n    }\n\n    handlerFocus = (event) => {\n        this.setState({\n            isLoaded: \"OnFocusSearch\"\n        })\n    }\n\n    handlerBlur = (event) => {\n        this.setState({\n            isLoaded: \"access\"\n        })\n    }\n\n    handleHoverOn = (event) => {\n        let elem = event.target.querySelector('.descriptions-button')\n\n        if (elem){\n            elem.classList.add('fade-in');\n        }else{\n            document.querySelector('.descriptions-button').classList.remove('fade-in');\n        }\n    }\n\n    handleHoverOff = (event) => {\n        let elem = event.target.querySelector('.descriptions-button')\n\n        if (elem){\n            elem.classList.remove('fade-in');\n        }\n        document.querySelector('.descriptions-button').classList.remove('fade-in');\n    }\n\n\n    unixToDateTime(unixTimestamp) {\n        const milliseconds = unixTimestamp * 1000\n        const dateObject = new Date(milliseconds)\n\n        return dateObject.toLocaleString()\n    }\n\n    components = {\n        code({node, inline, className, children, ...props}) {\n            const match = /language-(\\w+)/.exec(className || '')\n            return !inline && match ? (\n                <SyntaxHighlighter style={tomorrow} language={match[1]} PreTag=\"div\" children={String(children).replace(/\\n$/, '')} {...props} />\n            ) : (\n                <code className={className} {...props}>\n                    {children}\n                </code>\n            )\n        }\n    }\n\n// <img src={messages} alt=\"messages\" path=\"/messages\" />\n\n    render() {\n        let { isLoaded, result } = this.state;\n        return (\n            <div className=\"wrapper-content\">\n                <div className=\"content\">\n                    <div id=\"vertical_menu\" className=\"reviews-menu\">\n                        <div className=\"wrapper-vertical-nav\" >\n                            <div\n                                className=\"nav-item\"\n\n                            >\n                                <Link className=\"nav-value\" href=\"/feeds\">\n                                    <div  className=\"icon-image\" >\n                                        <img  src={notes} alt=\"Новости\" />\n                                    </div>\n                                    <div className=\"nav-value\">\n                                        Новости\n                                    </div>\n                                </Link>\n                            </div>\n                            {\n                                !this.state.load ?\n                                    <div className=\"loader-flex\">\n                                        <div className=\"loader-small\" />\n                                    </div>\n                                    :\n                                    this.state.auth ?\n                                        <div>\n                                            <div\n                                                className=\"nav-item\"\n\n                                            >\n                                                <Link className=\"nav-value\" href={`/user?id=${this.state.data[0].id}`}>\n                                                    <div  className=\"icon-image\" >\n                                                        <img src={user} alt=\"messages\" />\n                                                    </div>\n                                                    <div className=\"nav-value\">\n                                                        Ваша страница\n                                                    </div>\n                                                </Link>\n                                            </div>\n                                            <div\n                                                className=\"nav-item\"\n\n                                            >\n                                                {\n                                                    this.state.messagesCount ?\n                                                        <div className=\"counter-notification\" id=\"counter_notification\" path=\"/messages\" >\n                                                            {\n                                                                this.state.messagesCount > 10 ?\n                                                                    \"10+\"\n                                                                    :\n                                                                    this.state.messagesCount\n                                                            }\n                                                        </div>\n                                                        :\n                                                        null\n                                                }\n                                                <Link className=\"nav-value\" href=\"/messages\">\n                                                    <div  className=\"icon-image\" >\n                                                        <img src={messages} alt=\"messages\" />\n                                                    </div>\n                                                    <div className=\"nav-value\">\n                                                        Мессенджер\n                                                    </div>\n                                                </Link>\n                                            </div>\n                                        </div>\n                                        : null\n                            }\n\n                            {/*<div*/}\n                            {/*    className=\"nav-item\"*/}\n\n\n                            {/*>*/}\n                            {/*    <Link href=\"/about\" className=\"nav-value\">*/}\n                            {/*        <div  className=\"icon-image\">*/}\n                            {/*            <img path=\"/about\" src={about}/>*/}\n                            {/*        </div>*/}\n                            {/*        <div className=\"nav-value\">*/}\n                            {/*            Поддержка*/}\n                            {/*        </div>*/}\n                            {/*    </Link>*/}\n\n                            {/*</div>*/}\n                        </div>\n                    </div>\n                    <div className=\"content-wall-views\">\n                        <div className=\"wrapper-feed\">\n                            <div className=\"wrapper-search wrapper-inline-block unselectable\">\n                                <div>\n                                    <input placeholder=\"Например имя автора\" onKeyPress={this.handleKeyPress} onFocus={this.handlerFocus} onBlur={this.handlerBlur}/>\n                                </div>\n                                <div className=\"tags-wrapper\">\n                                    <div className=\"button-default-tag tags-item unselectable button-select\" id=\"all\" action=\"all\" onClick={this.handleClickTag}>\n                                        Все\n                                    </div>\n                                    <div className=\"button-default-tag tags-item unselectable\" action=\"top\" onClick={this.handleClickTag}>\n                                        Топ 10 недели\n                                    </div>\n                                </div>\n                            </div>\n\n                            {\n                                isLoaded === \"load\" ?\n                                    <div className=\"loader-wrapper feed-wrapper\">\n                                        <div className=\"loader\">\n\n                                        </div>\n                                    </div>\n                                    :\n                                    isLoaded === \"error\" ?\n                                        <div>\n                                            <div className=\"not_news\">Ошибка соединеия с сервером. Попробуйте поздее.</div>\n                                        </div>\n                                        :\n                                        isLoaded === \"OnFocusSearch\" ?\n                                            <div className=\"feed-wrapper\">\n                                                <div className=\"not_news\">\n                                                    Начните вводить и мы начнем искать...\n                                                </div>\n                                            </div>\n                                            :\n                                            result.length === 0 ?\n                                                <div className=\"feed-wrapper\">\n                                                    <div className=\"not_news\">\n                                                        К сожалению показать нечего 🙁\n                                                    </div>\n                                                </div>\n                                                :\n\n                                                <div className=\"feed-wrapper\">\n                                                    {result.map(data =>\n                                                        <div key={data?.ID}  className=\"feed-wrapper-item\">\n                                                            {/*<div className=\"feed-item-title\">*/}\n                                                            {/*    <div className=\"wrapper-flex-start\">{data?.title}</div>*/}\n                                                            {/*    <div key=\"mamdmkamasdasd\" className=\"author-name wrapper-flex-end unselectable\" onClick={(e) => {*/}\n                                                            {/*        e.preventDefault();*/}\n                                                            {/*        window.open('https://github.com/' + data?.user, \"_blank\");*/}\n                                                            {/*    }}>*/}\n                                                            {/*        {data?.user}*/}\n                                                            {/*    </div>*/}\n                                                            {/*</div>*/}\n\n                                                            <div className=\"feed-item-value\" >\n                                                                <div key=\"asldk\" className=\"wrapper-data\">\n                                                                    <div key=\"aksdlkasd\"  className=\"photo-wrapper\">\n                                                                        <img key=\"asdmmmmasd\" src={data?.photo} alt={data?.id} onClick={(e) => {\n                                                                            e.preventDefault();\n                                                                            window.location.href = `/user?id=${data?.uid}`\n                                                                        }} />\n                                                                    </div>\n                                                                    <div className=\"value-post\">\n                                                                        <div className=\"feed-item-title\">\n                                                                            <div className=\"link-user\" onClick={(e) => {\n                                                                                e.preventDefault();\n                                                                                window.location.href = `/user?id=${data?.uid}`\n                                                                            }}>\n                                                                                {data?.user}\n                                                                            </div>\n                                                                            <div className=\"feed-item-datetime\">\n                                                                                {this.unixToDateTime(data?.date_time)}\n                                                                            </div>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                                <div key=\"asldkasd\" className=\"wrapper-data\">\n                                                                    {/*<div key=\"aksdlkasdasd\"  className=\"photo-wrapper\">*/}\n\n                                                                    {/*</div>*/}\n                                                                    <ReactMarkdown className=\"value-post\" remarkPlugins={[gfm]} components={this.components} onClick={(e) => {\n                                                                        e.preventDefault();\n                                                                        window.location.href = `/post?uuid=${data?.ID}`\n                                                                    }}>\n                                                                        {data?.value?.substring(0, 200) + \"...\"}\n                                                                    </ReactMarkdown>\n                                                                </div>\n                                                            </div>\n                                                            <div className=\"wrapper-bottom\">\n                                                                <div className=\"wrapper-flex-start\">\n                                                                    <div className=\"button-default\" onClick={(e) => {\n                                                                        e.preventDefault();\n                                                                        window.location.href = `/post?uuid=${data?.ID}`\n                                                                    }}>Подробнее</div>\n                                                                </div>\n                                                                <div className=\"like_wrapper wrapper-flex-end\">\n                                                                    <div className=\"like\">\n                                                                        <div className=\"like-item\">\n                                                                            <img src={look}  alt=\"like\"/>\n                                                                        </div>\n                                                                        <div className=\"like-item\">\n                                                            <span className=\"like-count\">\n                                                                {data?.look_count}\n                                                            </span>\n                                                                        </div>\n                                                                    </div>\n                                                                    <div className=\"like\">\n                                                                        <div className=\"like-item\" onClick={() => this.like(data?.ID)}>\n                                                                            <img src={like}  alt=\"like\"/>\n                                                                        </div>\n                                                                        <div className=\"like-item\">\n                                                            <span className=\"like-count\" id={data?.ID}>\n                                                                {data?.count_like}\n                                                            </span>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    )}\n                                                </div>\n                            }\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        );\n    }\n}\n\nexport default Feed;\n"]},"metadata":{},"sourceType":"module"}