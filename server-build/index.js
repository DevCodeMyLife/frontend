(()=>{"use strict";var e={344:e=>{e.exports=require("remark-gfm")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",(()=>{require("css-ssr");const e=require("path");var t=n.n(e);const a=require("fs");var r=n.n(a);const o=require("react");var l=n.n(o);const i=require("request");var c=n.n(i);const s=require("express");var u=n.n(s);const d=require("react-dom/server");var m=n.n(d);const f=require("redux"),p=require("navi"),v=require("react-navi"),h=require("react-toastify"),g=require("react-navi-helmet-async");var y=n.n(g);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function N(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}const k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(a);if(r){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return N(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={store:t.props.store,load:t.props.load,showSettings:!1},t}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.state.store.getState();return l().createElement("header",{className:"head"},l().createElement("div",{className:"rectangle-head"},l().createElement("div",{className:"wrapper-logo unselectable"},l().createElement("div",{className:"place-logo wrapper-inline-block",onClick:function(e){e.preventDefault(),t.auth.user.isAuth?window.location.href="/feeds":window.location.href="/"}},"[ DevCodeMyLife ]")),l().createElement("div",{className:"wrapper-user"},t.auth.user.isAuth?l().createElement("div",{className:"balance-block"},l().createElement("div",{className:"balance-place"},l().createElement(v.Link,{href:"/balance"},l().createElement("span",{className:"balance-count"},parseInt(t.auth.user.data.balance).toLocaleString("ru")," tokens")))):null,l().createElement("div",{className:"wrapper-auth"},this.state.load?t.auth.user.isAuth?l().createElement("div",{className:"wrapper-auth-photo",style:this.state.showSettings?{background:"#3890FC"}:{}},l().createElement("img",{src:t.auth.user.data.avatar_url,alt:t.auth.user.data.login,onClick:function(){e.setState((function(e){return{showSettings:!e.showSettings}}))}})):null:l().createElement("div",{className:"loader-small"})),this.state.showSettings?l().createElement("div",{className:"settings-user",onMouseLeave:function(){e.setState((function(e){return{showSettings:!e.showSettings}}))},onClick:function(){e.setState((function(e){return{showSettings:!e.showSettings}}))}},l().createElement(v.Link,{href:"/user/".concat(t.auth.user.data.id)},l().createElement("div",{className:"settings-user-item"},t.auth.user.data.login," ",l().createElement("span",{style:{fontSize:"12px",color:"#585858"}}," - –≠—Ç–æ –í—ã"))),l().createElement("div",{className:"nav-hidden"},l().createElement("div",{className:"separator"},l().createElement("div",{className:"line-separator"})),l().createElement("div",{className:"settings-user-item",onClick:function(){window.location.href="http://".concat(window.location.host,"/people")}},"–õ—é–¥–∏"),l().createElement("div",{className:"settings-user-item",onClick:function(){window.location.href="http://".concat(window.location.host,"/feeds")}},"–ù–æ–≤–æ—Å—Ç–∏"),l().createElement("div",{className:"settings-user-item",onClick:function(){window.location.href="http://".concat(window.location.host,"/messages")}},"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"),l().createElement("div",{className:"settings-user-item",onClick:function(){window.location.href="http://".concat(window.location.host,"/notification")}},"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")),l().createElement(v.Link,{href:"/settings"},l().createElement("div",{className:"settings-user-item"},"–ù–∞—Å—Ç—Ä–æ–π–∫–∏")),l().createElement("div",{className:"separator"},l().createElement("div",{className:"line-separator"})),l().createElement("div",{className:"settings-user-item",onClick:function(){window.location.href="http://".concat(window.location.host,"/api/logout")}},"–í—ã–π—Ç–∏")):null)),l().createElement("div",{className:"to-top",id:"to_top",onClick:function(){(document.body.scrollTop||window.pageYOffset)>0&&window.scroll(0,0)}},"–ù–∞–≤–µ—Ä—Ö"))}}])&&w(t.prototype,n),i}(o.Component),S=require("react-syntax-highlighter"),O=n.p+"35e6cee5f41f0294f984b4cc2f8a1174.png",C=n.p+"50e8973e803d2efc1cf09498dd5a3119.png",T=n.p+"cc24d62affa1ec8b07cef83739b6cab3.png",P=(n.p,n.p+"b4e7f147d68cb47f2ed9911c9319c536.png");function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}var j=["node","inline","className","children"];function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},L.apply(this,arguments)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function B(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(a);if(r){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),F(M(t=o.call(this,e)),"popular",l().createRef()),F(M(t),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),F(M(t),"handleKeyPress",(function(e){t.setState({isLoaded:"load"});var n=e.target.value;n.length>0?fetch("api/search?"+new URLSearchParams({query:n}),{method:"GET"}).then((function(e){return e.json()})).then((function(e){null!==e.data?t.setState({isLoaded:"access",result:e.data.sort((function(e,t){return e.count_like>t.count_like?-1:1}))}):t.setState({result:null,isLoaded:"access"})})).catch((function(e){t.setState({isLoaded:"error",result:{}})})):fetch("api/feed",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:"access",result:e.data})})).catch((function(e){t.setState({isLoaded:"error",result:{}})}))})),F(M(t),"handleClickTag",(function(e){var n,a=D(document.getElementById("tags-wrapper-all-tags").children);try{for(a.s();!(n=a.n()).done;)n.value.classList.remove("button-select-tag")}catch(e){a.e(e)}finally{a.f()}var r,o=D(document.getElementById("tags-wrapper-default").children);try{for(o.s();!(r=o.n()).done;)r.value.classList.remove("button-select-tag")}catch(e){o.e(e)}finally{o.f()}var l,i=D(e.target.parentNode.children);try{for(i.s();!(l=i.n()).done;)l.value.classList.remove("button-select-tag")}catch(e){i.e(e)}finally{i.f()}t.setState({isLoaded:"load"}),e.target.classList.add("button-select-tag");var c=e.target.getAttribute("action");"top"===c?fetch("api/feed/top",{method:"GET"}).then((function(e){return e.json()})).then((function(e){0===e.status.code&&null!=e.data?t.setState({isLoaded:"access",result:e.data}):t.setState({isLoaded:"access",result:[]})})).catch((function(e){t.setState({isLoaded:"error",result:{}})})):"all"===c?fetch("api/feed",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:"access",result:e.data.sort((function(e,t){return e.date_time>t.date_time?-1:1}))})})).catch((function(e){t.setState({isLoaded:"error",result:{}})})):fetch("api/feed?params=".concat(c),{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:"access",result:e.data})})).catch((function(e){t.setState({isLoaded:"error",result:{}})}))})),F(M(t),"handlerFocus",(function(e){var n,a=D(document.getElementById("tags-wrapper-all-tags").children);try{for(a.s();!(n=a.n()).done;)n.value.classList.remove("button-select-tag")}catch(e){a.e(e)}finally{a.f()}var r,o=D(document.getElementById("tags-wrapper-default").children);try{for(o.s();!(r=o.n()).done;)r.value.classList.remove("button-select-tag")}catch(e){o.e(e)}finally{o.f()}var l,i=D(e.target.parentNode.children);try{for(i.s();!(l=i.n()).done;)l.value.classList.remove("button-select-tag")}catch(e){i.e(e)}finally{i.f()}t.setState({isLoaded:"OnFocusSearch"})})),F(M(t),"handlerBlur",(function(e){0===e.target.value.length&&(fetch("api/feed/top",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({isLoaded:"access",result:e.data})})).catch((function(e){t.setState({isLoaded:"error",result:{}})})),t.popular.current.classList.add("button-select-tag"),t.setState({isLoaded:"access"}))})),F(M(t),"handleHoverOn",(function(e){var t=e.target.querySelector(".descriptions-button");t?t.classList.add("fade-in"):document.querySelector(".descriptions-button").classList.remove("fade-in")})),F(M(t),"handleHoverOff",(function(e){var t=e.target.querySelector(".descriptions-button");t&&t.classList.remove("fade-in"),document.querySelector(".descriptions-button").classList.remove("fade-in")})),F(M(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,j),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.PrismAsync,L({style,wrapLongLines:!1,language:o[1],showLineNumbers:!1,PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",L({className:n},r),a)}}),t.state={error:null,isLoaded:"load",result:[],data:null,currentDateTime:(new Date).getTime(),tags:[],isDark:"light",store:t.props.store,likeType:{}},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,n=[{key:"like",value:function(e){var t=this,n={feeds_uuid:e};fetch("api/like",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(n){0===n.status.code&&(document.getElementById(e).innerHTML=n.data.count,t.state.likeType[e]=!t.state.likeType[e],t.setState({likeType:t.state.likeType}))})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){e.getPreferredColorScheme()})),fetch("api/feed/top",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:"access",result:t.data})})).catch((function(t){e.setState({isLoaded:"error",result:{}})})),fetch("api/tags",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({tags:t.data})})).catch((function(t){e.setState({isLoaded:"error",tags:{}})}))}},{key:"unixToDateTime",value:function(e){return new Date(1e3*e).toLocaleString()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoaded,a=t.result,r=t.tags,o=this.state.store.getState();return console.log(r,"asdasdasd"),o.components.settings.feed?l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"wrapper-feed"},l().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},l().createElement("div",null,l().createElement("input",{placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä –∏–º—è –∞–≤—Ç–æ—Ä–∞",onKeyPress:this.handleKeyPress,onFocus:this.handlerFocus,onBlur:this.handlerBlur})),l().createElement("div",{className:"tags-wrapper",id:"tags-wrapper-default"},l().createElement("div",{className:"button-default-tag tags-item unselectable button-select-tag",id:"top",action:"top",onClick:this.handleClickTag,ref:this.popular},"–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ"),l().createElement("div",{className:"button-default-tag tags-item unselectable",action:"all",onClick:this.handleClickTag},"–ù–æ–≤—ã–µ"))),"load"===n?l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})):"error"===n?l().createElement("div",null,l().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–Ω–µ–µ.")):"OnFocusSearch"===n?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):null===a?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ—á–µ–≥–æ üôÅ")):l().createElement("div",{className:"feed-wrapper"},a.map((function(t){var n;return l().createElement("div",{key:null==t?void 0:t.ID,className:"feed-wrapper-item"},l().createElement(v.Link,{style:{textDecoration:"none"},href:"/post/".concat(null==t?void 0:t.ID)},""!==(null==t?void 0:t.cover_path)?l().createElement("img",{className:"cover-feed",src:t.cover_path,alt:t.title}):null,l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement(v.Link,{href:"/user/".concat(null==t?void 0:t.uid)},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==t?void 0:t.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{key:"asdmmmmasd",src:null==t?void 0:t.photo,alt:null==t?void 0:t.id}))),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==t?void 0:t.uid)},l().createElement("div",{className:"link-user"},null==t?void 0:t.user)),l().createElement("div",{className:"feed-item-datetime"},e.unixToDateTime(null==t?void 0:t.date_time))))),l().createElement("div",{key:"asldkasd",className:"wrapper-data"},l().createElement("div",{className:"title-feed"},null==t?void 0:t.title)))),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"like_wrapper wrapper-flex-start"},l().createElement("div",{className:"like",onClick:function(){return e.like(null==t?void 0:t.ID)}},l().createElement("div",{className:"like-item"},"light"===e.state.isDark?l().createElement("img",{src:O,alt:"like"}):l().createElement("img",{src:P,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count",id:null==t?void 0:t.ID},null==t?void 0:t.count_like))),l().createElement("div",{className:"like"},l().createElement("div",{className:"like-item"},"light"===e.state.isDark?l().createElement("img",{src:C,alt:"like"}):l().createElement("img",{src:T,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count"},null==t?void 0:t.look_count)))),l().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=t&&t.tag?null===(n=t.tag)||void 0===n?void 0:n.map((function(e){return l().createElement("div",{className:"default-tag tags-item unselectable",style:{background:"".concat(null==e?void 0:e.color,"17")}},l().createElement("span",{style:{color:null==e?void 0:e.color}},null==e?void 0:e.value))})):null)))}))))),l().createElement("div",{className:"tags-view"},l().createElement("div",{className:"title-box"},"–¢–µ–≥–∏"),l().createElement("div",{className:"tags-box",id:"tags-wrapper-all-tags"},r.length<0?null==r?void 0:r.map((function(t){return l().createElement("div",{className:"button-default-tag tags-item unselectable",style:{background:"".concat(t.color,"17"),color:t.color},action:t.value,onClick:e.handleClickTag},t.value)})):null),l().createElement("div",{className:"top-my-target"},l().createElement("ins",{className:"mrg-tag",style:{display:"inline-block",textDecoration:"none",width:"240px",height:"400px"},"data-ad-client":"ad-1006790","data-ad-slot":"1006790"})),l().createElement("div",{className:"top-my-target"},l().createElement("div",{id:"yandex_rtb_R-A-1591597-1"})))):l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –ù–æ–≤–æ—Å—Ç–µ–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã."))))}}],n&&I(t.prototype,n),i}(o.Component);const V=H,J=require("react-markdown");var G=n.n(J);const q=require("react-schemaorg"),K=require("react-textarea-autosize");var z=n.n(K);const W=n.p+"d7d64c08a52cb40097f32919e8242152.png";function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}var Y=["node","inline","className","children"];function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q.apply(this,arguments)}function Z(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function ee(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=n(344),oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(a);if(r){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ae(te(t=o.call(this,e)),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),ae(te(t),"handleKeyPress",(function(){document.getElementById("comments_view").scrollTop=document.getElementById("comments_view").scrollHeight})),ae(te(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Y),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,Q({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",Q({className:n},r),a)}}),t.state={name:"React"},t.state={error:null,isLoaded:!1,result:null,mainFeed:null,feed:null,isLoadedFeed:!1,comments:null,counter:0,auth:!1,load:!1,data:null,notFeed:!1,isDark:"light",user:null,uuid:t.props.uuid},t}return t=i,n=[{key:"like",value:function(e){var t={feeds_uuid:e};fetch("/api/like",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&(console.log(t),document.getElementById(e).innerHTML=t.data.count),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"previewClick",value:function(e){var t=document.getElementsByClassName(e)[0];console.log(t),t.classList.toggle("preview_swap")}},{key:"sendComments",value:function(){var e=this,t={value:document.getElementById("text_comments").value,to_uuid:document.getElementById("place_feed").getAttribute("uuid")};""!==t.value&&fetch("/api/comments",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){console.log(t),0===t.status.code&&(e.getFeed(),document.getElementById("text_comments").value=""),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"componentWillMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){e.getPreferredColorScheme()})),fetch("/api/authentication",{method:"POST"}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&t.data.length>0&&e.setState({isLoaded:!0,auth:!0,result:t.data,data:t.data,mainFeed:t.feed,notification_count:t.notification_count,notification:t.notification,token:t.token,messagesCount:t.count_message})})).catch((function(t){console.log(t),e.setState({isLoaded:!1,result:{}})})),this.getFeed()}},{key:"getFeed",value:function(){var e=this,t=this.state.uuid;""===t&&(window.location.href="/feeds");var n="/api/feed/".concat(t,"/").concat(window.localStorage.getItem("finger"));""!==t&&fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&t.data.length>0?e.setState({isLoadedFeed:!0,feed:t.data,comments:t.comments,counter:t.counter,user:t.user,load:!0}):e.setState({isLoadedFeed:!1,feed:t.data,comments:t.comments,counter:t.counter,load:!0,notFeed:!0})})).catch((function(t){console.log(t),e.setState({isLoaded:!1,result:{},load:!0})}))}},{key:"unixToDateTime",value:function(e){return new Date(1e3*e).toLocaleString()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoadedFeed,a=t.feed,r=t.result,o=t.comments,i=t.counter,c=t.user;return l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},n?l().createElement("div",{className:"comments-view",id:"comments_view"},l().createElement("div",{className:"rectangle-back"},l().createElement("div",{className:"button-default wrapper-inline-block",onClick:function(){window.history.go(-1)}},"–ù–∞–∑–∞–¥")),a.map((function(t){var n,a;return l().createElement("div",{className:"place-items",id:"place_feed",uuid:null==t?void 0:t.ID},""!==(null==t?void 0:t.cover_path)?l().createElement("img",{className:"cover-feed",src:t.cover_path,alt:t.title}):null,l().createElement(q.JsonLd,{item:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"DevCodeMyLife",item:"https://devcodemylife.tech"},{"@type":"ListItem",position:2,name:"–í—Å–µ –∑–∞–º–µ—Ç–∫–∏",item:"https://devcodemylife.tech/feed"},{"@type":"ListItem",position:3,name:(null==t?void 0:t.title)||(null==t||null===(n=t.value)||void 0===n?void 0:n.substring(0,30)),item:"https://devcodemylife.tech/post/".concat(null==t?void 0:t.ID)}]}}),l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==t?void 0:t.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{key:"asdmmmmasd",src:null==t?void 0:t.photo,alt:null==t?void 0:t.user,onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==t?void 0:t.uid)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==t?void 0:t.uid)}},null==t?void 0:t.user),l().createElement("div",{className:"feed-item-datetime"},e.unixToDateTime(null==t?void 0:t.date_time))))),l().createElement("h1",{className:"title-feed"},null==t?void 0:t.title),null!=t&&t.video_path?l().createElement("div",{className:"component-new-feed__wrapper-article"},l().createElement("video",{style:{width:"100%",borderRadius:"5px"},controls:!0},l().createElement("source",{src:null==t?void 0:t.video_path}))):null,l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[re],components:e.components},null==t?void 0:t.value))),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"like_wrapper wrapper-flex-start"},l().createElement("div",{className:"like",onClick:function(){return e.like(null==t?void 0:t.ID)}},l().createElement("div",{className:"like-item"},"light"===e.state.isDark?l().createElement("img",{src:O,alt:"like"}):l().createElement("img",{src:P,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count",id:null==t?void 0:t.ID},null==t?void 0:t.count_like))),l().createElement("div",{className:"like"},l().createElement("div",{className:"like-item"},"light"===e.state.isDark?l().createElement("img",{src:C,alt:"like"}):l().createElement("img",{src:T,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count"},i)))),l().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=t&&t.tag?null===(a=t.tag)||void 0===a?void 0:a.map((function(e){return l().createElement("div",{className:"default-tag tags-item unselectable",style:{background:"".concat(null==e?void 0:e.color,"17")}},l().createElement("span",{style:{color:null==e?void 0:e.color}},null==e?void 0:e.value))})):null)),e.state.isLoaded?r.map((function(t){return l().createElement("div",{className:"feed-comments-wrapper-item background-white"},l().createElement("div",{className:"wrapper-comments"},l().createElement("div",{className:"feed-item-value",style:{display:"flex",padding:"10px",borderBottom:"1px solid var(--button_border)",borderRadius:"0px"}},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==t?void 0:t.avatar_url,alt:null==t?void 0:t.login})),l().createElement("div",{className:"value-post placeholder-main-feed"},l().createElement(z(),{className:"feed-textarea",onChange:e.handleChangeTextarea,autoFocus:!1,placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",id:"text_comments",onKeyPress:e.handleKeyPress,minRows:4})),l().createElement("div",{className:"wrapper-flex-end create-feed-wrapper-button"},l().createElement("div",{className:"button-default",style:{height:"15px"},onClick:function(){return e.sendComments()}},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"))),l().createElement("div",{className:"comments-title bottom-line"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),l().createElement("div",{className:"wall-comments"},e.state.comments.length?o.map((function(t){return l().createElement("div",null,l().createElement("div",{className:"feed-item-value"},l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==t?void 0:t.photo,alt:null==t?void 0:t.user,onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==t?void 0:t.user_id)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==t?void 0:t.user_id)}},null==t?void 0:t.user),l().createElement("div",{className:"feed-item-datetime"},e.unixToDateTime(null==t?void 0:t.date_time)))))),l().createElement("div",{className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[re],components:e.components},null==t?void 0:t.value))))})):l().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç."))))})):l().createElement("div",{className:"feed-comments-wrapper-item background-white"},l().createElement("div",{className:"wrapper-comments"},l().createElement("div",{className:"comments-title"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),l().createElement("div",{className:"wall-comments"},e.state.comments.length?o.map((function(t){return l().createElement("div",null,l().createElement("div",{className:"feed-item-value bottom-line"},l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==t?void 0:t.photo,alt:null==t?void 0:t.user})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:e.copyLogin},null==t?void 0:t.user),l().createElement("div",{className:"feed-item-datetime"},e.unixToDateTime(null==t?void 0:t.date_time)))))),l().createElement("div",{className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[re],components:e.components},null==t?void 0:t.value))))})):l().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")))))}))):this.state.notFeed?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ó–∞–º–µ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –ª–∏–±–æ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞."))):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"}))),l().createElement("div",{className:"tags-view"},n?l().createElement("div",{className:"tags-box"},l().createElement("div",{className:"wrapper-data"},l().createElement("div",{className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==c?void 0:c.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{src:null==c?void 0:c.avatar_url,alt:null==c?void 0:c.login,onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==c?void 0:c.id)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==c?void 0:c.id)}},null==c?void 0:c.login)))),null!=c&&c.location?l().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:"," "+(null==c?void 0:c.location)):null,null!=c&&c.company?l().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:"," "+(null==c?void 0:c.company)):null,null!=c&&c.count_feeds?l().createElement("div",{className:"main-place"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤:"," "+(null==c?void 0:c.count_feeds)):null,null!=c&&c.count_tasks?l().createElement("div",{className:"main-place"},"–°–æ–∑–¥–∞–ª –∑–∞–¥–∞—á:"," "+(null==c?void 0:c.count_tasks)):null):null,l().createElement("div",{className:"top-my-target"},l().createElement("script",{async:!0,src:"https://ad.mail.ru/static/ads-async.js"}),l().createElement("ins",{className:"mrg-tag",style:{display:"inline-block",textDecoration:"none",width:"240px",height:"400px"},"data-ad-client":"ad-1006790","data-ad-slot":"1006790"}),l().createElement("script",null,"(MRGtag = window.MRGtag || []).push(",")"))))}}],n&&Z(t.prototype,n),i}(o.Component);const le=oe,ie=require("react-router-dom"),ce=require("centrifuge");var se=n.n(ce);const ue=n.p+"746ec8f0bc97208f903e1a6bfe34c79e.png";function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}const he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(a);if(r){var n=ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={countUsers:0,countNotes:0,countUsersToday:0,loadData:!1},t}return t=i,(n=[{key:"auth",value:function(){var e={login:document.getElementById("auth_login").value,password:document.getElementById("auth_password").value};fetch("/api/auth",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){200===e.status.code?window.location.replace(e.data.location):404===e.status.code?document.getElementById("error_auth").innerHTML="–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å":7182===e.status.code&&(document.getElementById("error_auth").innerHTML="–ê–∫–∫–∞—É–Ω—Ç –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —Å–∞–π—Ç–∞")})).catch((function(e){console.log(e)}))}},{key:"registration",value:function(){var e={login:document.getElementById("registration_login").value,email:document.getElementById("registration_email").value,password:document.getElementById("registration_password").value},t=document.getElementById("registration_two_password").value;e.password===t?fetch("/api/registration",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){200===e.status.code?window.location.replace(e.data.location):3002===e.status.code?document.getElementById("error_registration").innerHTML="–¢–∞–∫–æ–π –ª–æ–≥–∏–Ω –∏–ª–∏ —ç–ª. –ø–æ—á—Ç–∞ —É–∂–µ –µ—Å—Ç—å":3003===e.status.code&&(document.getElementById("error_registration").innerHTML="–ù–µ –≤—Å–µ –ø–æ–ª—è –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã")})).catch((function(e){console.log(e)})):document.getElementById("error_registration").innerHTML="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç"}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/status_platform",{method:"GET"}).then((function(e){return e.json()})).then((function(t){200===t.status.code&&e.setState({countUsers:t.data.count_user_to_day,countNotes:t.data.count_notes,loadData:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"view-status"},l().createElement("div",{className:"wrapper-status"},l().createElement("div",{className:"auth-box-title"},l().createElement("h1",null,"DevCodeMyLIfe")),l().createElement("p",{className:"test-stat"},"–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è.",l().createElement("br",null),"–ó–¥–µ—Å—å –í—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏, –ø–æ–ª–µ–∑–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –¥–ª—è –æ–±—â–µ–Ω–∏—è.",l().createElement("br",null),"–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–∞–º–µ—Ç–∫–∏ —Å –∫–æ–¥–æ–º —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å."))),l().createElement("div",{className:"view-status"},l().createElement("div",{className:"wrapper-status"},l().createElement("div",{className:"auth-box-title"},l().createElement("h2",{className:"title-span-auth"},"–í—Ö–æ–¥ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã")),l().createElement("div",{className:"auths-list"},l().createElement("div",{className:"button-auth github",onClick:function(){window.location.href="https://github.com/login/oauth/authorize?client_id=7262f0da224a3673dee9&redirect_uri=http://devcodemylife.tech/api/oauth/github/redirect&scope=email&state=asiud88as7d&login=devcodemylife&allow_signup=true"}},l().createElement("img",{className:"auth-logo",src:ue,alt:"github"}))))),this.state.loadData?l().createElement("div",{className:"view-status"},l().createElement("div",{className:"wrapper-status"},l().createElement("h3",{className:"auth-box-title"},"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"),l().createElement("div",{className:"auths-list"},l().createElement("p",null,l().createElement("span",{className:"test-stat"},"–°–æ–±—ã—Ç–∏–π —Å–µ–≥–æ–¥–Ω—è:")," ",l().createElement("span",{className:"green"},this.state.countUsers),l().createElement("br",null),l().createElement("span",{className:"test-stat"},"–°–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –≤—Å–µ–≥–æ:")," ",l().createElement("span",{className:"green"},this.state.countNotes),l().createElement("br",null))))):l().createElement("div",{className:"view-status"},l().createElement("div",{className:"wrapper-status"},l().createElement("div",{className:"auth-view-box",style:{display:"flex",justifyContent:"center",alignItems:"center"}},l().createElement("div",{className:"loader"}))))),l().createElement("div",{className:"auth-box-list"},l().createElement("div",{className:"view-status",style:{paddingLeft:0}},l().createElement("div",{className:"wrapper-status"},l().createElement("h2",{className:"title-span-auth"},"–í—Ö–æ–¥"),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"auth_login"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"auth_password"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("div",{className:"button-general-page",onClick:function(){e.auth()}},"–í–æ–π—Ç–∏")),l().createElement("div",{className:"error-wrapper center red",id:"error_auth"}))),l().createElement("div",{className:"view-status",style:{paddingLeft:0}},l().createElement("div",{className:"wrapper-status"},l().createElement("h2",{className:"title-span-auth"},"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:28,placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"registration_login"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:30,placeholder:"–≠–ª. –ø–æ—á—Ç–∞",type:"text",id:"registration_email"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"registration_password"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",type:"password",id:"registration_two_password"})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("div",{className:"button-general-page",onClick:function(){e.registration()}},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")),l().createElement("div",{className:"error-wrapper center red",id:"error_registration"})))))}}])&&me(t.prototype,n),i}(o.Component),ge=require("react-image-crop");var ye=n.n(ge);const Ee=require("react-select");var we=n.n(Ee);const be=require("react-helmet");require("react-image-crop/dist/ReactCrop.css"),require("prop-types"),n.p,n.p,n.p,n.p,n.p;var Ne=n(344),_e=n.n(Ne);const ke=require("chroma-js");var Se=n.n(ke);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}var Ce=["node","inline","className","children"];function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Te.apply(this,arguments)}function Pe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}function je(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be={indicatorsContainer:function(e){return Ie(Ie({},e),{},{display:"none"})},control:function(e){return Ie(Ie({},e),{},{backgroundColor:"white",border:"none",boxShadow:"none",fontFamily:"system-ui",":hover":Ie(Ie({},e[":active"]),{},{outline:"none",border:"none",cursor:"text"}),":active":Ie(Ie({},e[":active"]),{},{outline:"none",border:"none",cursor:"text"})})},placeholder:function(e){return Ie(Ie({},e),{},{color:"#a9a9a9"})},multiValue:function(e,t){var n=t.data,a=Se()(n.color);return Ie(Ie({},e),{},{backgroundColor:a.alpha(.1).css()})},multiValueLabel:function(e,t){var n=t.data;return Ie(Ie({},e),{},{color:n.color})},multiValueRemove:function(e,t){var n=t.data;return Ie(Ie({},e),{},{color:n.color,":hover":{backgroundColor:n.color,color:"white"}})}},Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(a);if(r){var n=De(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return je(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ae(Le(t=o.call(this,e)),"onClickNewFeed",(function(e){t.setState({clickComponent:!t.state.clickComponent})})),Ae(Le(t),"onClickPrivate",(function(e){t.setState({privatePost:!t.state.privatePost})})),Ae(Le(t),"onChangeTitle",(function(e){e.preventDefault(),t.setState({valueTitle:e.target.value})})),Ae(Le(t),"onChangeValue",(function(e){e.preventDefault(),t.setState({valuePost:e.target.value})})),Ae(Le(t),"onClickPreview",(function(e){t.setState({showPreview:!t.state.showPreview})})),Ae(Le(t),"uploadVideoAction",(function(e){e.preventDefault();var n=new FileReader,a=e.target.files[0];n.readAsDataURL(a);var r=h.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –≤–∏–¥–µ–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),o=new FormData;o.append("data",a),h.toast.update(r,{render:"–í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload/file",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){console.log(e),0===e.status.code?(t.setState({videoUpload:null==e?void 0:e.data[0].url_preview}),h.toast.update(r,{render:"–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):h.toast.update(r,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–¥–µ–æ",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((function(e){t.setState({loadImage:!1}),h.toast.update(r,{render:e,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))})),Ae(Le(t),"uploadCoverAction",(function(e){e.preventDefault();var n=new FileReader,a=e.target.files[0];n.readAsDataURL(a);var r=h.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),o=new FormData;o.append("data",a),o.append("width","1000"),o.append("height","420"),t.cancelCrop(),h.toast.update(r,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload_image",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){console.log(e),0===e.status.code?(t.setState({coverUpload:null==e?void 0:e.data[0].url_preview}),h.toast.update(r,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):h.toast.update(r,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((function(e){t.setState({loadImage:!1}),h.toast.update(r,{render:e,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))})),Ae(Le(t),"updateUseTags",(function(e,n){console.log(e,n),t.setState({useTags:e})})),Ae(Le(t),"isValidNewOption",(function(e,t){return!(e.length>0&&t.length<6)})),t.state={clickComponent:!1,privatePost:!1,valueTitle:null,valuePost:null,showPreview:!1,coverUpload:null,videoUpload:null,useTags:[],aquaticCreatures:[],callNewFeed:!1,callNewSave:!1,rewriteUUID:null,store:t.props.store},t.components={code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Ce),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,Te({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",Te({className:n},r),a)}},t.state.store.subscribe((function(){t.setState(t.state.store.getState());var e=t.state.store.getState();e.feed_rewrite.rewriteMode&&t.setState({rewriteUUID:e.feed_rewrite.rewriteUUID,privatePost:e.feed_rewrite.privatePost,valueTitle:e.feed_rewrite.rewriteTitle,valuePost:e.feed_rewrite.rewriteValue,coverUpload:e.feed_rewrite.coverUpload,videoUpload:e.feed_rewrite.videoUpload,useTags:e.feed_rewrite.useTags})})),t}return t=i,n=[{key:"componentDidMount",value:function(){var e=this;fetch("/api/tags",{method:"GET"}).then((function(e){return e.json()})).then((function(t){for(var n=[],a=0;a<t.data.length;a++){var r={label:t.data[a].value,value:t.data[a].tid,color:t.data[a].color};n.push(r)}e.setState({aquaticCreatures:n})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(t)}));var t=this.state.store.getState();this.setState({privatePost:t.auth.user.data.privat_post})}},{key:"cancelCrop",value:function(){this.setState({crop:{unit:"px",x:130,y:50,width:300,height:300,aspect:1},cropImage:null,showCrop:!1,imageRef:null})}},{key:"uploadClickCover",value:function(){document.getElementById("upload_file_input_cover").click()}},{key:"uploadClickVideo",value:function(){document.getElementById("upload_file_input_video").click()}},{key:"feedNew",value:function(){var e=this,t={title:this.state.valueTitle,value:this.state.valuePost,use_tags:this.state.useTags,cover_path:this.state.coverUpload,video_path:this.state.videoUpload,close:this.state.privatePost};t.value.length>1&&(this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1,callNewFeed:!0}),fetch("/api/feed",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(t){e.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:null==t?void 0:t.notification_count,messagesCount:null==t?void 0:t.count_message,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token}}}),e.cancel(),e.setState({callNewFeed:!1})})).catch((function(t){e.setState({auth:!1,load:!0})}))})).catch((function(e){console.log(e)})))}},{key:"cancel",value:function(){this.state.store.dispatch({type:"ACTION_UPDATE_FEED_REWRITE",value:{rewriteUUID:null,rewriteValue:null,rewriteTitle:null,rewriteMode:!1,privatePost:!1,showPreview:!1,coverUpload:null,useTags:[]}}),this.setState({clickComponent:!1,privatePost:!1,valueTitle:null,valuePost:null,showPreview:!1,coverUpload:null,useTags:[]})}},{key:"rewriteFeed",value:function(e,t,n,a,r,o){var l,i,c,s,u,d;this.cancel();var m=[];if(null!==o)for(var f=0;f<o.length;f++){var p={label:o[f].value,value:o[f].tid};m.push(p)}this.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null===(l=res)||void 0===l?void 0:l.data[0],feeds:null===(i=res)||void 0===i?void 0:i.feed,notificationCount:null===(c=res)||void 0===c?void 0:c.notification_count,messagesCount:null===(s=res)||void 0===s?void 0:s.count_message,notifications:null===(u=res)||void 0===u?void 0:u.notification,token:null===(d=res)||void 0===d?void 0:d.token}}}),this.setState({rewriteUUID:e,rewriteValue:t,rewriteTitle:n,rewriteMode:!0,clicked_new_post:!0,show_textarea:!0,close:a,showPreview:!0,coverUpload:r,useTags:m})}},{key:"saveFeed",value:function(){var e=this,t={title:this.state.valueTitle,value:this.state.valuePost,use_tags:this.state.useTags,cover_path:this.state.coverUpload,video_path:this.state.videoUpload,close:this.state.privatePost};this.setState({callNewSave:!0}),fetch("/api/feed/".concat(this.state.rewriteUUID),{method:"PUT",body:JSON.stringify({value:t.value,close:t.close,title:t.title,use_tags:t.use_tags,cover_path:t.cover_path,video_path:t.video_path})}).then((function(e){return e.json()})).then((function(t){fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(t){e.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:null==t?void 0:t.notification_count,messagesCount:null==t?void 0:t.count_message,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token}}}),e.cancel(),e.setState({callNewSave:!1})})).catch((function(t){e.setState({auth:!1,load:!0})}))})).catch((function(e){console.log(e)}))}},{key:"deleteFeed",value:function(e){var t=this;fetch("/api/feed/".concat(e),{method:"DELETE",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(e){t.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token}}}),t.cancel(),t.setState({callNewFeed:!1})})).catch((function(e){t.setState({auth:!1,load:!0})}))})).catch((function(e){t.setState({auth:!1,load:!0})}))}},{key:"render",value:function(){var e=this,t=this.state.store.getState();return l().createElement(l().Fragment,null,this.state.clickComponent||t.feed_rewrite.rewriteMode?l().createElement("div",{className:"component-new-feed__wrapper_all"},l().createElement("div",{className:"component-new-feed"},l().createElement("input",{type:"file",name:"file",id:"upload_file_input_cover",onChange:function(t){return e.uploadCoverAction(t)},accept:"image/jpeg",style:{display:"none"}}),l().createElement("input",{type:"file",name:"file",id:"upload_file_input_video",onChange:function(t){return e.uploadVideoAction(t)},accept:"video/mp4,video/x-m4v,video/*",style:{display:"none"}}),l().createElement("div",{className:"component-new-feed__place-upload-cover-image"},l().createElement("div",{className:"button-close"},l().createElement("div",{className:"button-default component-new-feed__margin-left",onClick:function(){return e.cancel()}},"–û—Ç–º–µ–Ω–∞")),this.state.coverUpload?l().createElement("img",{src:this.state.coverUpload,style:{cursor:"pointer",maxWidth:"735px",borderRadius:"5px 5px 0 0"},onClick:function(){return e.uploadClickCover()}}):l().createElement("div",{className:"component-new-feed__small-full-text"},l().createElement("span",{className:"upload_click_cover",onClick:function(){return e.uploadClickCover()}},"–ù–∞–∂–º–∏—Ç–µ c—é–¥–∞ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –æ–±–ª–æ–∂–∫—É"),l().createElement("div",{className:"component-new-feed__small-info-text"},l().createElement("span",null,"–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 1000—Ö420 –ø–∏–∫—Å–µ–ª–µ–π")))),l().createElement("div",{className:"component-new-feed__wrapper-article component-new-feed__flex-just-end"},l().createElement("div",{className:"button-upload-any",onClick:function(){return e.uploadClickVideo()}},"–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –≤–∏–¥–µ–æ"),l().createElement("div",{className:"button-default-icon-feed",onClick:this.onClickPrivate},this.state.privatePost?l().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},l().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM36 21c0 0 0-4.9 0-6 0-6.1-4.9-11-11-11-6.1 0-11 4.9-11 11 0 1.1 0 6 0 6"}),l().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"})):l().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},l().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM34.6 13.1c0 0-1.1-3.6-1.3-4.3-1.8-5.8-8-9.1-13.8-7.3-5.8 1.8-9.1 8-7.3 13.8C12.6 16.4 14 21 14 21"}),l().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"})))),this.state.videoUpload?l().createElement("div",{className:"component-new-feed__wrapper-article"},l().createElement("div",{className:"button-close"},l().createElement("div",{className:"button-default component-new-feed__margin-left",onClick:function(){return e.setState({videoUpload:null})}},"—É–¥–∞–ª–∏—Ç—å")),l().createElement("video",{style:{width:"100%",borderRadius:"5px"},controls:!0},l().createElement("source",{src:this.state.videoUpload}))):null,l().createElement("div",{className:"component-new-feed__wrapper-article"},l().createElement("div",{className:"component-new-feed__wrapper-content"},this.state.showPreview?l().createElement(l().Fragment,null,l().createElement("h1",{className:"title-feed"},this.state.valueTitle),l().createElement("div",{className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[_e()],components:this.components},this.state.valuePost))):l().createElement(l().Fragment,null,l().createElement("input",{className:"component-new-feed__input component-new-feed__header",placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫",autoFocus:!0,onChange:this.onChangeTitle,value:this.state.valueTitle}),l().createElement("div",{className:"title-view",style:{paddingBottom:"10px",borderBottom:"1px solid #dcdcdc"}},l().createElement(we(),{options:this.state.aquaticCreatures,isMulti:!0,maxMenuHeight:300,defaultValue:this.state.useTags,onChange:this.updateUseTags,placeholder:"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥–∏",isValidNewOption:this.isValidNewOption,styles:Be})),l().createElement(z(),{className:"component-new-feed__input",placeholder:"–¢–µ–∫—Å—Ç",onChange:this.onChangeValue,value:this.state.valuePost,minRows:5}))))),l().createElement("div",{className:"component-new-feed__wrapper-article-buttons component-new-feed__flex-just-end"},l().createElement("div",{className:"component-new-feed__action-buttons"},l().createElement("div",{className:"button-default component-new-feed__margin-left",onClick:this.onClickPreview},"–ü—Ä–µ–≤—å—é"),this.state.callNewFeed?l().createElement("div",{className:"button-general-page component-new-feed__margin-left"},l().createElement("div",{className:"loader-small"})):t.feed_rewrite.rewriteMode?l().createElement(l().Fragment,null,l().createElement("div",{className:"button-default component-new-feed__margin-left",onClick:function(){e.deleteFeed(e.state.rewriteUUID)}},"–£–¥–∞–ª–∏—Ç—å"),this.state.callNewSave?l().createElement("div",{className:"button-general-page component-new-feed__margin-left"},l().createElement("div",{className:"loader-small"})):l().createElement("div",{className:"button-general-page component-new-feed__margin-left",onClick:function(){return e.saveFeed()}},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")):l().createElement("div",{className:"button-general-page component-new-feed__margin-left",onClick:function(){return e.feedNew()}},"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å")))):l().createElement("div",{className:"component-new-feed__wrapper_all"},l().createElement("div",{className:"component-new-feed"},l().createElement("div",{className:"component-new-feed__wrapper-input"},l().createElement("div",{className:"component-new-feed__wrapper-article"},l().createElement("div",{className:"component-new-feed__wrapper-image"},l().createElement("img",{className:"component-new-feed__wrapper-image-img",src:"https://devcodemylife.tech/api/storage?file_key=6183477ffa1496e2b6c7923a7d2debefc35deb125844087eda043546c2278f0e"})),l().createElement("div",{onClick:this.onClickNewFeed,className:"component-new-feed__input component-new-feed__flex-just-item"},"–ß—Ç–æ —É –í–∞—Å –Ω–æ–≤–æ–≥–æ?"))))))}}],n&&Pe(t.prototype,n),i}(o.Component);const Ue=Me;function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var He=["node","inline","className","children"];function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ve.apply(this,arguments)}function Je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ge(e,t){return Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ge(e,t)}function qe(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(344);var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ze(a);if(r){var n=ze(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qe(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),We(Ke(t=o.call(this,e)),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),We(Ke(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,He),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,Ve({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",Ve({className:n},r),a)}}),We(Ke(t),"handleChangeTextarea",(function(e){""===e.target.value?t.setState({textNews:"..."}):t.setState({textNews:e.target.value})})),We(Ke(t),"handleChangeTitle",(function(e){t.setState({rewriteTitle:e.target.value})})),We(Ke(t),"updateUseTags",(function(e,n){console.log(e,n),t.setState({useTags:e})})),We(Ke(t),"handleChangeInput",(function(e){""===e.target.value?t.setState({heading:"–¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞"}):t.setState({heading:e.target.value})})),We(Ke(t),"newInputText",(function(e){t.setState({clicked_new_post:!0,show_textarea:!0,showPreview:!0})})),We(Ke(t),"getLastVisit",(function(e){return Math.floor(e/60)})),We(Ke(t),"createChat",(function(e){t.setState({clickCreateDialog:!0});var n={to_uid:Number(t.state.id)};fetch("/api/chat",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),0===e.status.code?window.location.href="/messages?cid=".concat(e.data):h.toast.error((null===(t=e.status)||void 0===t?void 0:t.message)+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){h.toast.error(e+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})}))})),We(Ke(t),"onKeyDown",(function(e){if(9===e.keyCode){e.preventDefault();var n=e.target,a=n.selectionStart,r=n.selectionEnd;t.setState((function(e){return{lyrics:e.lyrics.substring(0,a)+"\t"+e.lyrics.substring(r)}}),(function(){t.textAreaRef.current.selectionStart=t.textAreaRef.current.selectionEnd=a+1}))}})),We(Ke(t),"uploading",(function(e){t.setState({file:e.target.files[0]})})),We(Ke(t),"uploadPhotoAction",(function(e){e.preventDefault();var n=new FileReader,a=e.target.files[0];n.onloadend=function(){t.setState({file:a,src:n.result,showCrop:!0})},n.readAsDataURL(a),console.log(a)})),We(Ke(t),"uploadCoverAction",(function(e){e.preventDefault();var n=new FileReader,a=e.target.files[0];n.onloadend=function(){},n.readAsDataURL(a);var r=h.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),o=new FormData;o.append("data",a),o.append("width","1000"),o.append("height","420"),t.cancelCrop(),h.toast.update(r,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload_image",{method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){console.log(e),0===e.status.code?(t.setState({coverUpload:null==e?void 0:e.data[0].url_preview}),h.toast.update(r,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):h.toast.update(r,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((function(e){t.setState({loadImage:!1}),h.toast.update(r,{render:e,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))})),We(Ke(t),"onCropChange",(function(e,n){t.setState({crop:e})})),We(Ke(t),"onCropComplete",(function(e){t.setState({cropImage:e}),console.log(e)})),We(Ke(t),"isValidNewOption",(function(e,t){return!(e.length>0&&t.length<6)})),We(Ke(t),"onImageLoaded",(function(e){t.setState({imageRef:e})})),We(Ke(t),"handleChange",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("ARGS:",t),console.log("CHANGE:")})),t.state={name:"React"},t.state={error:!1,isLoaded:!1,mainFeed:[],showPreview:!1,textNews:"...",heading:"...",prevState:null,clicked_new_post:!1,show_textarea:!1,id:0,data:[],notUser:!1,close:!1,load:!1,rewriteMode:!1,rewriteValue:null,rewriteTitle:null,currentDateTime:(new Date).getTime(),isDark:"light",file:null,imagePreviewUrl:null,store:t.props.store,crop:{unit:"px",x:0,y:0,width:300,height:300,aspect:1},cropCover:{unit:"px",x:0,y:0,width:735,height:200,aspect:3.675},cropImage:null,showCrop:!1,imageRef:null,idPage:t.props.id,loadImage:!1,clickCreateDialog:!1,isCall:!1,coverUpload:null,src_cover:null,imageCropCover:!1,aquaticCreatures:[],useTags:[]},t.state.store.subscribe((function(){t.setState(t.state.store.getState()),t.updateStateUser()})),t}return t=i,n=[{key:"updateStateUser",value:function(){var e=this,t=this.state.store.getState();fetch("/api/user/".concat(t.history.id),{method:"GET"}).then((function(e){return e.json()})).then((function(n){0===n.status.code&&n.data.length>0?e.setState({isLoaded:!0,id:t.history.id,result:n.data,mainFeed:n.feed,notUser:!1}):e.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0})}))}},{key:"deleteFeed",value:function(e){var t=this;fetch("/api/feed/".concat(e),{method:"DELETE",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){var n=t.state.store.getState(),a="/api/user/".concat(n.history.id);fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){0===e.status.code&&e.data.length>0?(t.cancel(),t.setState({isLoaded:!0,id:n.history.id,result:e.data,mainFeed:e.feed,notUser:!1})):t.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((function(e){t.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(e)}))})).catch((function(e){t.setState({auth:!1,load:!0})}))}},{key:"like",value:function(e){var t={feeds_uuid:e};fetch("/api/like",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&(console.log(t),document.getElementById(e).innerHTML=t.data.count)})).catch((function(e){console.log(e)}))}},{key:"previewClick",value:function(){this.setState({showPreview:!this.state.showPreview})}},{key:"rewriteFeed",value:function(e,t,n,a,r,o,l){this.cancel();var i=[];if(null!==o)for(var c=0;c<o.length;c++){var s={label:o[c].value,value:o[c].tid,color:o[c].color};i.push(s)}this.state.store.dispatch({type:"ACTION_UPDATE_FEED_REWRITE",value:{rewriteUUID:e,rewriteValue:t,rewriteTitle:n,rewriteMode:!0,privatePost:a,showPreview:!0,coverUpload:r,videoUpload:l,useTags:i}})}},{key:"componentDidMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=function(t){e.getPreferredColorScheme()};var t=this.state.store.getState(),n="/api/user/".concat(t.history.id);fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(n){0===n.status.code&&n.data.length>0?(e.setState({isLoaded:!0,id:t.history.id,result:n.data,mainFeed:n.feed,notUser:!1}),fetch("/api/tags",{method:"GET"}).then((function(e){return e.json()})).then((function(t){for(var n=[],a=0;a<t.data.length;a++){var r={label:t.data[a].value,value:t.data[a].tid};n.push(r)}e.setState({aquaticCreatures:n})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(t)}))):e.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0})}))}},{key:"cancel",value:function(){this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1,rewriteMode:!1,textNews:"...",coverUpload:null,useTags:[]})}},{key:"saveFeed",value:function(){var e=this,t={title:document.getElementById("text_title").value,value:document.getElementById("text_news").value,use_tags:this.state.useTags,cover_path:this.state.coverUpload,close:this.state.close};this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1,rewriteMode:!1,textNews:"..."}),fetch("/api/feed/".concat(this.state.rewriteUUID),{method:"PUT",body:JSON.stringify({value:t.value,close:t.close,title:t.title,use_tags:t.use_tags,cover_path:t.cover_path})}).then((function(e){return e.json()})).then((function(t){var n=e.state.store.getState(),a="/api/user/".concat(n.history.id);fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&t.data.length>0?e.setState({isLoaded:!0,id:n.history.id,result:t.data,mainFeed:t.feed,notUser:!1}):e.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(t)}))})).catch((function(e){console.log(e)}))}},{key:"feedNew",value:function(){var e=this,t={title:document.getElementById("text_title").value,value:document.getElementById("text_news").value,use_tags:this.state.useTags,cover_path:this.state.coverUpload,close:this.state.close};t.value.length>1&&(this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1}),fetch("/api/feed",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(t){0===t.status.code?e.setState({auth:!0,data:t.data,feed:t.feed,load:!0,token:t.token}):(e.sendLogs(t.status.message),e.delete_cookie("access_token"));var n=e.state.store.getState(),a="/api/user/".concat(n.history.id);fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&t.data.length>0?e.setState({isLoaded:!0,id:n.history.id,result:t.data,mainFeed:t.feed,notUser:!1}):e.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((function(t){e.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(t)}))})).catch((function(t){e.setState({auth:!1,load:!0})}))})).catch((function(e){console.log(e)})))}},{key:"unixToDateTime",value:function(e){return new Date(1e3*e).toLocaleString()}},{key:"uploadClick",value:function(){document.getElementById("upload_file_input").click()}},{key:"uploadClickCover",value:function(){document.getElementById("upload_file_input_cover").click()}},{key:"makeUpload",value:function(){var e=this,t=h.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),n=new FormData,a=Math.floor(this.state.imageRef.naturalWidth/Number(this.state.imageRef.width)),r=Math.floor(this.state.imageRef.naturalHeight/Number(this.state.imageRef.height));console.log(this.state.imageRef.naturalWidth,this.state.imageRef.naturalHeight,this.state.crop.x*a,this.state.crop.y*r);var o=this.state.crop.x*a,l=this.state.crop.y*r,i=this.state.crop.width*a,c=this.state.crop.height*r;console.log(o,l,i,c),n.append("data",this.state.file),n.append("x",o.toString()),n.append("y",l.toString()),n.append("x_",i),n.append("y_",c),this.cancelCrop(),h.toast.update(t,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload_main_photo",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(n){console.log(n),0===n.status.code?(e.setState({imagePreviewUrl:null==n?void 0:n.data[0].url_preview}),h.toast.update(t,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):h.toast.update(t,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((function(n){e.setState({loadImage:!1}),h.toast.update(t,{render:n,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))}},{key:"cancelCrop",value:function(){this.setState({crop:{unit:"px",x:130,y:50,width:300,height:300,aspect:1},cropImage:null,showCrop:!1,imageRef:null})}},{key:"render",value:function(){var e,t,n,a,r,o,i,c,s,u,d,m=this,f=this.state,p=f.isLoaded,h=(f.textNews,f.mainFeed),g=(f.clicked_new_post,this.state.store.getState());return g.components.settings.main_page?l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},this.state.showCrop?l().createElement("div",{className:"pop-up"},l().createElement("div",{className:"center-view"},this.state.loadImage?l().createElement("div",{className:"loader"}):l().createElement("div",null,l().createElement(ye(),{circularCrop:!0,keepSelection:!0,minWidth:300,minHeight:300,src:this.state.src,crop:this.state.crop,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),l().createElement("div",{className:"wrapper-bottom",style:{width:"100%",boxSizing:"border-box",padding:"20px 0"}},l().createElement("div",{className:"wrapper-flex-start"},l().createElement("div",{className:"button-default",onClick:function(){return m.cancelCrop()}},"–û—Ç–º–µ–Ω–∞")),l().createElement("div",{className:"wrapper-flex-end"},l().createElement("div",{className:"button-default",onClick:function(){return m.makeUpload()}},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")))))):null,p?this.state.result[0].is_block?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —Å–∞–π—Ç–∞."))):l().createElement("div",{className:"feed-wrapper"},Number(this.state.id)===g.auth.user.data.id?l().createElement(Ue,{store:this.state.store}):null,(null==h?void 0:h.length)>0?null==h?void 0:h.map((function(e){var t;return l().createElement("div",{key:null==e?void 0:e.ID,className:"feed-wrapper-item"},l().createElement(v.Link,{style:{textDecoration:"none"},href:"/post/".concat(null==e?void 0:e.ID)},""!==(null==e?void 0:e.cover_path)?l().createElement("img",{className:"cover-feed",src:e.cover_path,alt:e.title}):null,l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.uid)},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},g.auth.user.data.id===Number(m.state.id)?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(g.auth.user.data.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}):Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(m.state.result[0].last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user}))),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.uid)},l().createElement("div",{className:"link-user"},null==e?void 0:e.user)),l().createElement("div",{className:"feed-item-datetime"},m.unixToDateTime(null==e?void 0:e.date_time)))),Number(m.state.id)===g.auth.user.data.id?l().createElement("div",{className:"button-default-icon-disable hide-border"},null!=e&&e.close?l().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},l().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM36 21c0 0 0-4.9 0-6 0-6.1-4.9-11-11-11-6.1 0-11 4.9-11 11 0 1.1 0 6 0 6"}),l().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"})):l().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},l().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM34.6 13.1c0 0-1.1-3.6-1.3-4.3-1.8-5.8-8-9.1-13.8-7.3-5.8 1.8-9.1 8-7.3 13.8C12.6 16.4 14 21 14 21"}),l().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"}))):null),l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{className:"title-feed"},null==e?void 0:e.title)))),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"like_wrapper wrapper-flex-start"},l().createElement("div",{className:"like",onClick:function(){return m.like(null==e?void 0:e.ID)}},l().createElement("div",{className:"like-item"},"light"===m.state.isDark?l().createElement("img",{src:O,alt:"like"}):l().createElement("img",{src:P,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count",id:null==e?void 0:e.ID},null==e?void 0:e.count_like))),l().createElement("div",{className:"like"},l().createElement("div",{className:"like-item"},"light"===m.state.isDark?l().createElement("img",{src:C,alt:"like"}):l().createElement("img",{src:T,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count"},null==e?void 0:e.look_count))),Number(m.state.id)===g.auth.user.data.id?l().createElement("div",{className:"like",onClick:function(){m.rewriteFeed(null==e?void 0:e.ID,null==e?void 0:e.value,null==e?void 0:e.title,null==e?void 0:e.close,e.cover_path,e.tag,e.video_path)}},l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count"},"–ò–∑–º–µ–Ω–∏—Ç—å"))):null),l().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=e&&e.tag?null===(t=e.tag)||void 0===t?void 0:t.map((function(e){return l().createElement("div",{className:"default-tag tags-item unselectable",style:{background:"".concat(null==e?void 0:e.color,"17")}},l().createElement("span",{style:{color:null==e?void 0:e.color}},null==e?void 0:e.value))})):null)))})):Number(this.state.id)===g.auth.user.data.id?l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –ø–æ–ª–µ–∑–Ω–æ–µ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –∏–ª–∏ –¥–ª—è —Å–µ–±—è.")):l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},this.state.result[0].login," –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª."))):this.state.notUser&&g.auth.user.isAuth?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–¢–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"))):g.auth.user.isAuth?l().createElement("div",{className:"feed-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},l().createElement("div",{className:"loader"})):l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.")))),l().createElement("div",{className:"tags-view"},p?l().createElement("div",{className:"tags-box"},l().createElement("div",{className:"main-place-photo-column "},l().createElement("input",{type:"file",name:"file",id:"upload_file_input",onChange:function(e){return m.uploadPhotoAction(e)},accept:"image/x-png,image/jpeg",style:{display:"none"}}),Number(this.state.id)===g.auth.user.data.id?this.state.imagePreviewUrl?l().createElement("img",{src:this.state.imagePreviewUrl,alt:g.auth.user.data.login,onClick:function(){return m.uploadClick()},style:{cursor:"pointer"}}):l().createElement("img",{src:g.auth.user.data.avatar_url,alt:g.auth.user.data.login,onClick:function(){return m.uploadClick()},style:{cursor:"pointer"}}):l().createElement("img",{src:this.state.result[0].avatar_url,alt:this.state.result[0].login,style:{cursor:"default"}})),l().createElement("div",{className:"main-place-info-column "},l().createElement("div",{className:"main-place date_active"},g.auth.user.data.id===Number(this.state.id)?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(g.auth.user.data.last_active_at).getTime()/1e3)>120?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(g.auth.user.data.last_active_at).getTime()/1e3)>60?l().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",new Date(g.auth.user.data.last_active_at).toLocaleString()):l().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",this.getLastVisit(Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(g.auth.user.data.last_active_at).getTime()/1e3))," –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥."):l().createElement("span",{className:"info_status"},"–°–µ–π—á–∞—Å –Ω–∞ —Å–∞–π—Ç–µ"):Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3)>120?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3)>60?l().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",new Date(this.state.result[0].last_active_at).toLocaleString()):l().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",this.getLastVisit(Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3))," –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥."):l().createElement("span",{className:"info_status"},"–°–µ–π—á–∞—Å –Ω–∞ —Å–∞–π—Ç–µ")),l().createElement(be.Helmet,null,g.auth.user.data.id===Number(this.state.id)?l().createElement("title",null,g.auth.user.data.login," | DevCodeMyLife"):l().createElement("title",null,this.state.result[0].login," | DevCodeMyLife")),l().createElement("div",{className:"main-place name"},g.auth.user.data.id===Number(this.state.id)?null!==(e=g.auth.user.data)&&void 0!==e&&e.name?" "+g.auth.user.data.name+" "+g.auth.user.data.last_name:" "+g.auth.user.data.login:null!==(t=this.state.result[0])&&void 0!==t&&t.name?" "+this.state.result[0].name+" "+this.state.result[0].last_name:" "+this.state.result[0].login),l().createElement("div",{className:"main-place"},"Email:",Number(this.state.id)===g.auth.user.data.id?null!==(n=g.auth.user.data)&&void 0!==n&&n.email?" "+g.auth.user.data.email:" –Ω–µ—Ç":" –°–∫—Ä—ã—Ç –ª–∏–±–æ –Ω–µ –∑–∞–¥–∞–Ω"),l().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:",Number(this.state.id)===g.auth.user.data.id?null!==(a=g.auth.user.data)&&void 0!==a&&a.company?" "+g.auth.user.data.company:" –Ω–µ—Ç":null!==(r=this.state.result[0])&&void 0!==r&&r.company?" "+this.state.result[0].company:" –Ω–µ—Ç"),l().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:",Number(this.state.id)===g.auth.user.data.id?null!==(o=g.auth.user.data)&&void 0!==o&&o.location?" "+g.auth.user.data.location:" –Ω–µ—Ç":null!==(i=this.state.result[0])&&void 0!==i&&i.location?" "+this.state.result[0].location:" –Ω–µ—Ç"),l().createElement("div",{className:"main-place"},"–ü—Ä–æ—Ñ–∏–ª—å GitHub:",Number(this.state.id)===g.auth.user.data.id?null!==(c=g.auth.user.data)&&void 0!==c&&c.html_url?l().createElement("a",{className:"link_github",target:"_blank",href:g.auth.user.data.html_url,rel:"noreferrer"}," ",g.auth.user.data.login):" –Ω–µ—Ç":null!==(s=this.state.result[0])&&void 0!==s&&s.html_url?l().createElement("a",{className:"link_github",target:"_blank",href:this.state.result[0].html_url,rel:"noreferrer"}," ",this.state.result[0].login):" –Ω–µ—Ç"),l().createElement("div",{className:"main-place"},"–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—é–º–µ:",Number(this.state.id)===g.auth.user.data.id?null!==(u=g.auth.user.data)&&void 0!==u&&u.link_summary?l().createElement("a",{className:"link_github",target:"_blank",href:g.auth.user.data.link_summary,rel:"noreferrer"}," ",g.auth.user.data.login):" –Ω–µ—Ç":null!==(d=this.state.result[0])&&void 0!==d&&d.link_summary?l().createElement("a",{className:"link_github",target:"_blank",href:this.state.result[0].link_summary,rel:"noreferrer"}," ",this.state.result[0].login):" –Ω–µ—Ç"),l().createElement("div",{className:"main-place"},Number(this.state.id)!==g.auth.user.data.id?this.state.clickCreateDialog?l().createElement("div",null,l().createElement("div",{className:"loader-small"})):l().createElement("div",{className:"button-default",style:{width:"100%",boxSizing:"border-box"},onClick:this.createChat},"–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"):null))):this.state.notUser&&g.auth.user.isAuth?null:g.auth.user.isAuth?l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader-small"})):null)):l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ—Ñ–∏–ª–µ–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã."))))}}],n&&Je(t.prototype,n),i}(o.Component);const Ye=$e,Qe=n.p+"79f1fc7e559a3564eb15acc95726812e.png",Ze=n.p+"29af39577712532a5c7641f2f9ed71df.png",Xe=n.p+"cc0a5518c9c63592453b39a00d7d261a.mp3";function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}n.p,n.p;var tt=["node","inline","className","children"];function nt(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function at(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){nt(o,a,r,l,i,"next",e)}function i(e){nt(o,a,r,l,i,"throw",e)}l(void 0)}))}}function rt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw o}}}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function lt(){return lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lt.apply(this,arguments)}function it(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ct(e,t){return ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ct(e,t)}function st(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?ut(e):t}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(p,e);var t,n,a,r,o,i,c,s,u,d,m,f=(d=p,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dt(d);if(m){var n=dt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return st(this,e)});function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),mt(ut(t=f.call(this,e)),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),mt(ut(t),"messagesEndRef",l().createRef()),mt(ut(t),"videoMain",l().createRef()),mt(ut(t),"videoPeer",l().createRef()),mt(ut(t),"localStream",null),mt(ut(t),"streamConstraints",{audio:!0,video:!1}),mt(ut(t),"offerOptions",{offerToReceiveAudio:1,offerToReceiveVideo:0}),mt(ut(t),"createMessage",(function(e){t.setState({_createMessage:!0})})),mt(ut(t),"allMessage",(function(e){t.setState({_createMessage:!1}),t.state.cent_channel&&t.state.cid&&(t.state.cent_channel.unsubscribe(),t.state.cent_channel.removeAllListeners()),e&&window.history.pushState({urlPath:"/messages"},"","/messages"),fetch("/api/chat",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var n;0===(null==e||null===(n=e.status)||void 0===n?void 0:n.code)&&t.setState({chats:null==e?void 0:e.data,load:!0,loader:!1})})).catch((function(e){console.log(e)}))})),mt(ut(t),"sendMessageButton",(function(e){var n=t.state.store.getState(),a=ut(t),r={value:document.getElementById("message_chat").value,c_id:t.state.cid},o=document.getElementById("message_chat").value;if(a.clearInput(document.getElementById("message_chat")),r.value.length>0&&r.value.search(/[a-zA-Z–∞-—è–ê-–Ø0-9]/i)>-1){var l={created_at:(new Date).getTime(),c_id:t.state.cid,value:o,avatar_url:n.auth.user.data.avatar_url,uid:n.auth.user.data.id,date_time:Math.round((new Date).getTime()/1e3),login:n.auth.user.data.login};t.state.messages.push(l),t.setState({messages:t.state.messages}),t.scrollToBottom(),fetch("/api/messages",{method:"POST",body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){t.read(t.state.cid),t.scrollToBottom()})).catch((function(e){console.log(e)}))}})),mt(ut(t),"sendMessage",(function(e){var n=t.state.store.getState(),a=ut(t),r={value:e.target.value,c_id:t.state.cid},o=e.target.value;if(t.state.cent_channel&&t.state.cent_channel.publish({input:{typing:n.auth.user.data.login}}).then((function(){}),(function(e){})),13!==e.keyCode&&t.setState({stateCode:e.keyCode}),13===e.keyCode&&16!==t.state.stateCode&&o.length>0){t.setState({stateCode:0});var l={created_at:(new Date).getTime(),c_id:t.state.cid,value:o,avatar_url:n.auth.user.data.avatar_url,uid:n.auth.user.data.id,date_time:Math.round((new Date).getTime()/1e3),login:n.auth.user.data.login};t.state.messages.push(l),t.setState({messages:t.state.messages}),t.scrollToBottom(),e.preventDefault(),a.clearInput(e.target),r.value.length>0&&fetch("/api/messages",{method:"POST",body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){t.read(t.state.cid)})).catch((function(e){console.log(e)}))}})),mt(ut(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,tt),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,lt({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",lt({className:n},r),a)}}),mt(ut(t),"changerPage",(function(){var e=new URLSearchParams(window.location.search).get("cid");e&&(t.setState({cid:e}),t.openDialog(e)),t.allMessage()})),mt(ut(t),"scrollToBottom",(function(){t.messagesEndRef.current.scrollIntoView({behavior:"smooth"})}));var n=window.AudioContext||window.webkitAudioContext;return t.state={cent:null,_createMessage:!1,chats:[],messages:[],dialog:!1,cid:null,cent_channel:null,typing:null,context:new n,audio:new Audio(Xe),loadCent:!1,messagesCount:0,load:!1,data:null,dialogTitle:null,loader:!0,store:t.props.store,openCall:!1,isDark:"light",uidUserPeer:0,am:!1,stateCode:0,lastTimeToLive:null},t.state.store.subscribe((function(){t.setState(t.state.store.getState()),t.updateState()})),t.pc1=null,t.pc2=null,t}return t=p,n=[{key:"unixToDateTime",value:function(e){return new Date(e).toLocaleString()}},{key:"clearInput",value:function(e){e.value=e.value.replace(/[\n\r]/g,""),e.value="",e.style.height="50px"}},{key:"updateState",value:function(){var e=this;if(this.state.dialog){var t="/api/message/".concat(this.state.cid);fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(t){var n;if(0===(null==t||null===(n=t.status)||void 0===n?void 0:n.code)){if(e.setState({messages:t.data.sort((function(e,t){return Math.round(1e3*new Date(e.created_at).getTime())>Math.round(1e3*new Date(t.created_at).getTime())?1:-1})),dialog:!0,cid:e.state.cid,dialogTitle:null==t?void 0:t.title_dialog,linkUser:null==t?void 0:t.id_user,loader:!1}),document.getElementById("chats-list")){var a,r=rt(document.getElementById("chats-list").children);try{for(r.s();!(a=r.n()).done;)a.value.classList.remove("hover-message-dialog")}catch(e){r.e(e)}finally{r.f()}}else setTimeout((function(){if(document.getElementById("chats-list")){var e,t=rt(document.getElementById("chats-list").children);try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("hover-message-dialog")}catch(e){t.e(e)}finally{t.f()}}}),600);var o,l=rt(document.getElementById("chats-list").children);try{for(l.s();!(o=l.n()).done;){var i=o.value;i.getAttribute("id")===e.state.cid&&i.classList.add("hover-message-dialog")}}catch(e){l.e(e)}finally{l.f()}}})).catch((function(e){console.log(e)})),this.allMessage()}}},{key:"openDialog",value:function(e){var t=this,n=this.state.store.getState(),a=this,r="/api/message/".concat(e);window.history.pushState({urlPath:"/messages?cid=".concat(e)},"","/messages?cid=".concat(e));var o=n.centrifuge.object.subscribe(e,function(){var e=at(regeneratorRuntime.mark((function e(t){var r,o,l,i,c,s,u,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.state.messages,(null===(r=t.data)||void 0===r||null===(o=r.input)||void 0===o?void 0:o.typing)!==n.auth.user.data.login&&null!==(c=t.data)&&void 0!==c&&null!==(s=c.input)&&void 0!==s&&s.typing){a.setState({typing:"".concat(null==t||null===(u=t.data)||void 0===u||null===(d=u.input)||void 0===d?void 0:d.typing," –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.")});try{document.getElementById("hide-typing").style.display="block",setTimeout((function(){document.getElementById("hide-typing").style.display="none"}),5e3)}catch(e){console.error(e)}}null!=t&&null!==(l=t.data)&&void 0!==l&&l.login&&((null==t||null===(m=t.data)||void 0===m?void 0:m.login)!==n.auth.user.data.login&&a.state.context.resume().then((function(){a.state.audio.play()})),t.data.uid!==n.auth.user.data.id&&(i.push(null==t?void 0:t.data),a.setState({messages:i}),a.scrollToBottom()));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());this.setState({cent_channel:o}),fetch(r,{method:"GET"}).then((function(e){return e.json()})).then((function(n){var a;if(0===(null==n||null===(a=n.status)||void 0===a?void 0:a.code)){if(t.setState({messages:n.data.sort((function(e,t){return Math.round(1e3*new Date(e.created_at).getTime())>Math.round(1e3*new Date(t.created_at).getTime())?1:-1})),dialog:!0,cid:e,dialogTitle:null==n?void 0:n.title_dialog,linkUser:null==n?void 0:n.id_user,avatar:null==n?void 0:n.avatar,lastTimeToLive:null==n?void 0:n.last_time_to_live,loader:!1,load:!0}),t.scrollToBottom(),document.getElementById("chats-list")){var r,o=rt(document.getElementById("chats-list").children);try{for(o.s();!(r=o.n()).done;)r.value.classList.remove("hover-message-dialog")}catch(e){o.e(e)}finally{o.f()}}else setTimeout((function(){if(document.getElementById("chats-list")){var e,t=rt(document.getElementById("chats-list").children);try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("hover-message-dialog")}catch(e){t.e(e)}finally{t.f()}}}),600);var l,i=rt(document.getElementById("chats-list").children);try{for(i.s();!(l=i.n()).done;){var c=l.value;c.getAttribute("id")===e&&c.classList.add("hover-message-dialog")}}catch(e){i.e(e)}finally{i.f()}}})).catch((function(e){console.log(e)}))}},{key:"read",value:function(e){var t=this,n="/api/message/read/".concat(e);fetch(n,{method:"PUT",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){h.toast.error(e+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),t.setState({auth:!1,load:!0})}))}},{key:"getMediaStream",value:(u=at(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.store.getState(),void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.GetUserMedia;return t?new Promise((function(n,a){t.call(navigator,e,n,a)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),e.next=5,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 5:return this.localStream=e.sent,this.state.store.dispatch({type:"ACTION_SET_STREAM",value:this.localStream}),this.state.am||this.state.cent_channel.publish({type:"ready",uid:this.state.uidUserPeer}).then((function(){}),(function(e){})),e.next=10,this.openCall(t.stream);case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"textToHTML",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{key:"componentDidMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=function(t){e.getPreferredColorScheme()},this.changerPage()}},{key:"start",value:(s=at(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({openCall:!this.state.openCall}),e.next=3,this.getMediaStream();case 3:console.log(this.state.uidUserPeerMainUUID);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"call",value:(c=at(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMediaStream();case 2:fetch("/api/call/".concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){n.state.store.dispatch({type:"ACTION_SET_CALL",value:{status:"–ñ–¥–µ–º –æ—Ç–≤–µ—Ç–∞",state:!0,audio:new Audio,cc:e.data.cc}}),n.state.store.dispatch({type:"ACTION_SET_AM",value:!0})}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"openCall",value:(i=at(regeneratorRuntime.mark((function e(t){var n,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.store.getState(),a=rt(t.getTracks());try{for(a.s();!(r=a.n()).done;)o=r.value,n.webRTC.pc.addTrack(o,t)}catch(e){a.e(e)}finally{a.f()}case 3:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"createOffer",value:(o=at(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,n=this.state.store.getState(),e.prev=2,e.next=5,n.webRTC.pc.createOffer();case 5:return a=e.sent,e.next=8,n.webRTC.pc.setLocalDescription(a);case 8:console.log("create offer",a),this.state.cent_channel.publish({type:"offer",offer:n.webRTC.pc.localDescription,uid:t.state.uidUserPeer}).then((function(){}),(function(e){})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[2,12]])}))),function(){return o.apply(this,arguments)})},{key:"onOffer",value:(r=at(regeneratorRuntime.mark((function e(t){var n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.store.getState(),a=this,e.next=4,n.webRTC.pc.setRemoteDescription(t);case 4:if("stable"===n.webRTC.pc.signalingState){e.next=14;break}return e.next=7,n.webRTC.pc.createAnswer();case 7:return r=e.sent,e.next=10,n.webRTC.pc.setLocalDescription(r);case 10:console.log(n.webRTC.pc.localDescription),this.state.cent_channel.publish({type:"answer",answer:n.webRTC.pc.localDescription,uid:a.state.uidUserPeer}).then((function(){}),(function(e){})),e.next=14;break;case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"convertNewLinesToBr",value:function(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}},{key:"getUserMedia_success",value:function(e){this.videoMain.current.srcObject=new MediaStream(e),this.videoMain.current.play(),this.localStream=e}},{key:"getUserRemote",value:function(e){console.log(e),this.videoPeer.current.srcObject=new MediaStream(e),this.videoPeer.current.play(),this.localStream=e}},{key:"getUserMedia_click",value:(a=at(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(this.streamConstraints);case 2:t=e.sent,this.getUserMedia_success(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"time2TimeAgo",value:function(e){var t=new Date,n=Math.floor(t.getTime()/1e3)-new Date(e).getTime()/1e3;return n>172800?"–ë—ã–ª(–∞) –±–æ–ª—å—à–µ 5 –¥–Ω–µ–π –Ω–∞–∑–∞–¥":n>86400?"–ë—ã–ª(–∞) –≤—á–µ—Ä–∞":n>3600?"–ë—ã–ª(–∞) 5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥":n>1800?"–ë—ã–ª(–∞) –ø–æ–ª—á–∞—Å–∞ –Ω–∞–∑–∞–¥":n>60?"–ë—ã–ª(–∞) "+Math.floor(n/60)+" –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥":n<60?"Online":void 0}},{key:"render",value:function(){var e,t=this,n=this.state.store.getState();return this.state.load?n.components.settings.messenger||"admin"===n.auth.user.scope?l().createElement(l().Fragment,null,l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"wrapper-content-default"},this.state.loader?l().createElement("div",{className:"wrapper-chats-main"},l().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),l().createElement("div",{className:"chats-list"})):0===this.state.chats.length?l().createElement("div",{className:"wrapper-chats-main"},l().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),l().createElement("div",{className:"chats-list"},l().createElement("div",{className:"info-user-chat",style:{color:"var(--font-color)"}},"–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç"))):l().createElement("div",{className:"wrapper-chats-main"},l().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),l().createElement("div",{className:"chats-list",id:"chats-list"},this.state.chats.map((function(e){var n,a;return e.no_read_count?l().createElement("div",{className:"feed-wrapper-item-chat chat-flex-row hover-message-dialog",style:{marginBottom:0},onClick:function(){return t.openDialog(e.c_id)},id:e.c_id},l().createElement("div",{className:"photo-wrapper-chat"},l().createElement("img",{src:e.avatar_url,alt:e.avatar_url})),l().createElement("div",{className:"feed-item-title",style:{padding:"13px"}},l().createElement("span",{className:"test-stat"},e.login),l().createElement("div",{className:"feed-item-datetime"},(null===(n=e.last_message)||void 0===n?void 0:n.substring(0,40))+"..."))):l().createElement("div",{className:"feed-wrapper-item-chat chat-flex-row",style:{marginBottom:0},onClick:function(){return t.openDialog(e.c_id)},id:e.c_id},l().createElement("div",{className:"photo-wrapper-chat"},l().createElement("img",{src:e.avatar_url,alt:e.avatar_url})),l().createElement("div",{className:"feed-item-title",style:{padding:"13px"}},l().createElement("span",{className:"test-stat"},e.login),l().createElement("div",{className:"feed-item-datetime"},(null===(a=e.last_message)||void 0===a?void 0:a.substring(0,40))+"...")))})))),this.state.dialog?l().createElement(l().Fragment,null,l().createElement("div",{className:"wrapper-chat"},l().createElement("div",{className:"messages-control-nav"},l().createElement("div",{className:"messages-control-nav-item"},l().createElement("div",{className:"avatar-wrapper"},l().createElement(v.Link,{href:"/user/".concat(this.state.linkUser)},l().createElement("img",{src:this.state.avatar,alt:this.state.dialogTitle}))),l().createElement("div",{className:"block-title-chat"},l().createElement(v.Link,{href:"/user/".concat(this.state.linkUser)},l().createElement("div",{className:"title-dialog"},this.state.dialogTitle)),l().createElement("div",{className:"feed-item-datetime"},this.time2TimeAgo(this.state.lastTimeToLive))))),l().createElement("div",{className:"wrapper-items",id:"messages",style:{}},null===(e=this.state.messages)||void 0===e?void 0:e.map((function(e){return n.auth.user.data.id===e.uid?l().createElement("div",{className:"message-item flex-end",style:{boxShadow:"none",background:e.read?"none":"var(--not-read-message)"}},l().createElement("div",{className:"wrapper-data",style:{flexDirection:"row",borderRadius:"10px"}},l().createElement(v.Link,{href:"/user/".concat(e.uid)},l().createElement("div",{className:"photo-wrapper"},l().createElement("img",{src:e.avatar_url,alt:e.login}))),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.uid)},l().createElement("div",{className:"link-user"},null==e?void 0:e.login)),l().createElement("div",{className:"feed-item-datetime"},new Date(1e3*Math.round(new Date(e.created_at).getTime()/1e3)).toLocaleString())),l().createElement(G(),{className:"value-post",remarkPlugins:[_e()],components:t.components},e.value),l().createElement("div",{className:"settings-messages"})))):l().createElement("div",{className:"message-item flex-start",style:{background:e.read?"none":"var(--not-read-message)",boxShadow:"none"},onMouseEnter:function(){t.read(e.c_id)}},l().createElement("div",{className:"wrapper-data",style:{flexDirection:"row",borderRadius:"10px"}},l().createElement(v.Link,{href:"/user/".concat(e.uid)},l().createElement("div",{className:"photo-wrapper"},l().createElement("img",{src:e.avatar_url,alt:e.login}))),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.uid)},l().createElement("div",{className:"link-user"},l().createElement("span",{className:"test-stat"},null==e?void 0:e.login))),l().createElement("div",{className:"feed-item-datetime"},new Date(1e3*Math.round(new Date(e.created_at).getTime()/1e3)).toLocaleString())),l().createElement(G(),{className:"value-post",remarkPlugins:[_e()],components:t.components},e.value),l().createElement("div",{className:"settings-messages"}))))})),l().createElement("div",{ref:this.messagesEndRef})),l().createElement("div",{className:"view-typing-text"},l().createElement("div",{className:"typing_user",id:"typing_user"},l().createElement("div",{className:"hide-typing",id:"hide-typing"},l().createElement("div",{className:"image-icon-typing"},l().createElement("img",{src:Ze,alt:"typing"})),l().createElement("div",{className:"typing-text"},this.state.typing))),l().createElement("div",{className:"wrapper-input"},l().createElement(z(),{onKeyDown:this.sendMessage,placeholder:"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",autoFocus:!0,maxRows:15,id:"message_chat",style:{borderRadius:"5px"}}),l().createElement("div",{className:"send-button",onClick:this.sendMessageButton},l().createElement("img",{src:Qe,alt:"send"})))))):l().createElement(l().Fragment,null,l().createElement("div",{className:"wrapper-chat"},l().createElement("div",{className:"info-user-chat"},l().createElement("div",{style:{color:"var(--font-color)"}},"–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–∞—Ç—å—Å—è")))))),l().createElement("div",{className:"tags-view"})):l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –°–æ–æ–±—â–µ–Ω–∏–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã.")))):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"}))}}],n&&it(t.prototype,n),p}(o.Component);const pt=ft;function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gt(e,t){return gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gt(e,t)}function yt(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Et(e)}o.Component;const wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Et(a);if(r){var n=Et(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={callBack:t.props.callBack,enable:t.props.enable},t}return t=i,(n=[{key:"switcher",value:function(){var e;this.setState((function(e){return{enable:!e.enable}})),null===(e=this.state)||void 0===e||e.callBack(this.state.enable)}},{key:"render",value:function(){var e=this;return l().createElement("div",{className:"button-switch",style:this.state.enable?{background:"#38FC93",flexDirection:"row-reverse"}:{background:"#ff8585",flexDirection:"row"}},l().createElement("div",{className:"bobble",onClick:function(){return e.switcher()}}))}}])&&ht(t.prototype,n),i}(o.Component);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _t(e,t){return _t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_t(e,t)}function kt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?St(e):t}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ot(e)}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ot(a);if(r){var n=Ot(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ct(St(t=o.call(this,e)),"changeSettingsTesting",(function(e){var n={testing:!e,privat_post:t.state.store.getState().auth.user.data.privat_post};fetch("/api/settings?flags=switch",{method:"PUT",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.updateState()})).catch((function(e){console.log(e)}))})),Ct(St(t),"changeSettingsPrivat",(function(e){var n={testing:t.state.store.getState().auth.user.data.testing,privat_post:!e};fetch("/api/settings?flags=switch",{method:"PUT",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){t.updateState()})).catch((function(e){console.log(e)}))})),Ct(St(t),"changeSettingsAdminMainPage",(function(e){var n=t.state.store.getState(),a={main_page:!e,feed:n.components.settings.feed,messenger:n.components.settings.messenger};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){t.updateState()})).catch((function(e){console.log(e)}))})),Ct(St(t),"changeSettingsAdminMessengerPage",(function(e){var n=t.state.store.getState(),a={main_page:n.components.settings.messenger,feed:n.components.settings.feed,messenger:!e};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){t.updateState()})).catch((function(e){console.log(e)}))})),Ct(St(t),"changeSettingsAdminFeedPage",(function(e){var n=t.state.store.getState(),a={main_page:n.components.settings.messenger,feed:!e,messenger:n.components.settings.feed};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){t.updateState()})).catch((function(e){console.log(e)}))})),Ct(St(t),"getLastVisit",(function(e){return Math.floor(e/60)})),t.state={privatPost:!1,testing:!1,load:"load",login:null,name:null,lastName:null,email:null,link:null,store:t.props.store,imagePreviewUrl:null,crop:{unit:"px",x:0,y:0,width:300,height:300,aspect:1},cropImage:null,showCrop:!1,imageRef:null},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,(n=[{key:"updateState",value:function(){var e=this;fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){0===(null==t?void 0:t.status.code)&&(e.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:null==t?void 0:t.notification_count,messagesCount:null==t?void 0:t.count_message,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token,error:null}}}),fetch("/api/app/components",{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===(null==t?void 0:t.status.code)&&e.state.store.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:t.data}})})))}))}},{key:"save",value:function(){var e=this,t={login:document.getElementById("login").value,name:document.getElementById("name").value,last_name:document.getElementById("last_name").value,email:document.getElementById("email").value,link:document.getElementById("link").value};fetch("/api/settings",{method:"PUT",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){"0"===t.status.code?(document.getElementById("event_save").style.color="green",document.getElementById("event_save").innerHTML="–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",e.updateState()):(document.getElementById("event_save").style.color="red",document.getElementById("event_save").innerHTML="–í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã")})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/app/components",{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===(null==t?void 0:t.status.code)&&(e.state.store.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:t.data}}),e.setState({load:"complete"}))}))}},{key:"render",value:function(){var e,t=this,n=this.state.store.getState();return l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},n.auth.user.isAuth?"complete"===this.state.load?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,l().createElement("b",null,"–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - ")," –≤–∫–ª—é—á–∏–≤ —Ä–µ–∂–∏–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –í—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —á—Ç–æ –≥–æ—Ç–æ–≤—ã, –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É —á—Ç–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ.")),l().createElement("div",{className:"main-place-wrapper-settings"},l().createElement("div",{className:"block-settings child_settings"},l().createElement("div",{className:"key-settings"},"–ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ"),l().createElement("div",{className:"value-settings"},n.auth.user.data.privat_post?l().createElement(wt,{enable:!0,callBack:function(e){return t.changeSettingsPrivat(e)}}):l().createElement(wt,{enable:!1,callBack:function(e){return t.changeSettingsPrivat(e)}}))),l().createElement("div",{className:"block-settings child_settings"},l().createElement("div",{className:"key-settings"},"–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏"),l().createElement("div",{className:"value-settings"},n.auth.user.data.testing?l().createElement(wt,{enable:!0,callBack:function(e){return t.changeSettingsTesting(e)}}):l().createElement(wt,{enable:!1,callBack:function(e){return t.changeSettingsTesting(e)}})))),l().createElement("div",{className:"main-place-wrapper-settings"},l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"login",defaultValue:n.auth.user.data.login})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–ò–º—è",type:"text",id:"name",defaultValue:n.auth.user.data.name})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–§–∞–º–∏–ª–∏—è",type:"text",id:"last_name",defaultValue:n.auth.user.data.last_name})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:"30",placeholder:"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞",type:"text",id:"email",defaultValue:n.auth.user.data.email})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("input",{className:"input-default",maxLength:"60",placeholder:"–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—é–º–µ",type:"text",id:"link",defaultValue:n.auth.user.data.link_summary})),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement("div",{className:"button-default",onClick:function(){return t.save()}},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")),l().createElement("div",{className:"error-wrapper center",id:"event_save",style:{color:"green"}})),"admin"===n.auth.user.data.scope?l().createElement("div",null,l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,"–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")),l().createElement("div",{className:"main-place-wrapper-settings"},l().createElement("div",{className:"block-settings child_settings"},l().createElement("div",{className:"key-settings"},"messenger"),l().createElement("div",{className:"value-settings"},n.components.settings.messenger?l().createElement(wt,{enable:!0,callBack:function(e){t.changeSettingsAdminMessengerPage(e)}}):l().createElement(wt,{enable:!1,callBack:function(e){t.changeSettingsAdminMessengerPage(e)}}))),l().createElement("div",{className:"block-settings child_settings"},l().createElement("div",{className:"key-settings"},"main_page"),l().createElement("div",{className:"value-settings"},n.components.settings.main_page?l().createElement(wt,{enable:!0,callBack:function(e){t.changeSettingsAdminMainPage(e)}}):l().createElement(wt,{enable:!1,callBack:function(e){t.changeSettingsAdminMainPage(e)}}))),l().createElement("div",{className:"block-settings child_settings"},l().createElement("div",{className:"key-settings"},"feed"),l().createElement("div",{className:"value-settings"},n.components.settings.feed?l().createElement(wt,{enable:!0,callBack:function(e){t.changeSettingsAdminFeedPage(e)}}):l().createElement(wt,{enable:!1,callBack:function(e){t.changeSettingsAdminFeedPage(e)}}))))):null):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})):l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É.")))),l().createElement("div",{className:"tags-view"},n.auth.user.isAuth?"complete"===this.state.load?l().createElement("div",{className:"tags-box"},l().createElement("div",{className:"main-place-photo-column "},l().createElement("img",{src:n.auth.user.data.avatar_url,alt:n.auth.user.data.login,style:{cursor:"default"}})),l().createElement("div",{className:"main-place-info-column "},l().createElement("div",{className:"main-place name"},null!==(e=n.auth.user.data)&&void 0!==e&&e.name?" "+n.auth.user.data.name+" "+n.auth.user.data.last_name:" "+n.auth.user.data.login))):n.auth.user.isAuth?null:l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})):null))}}])&&Nt(t.prototype,n),i}(o.Component);const Pt=Tt,xt=require("react-currency-input-field");var jt=n.n(xt);function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}require("@emotion/react");var Dt=["node","inline","className","children"];function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rt.apply(this,arguments)}function It(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function At(e,t){return At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},At(e,t)}function Bt(e,t){return!t||"object"!==Lt(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=[{value:"0",label:"–õ–µ–≥–∫–æ"},{value:"1",label:"–°—Ä–µ–¥–Ω–µ"},{value:"2",label:"–°–ª–æ–∂–Ω–æ"}],Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"var(--bg-grey)";return{alignItems:"center",display:"flex",color:"var(--font-color)",":before":{backgroundColor:e,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}},qt={control:function(e){return Ht(Ht({},e),{},{backgroundColor:"var(--bg-grey)"})},option:function(e,t){var n=t.data,a=t.isDisabled,r=(t.isFocused,t.isSelected);return Ht(Ht({},e),{},{color:a?"#ccc":r?"white":n.color,cursor:a?"not-allowed":"default"})},input:function(e){return Ht(Ht({},e),Gt())},placeholder:function(e){return Ht(Ht({},e),Gt())},singleValue:function(e,t){var n=t.data;return Ht(Ht({},e),Gt(n.color))}};const Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ut(a);if(r){var n=Ut(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vt(Mt(t=o.call(this,e)),"handleChangeSelect",(function(e){t.setState({selectedOption:e})})),Vt(Mt(t),"cancelTask",(function(){t.setState({mode:null})})),Vt(Mt(t),"createTask",(function(e){t.setState({mode:"create"})})),Vt(Mt(t),"createTaskFull",(function(){var e={title:document.getElementById("title").value,complexity:t.state.selectedOption.value,value:document.getElementById("value").value,price:t.state.price};fetch("api/freelances",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t.cancelTask(),fetch("api/freelances",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({free:e.data,load:"continue"})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})),Vt(Mt(t),"handleChange",(function(e){t.setState({dateNow:e})})),Vt(Mt(t),"updatePrice",(function(e,n){t.setState({price:e})})),Vt(Mt(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Dt),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.PrismAsync,Rt({style,wrapLongLines:!1,language:o[1],showLineNumbers:!1,PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",Rt({className:n},r),a)}}),t.state={mode:null,dateNow:new Date,selectedOption:null,auth:!1,freeSearch:null,load:"load",free:null,price:0},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(t){0===t.status.code?(e.setState({auth:!0}),fetch("api/freelances",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({free:t.data,load:"continue"})})).catch((function(e){console.log(e)}))):e.setState({load:"notAuth"})})).catch((function(e){console.log(e)}))}},{key:"setStartDate",value:function(e){console.log(e)}},{key:"render",value:function(){var e,t,n=this;return l().createElement("div",{className:"content-wall-views"},"notAuth"===this.state.load?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É."))):l().createElement("div",null,l().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,l().createElement("b",null,"–§—Ä–∏–ª–∞–Ω—Å - ")," –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –≤–∑—è—Ç—å –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç—É –ª–∏–±–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏.")),l().createElement("div",null,l().createElement("input",{placeholder:"–ù–∞–π–¥–µ–º —á—Ç–æ –Ω–∏–±—É–¥—å –¥–ª—è –í–∞—Å...",onFocus:function(){n.cancelTask()}})),l().createElement("div",{className:"tags-wrapper"},l().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"all",action:"main"},"–í—Å–µ"),l().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–°–æ–∑–¥–∞–Ω–Ω—ã–µ"),l().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–í –æ–∂–∏–¥–∞–Ω–∏–∏"),l().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–í –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏"),"create"===this.state.mode?null:l().createElement("div",{className:"button-default-tag tags-item unselectable",style:{background:"#4cb463",color:"#fff"},id:"all",action:"create",onClick:this.createTask},"–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É")),"create"===this.state.mode?l().createElement("div",{className:"wrapper-white-default"},l().createElement("div",{className:"auth-box-title"},l().createElement("div",{className:"title-span-auth"},"–ó–∞–¥–∞—á–∞")),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"wrapper-flex-start"},l().createElement("input",{autoFocus:!0,className:"input-default",id:"title",placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫",type:"text"})),l().createElement("div",{className:"wrapper-flex-end-margin"},l().createElement(we(),{id:"complexity",placeholder:"–°–ª–æ–∂–Ω–æ—Å—Ç—å",className:"selected-box",value:this.state.selectedOption,onChange:this.handleChangeSelect,options:Jt,styles:qt}))),l().createElement("div",{className:"wrapper-input fix_wrapper"},l().createElement(z(),{id:"value",minRows:12,placeholder:"–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",style:{borderRadius:"5px"}})),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"wrapper-flex-start"},l().createElement(jt(),{id:"price",className:"input-default",intlConfig:{locale:"ru-RU",currency:"RUB"},name:"price",placeholder:"–°—Ç–æ–∏–º–æ—Å—Ç—å",maxLength:6,defaultValue:0,decimalsLimit:2,onValueChange:function(e,t){return n.updatePrice(e,t)},style:{width:"220px"}})),l().createElement("div",{className:"wrapper-flex-end-margin"},l().createElement("div",{className:"button-default",onClick:function(){n.cancelTask()}},"–û—Ç–º–µ–Ω–∏—Ç—å"),l().createElement("div",{className:"button-default",onClick:this.createTaskFull},"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å")))):null),"load"===this.state.load?l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})):"error"===this.state.load?l().createElement("div",null,l().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–µ–µ.")):"onFocusSearch"===this.state.load?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):"onSearchError"===this.state.load?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üôÅ")):"continueSearch"===this.state.load?l().createElement("div",{className:"feed-wrapper"},null===(e=this.state.freeSearch)||void 0===e?void 0:e.map((function(e){return l().createElement("div",null,e.id)}))):"continue"===this.state.load?l().createElement("div",{className:"feed-wrapper"},null===(t=this.state.free)||void 0===t?void 0:t.map((function(e){return l().createElement(v.Link,{style:{textDecoration:"none"},href:"/task?uuid=".concat(null==e?void 0:e.ID)},l().createElement("div",{key:e.id,className:"task-view"},l().createElement("div",{className:"task-view-flex"},l().createElement("div",{className:"image-user"},l().createElement("img",{className:"image-user-src",src:e.avatar_url,alt:e.login,onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.user_creator_id)}})),l().createElement("div",{className:"info-user"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user"},null==e?void 0:e.title),l().createElement("div",{className:"feed-item-datetime"},(null==e||e.status,l().createElement("span",{style:{color:"green"}},"–û–∂–∏–¥–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"))),l().createElement("div",{className:"feed-item-datetime"},0===(null==e?void 0:e.complexity)?l().createElement("span",{style:{color:"green"}},"–õ–µ–≥–∫–æ"):1===(null==e?void 0:e.complexity)?l().createElement("span",{style:{color:"orange"}},"–°—Ä–µ–¥–Ω–µ"):2===(null==e?void 0:e.complexity)?l().createElement("span",{style:{color:"red"}},"–°–ª–æ–∂–Ω–æ"):l().createElement("span",null,"–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞")))),l().createElement("div",{className:"task-price"},l().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",color:"var(--font-color)"}},"0"===(null==e?void 0:e.price)?"–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ":parseInt(null==e?void 0:e.price).toLocaleString("ru")+" ‚ÇΩ")))))}))):null))}}])&&It(t.prototype,n),i}(o.Component);function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function Yt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}var Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qt(a);if(r){var n=Qt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Yt(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={store:t.props.store},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,n=[{key:"componentDidMount",value:function(){}},{key:"callExecutor",value:function(e,t,n){fetch("/api/task/",{method:"POST",body:JSON.stringify({uuid:e,uid:t,flag:n})}).then((function(e){return e.json()})).then((function(e){e.status.code,console.log(e)})).catch((function(e){console.log(e)}))}},{key:"checkNotification",value:function(e,t){fetch("/api/notification",{method:"PUT",body:JSON.stringify({feeds_uuid:e,addr:t})}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&(window.location.href="/post/".concat(e))})).catch((function(e){console.log(e)}))}},{key:"unixToDateTime",value:function(e){return new Date(1e3*e).toLocaleString()}},{key:"render",value:function(){var e,t,n=this,a=this.state.store.getState();return l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"wrapper-feed"},l().createElement("div",{className:"feed-wrapper"},null!==(e=a.auth.user.notifications)&&void 0!==e&&e.length?null===(t=a.auth.user.notifications)||void 0===t?void 0:t.map((function(e){return null!=e&&e.is_look?null:l().createElement("div",{className:"notifications-item background-white"},l().createElement("div",{className:"info-notification-item feed-item-datetime"},n.unixToDateTime(null==e?void 0:e.date_time)),l().createElement("div",{className:"info-notification-item"},"post"===(null==e?void 0:e.types)?null!=e&&e.user_event_action?l().createElement("div",null,l().createElement("span",{className:"link-user",onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.uwuid)}},null==e?void 0:e.user_event_action),l().createElement("span",null," –ø–æ—Å–º–æ—Ç—Ä–µ–ª –í–∞—à—É –∑–∞–º–µ—Ç–∫—É")):l().createElement("div",null,l().createElement("span",null,"–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–º–æ—Ç—Ä–µ–ª –í–∞—à—É –∑–∞–º–µ—Ç–∫—É")):"comment"===(null==e?void 0:e.types)?l().createElement("div",null,l().createElement("span",{className:"link-user",onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.uwuid)}},null==e?void 0:e.user_event_action),l().createElement("span",null," –æ—Å—Ç–∞–≤–∏–ª –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π")):"task"===(null==e?void 0:e.types)?l().createElement("div",null,l().createElement("span",{className:"link-user",onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.uwuid)}},null==e?void 0:e.user_event_action),l().createElement("span",null," —Ö–æ—á–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å ",l().createElement("a",{target:"_blank",className:"link-user",href:"/task?uuid=".concat(null==e?void 0:e.feeds_uuid)},"–∑–∞–¥–∞—á—É"))):null),"task"===(null==e?void 0:e.types)?l().createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem"}},l().createElement("div",{className:"button-default",onClick:function(){return n.callExecutor(e.feeds_uuid,null==e?void 0:e.uwuid,!0)}},"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"),l().createElement("div",{className:"button-default",onClick:function(){return n.callExecutor(e.feeds_uuid,null==e?void 0:e.uwuid,!1)}},"–û—Ç–¥–∞—Ç—å –≤ —Ä–∞–±–æ—Ç—É")):l().createElement("div",{className:"info-notifications-item"},l().createElement("div",{className:"button-default",onClick:function(){return n.checkNotification(e.feeds_uuid,e.addr)}},"–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–º–µ—Ç–∫–µ")))})):l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ù–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.")))))}}],n&&Wt(t.prototype,n),i}(o.Component);const Xt=Zt;function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nn(e,t){return nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nn(e,t)}function an(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rn(e){return rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rn(e)}const on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rn(a);if(r){var n=rn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return an(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={},t}return t=i,(n=[{key:"render",value:function(){return l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"wrapper-feed"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"main-place-wrapper"},l().createElement("p",null,l().createElement("b",null,"–ö–æ–º–∞–Ω–¥—ã - ")," —ç—Ç–æ —Ä–∞–∑–¥–µ–ª –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é.",l().createElement("br",null),"–†–∞–∑–¥–µ–ª –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.")))))}}])&&tn(t.prototype,n),i}(o.Component),ln=(require("react-toastify/dist/ReactToastify.css"),n.p+"8b248dacb3acbce45404f931369ce1c5.png"),cn=n.p+"bdc6307d8dd351084cc8bf99bad0ddda.png",sn=n.p+"6a2343046af14d5d9b5e0e301cc30aa5.png",un=n.p+"7135f125a809e97a87049ba70d329fe8.png",dn=n.p+"5aef9798d871c0e57497f0c497e0447e.png",mn=n.p+"18b72a5e739da6f8267ece2fbf3fab16.png",fn=(n.p,n.p,n.p,n.p,n.p,n.p,n.p+"9783579635ed18840e8aae5dc8181478.png"),pn=n.p+"b5dd17b28d780074993ccf375a8fed44.png",vn=(n.p,n.p,n.p+"abee6d9efaa8c3e925ef1dca4d3a5d45.png"),hn=n.p+"a2c0b65ceb85628b1120ef8e45b9b603.png",gn=n.p+"d1a95ac5340727dcdf5ab03362785e55.png",yn=n.p+"ed17ec51f4947f65d140dd82d30e2754.png",En=n.p+"955f997bd5de03e787cabb5f17d1b9ca.png",wn=n.p+"051dd92f34fcd71aeb8550c71252f47f.png";function bn(e){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _n(e,t){return _n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_n(e,t)}function kn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?Sn(e):t}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=On(a);if(r){var n=On(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kn(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Cn(Sn(t=o.call(this,e)),"updateHistory",(function(e){t.state.store.dispatch({type:"ACTION_UPDATE_HISTORY",value:{path:null,id:e}})})),Cn(Sn(t),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),t.state={load:!1,isDark:"light",store:t.props.store},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=function(t){e.getPreferredColorScheme()},this.setState({load:!0})}},{key:"render",value:function(){var e=this.state.store.getState();return e.auth.user.isAuth?l().createElement("div",{className:"wrapper-vertical-nav"},this.state.load?l().createElement("div",null,l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/user/".concat(e.auth.user.data.id)},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:un,alt:"–í–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞"}):l().createElement("img",{src:wn,alt:"–í–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞"})),l().createElement("div",{className:"nav-value"},"–ú–æ—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"))),l().createElement("div",{className:"nav-item"},e.auth.user.messagesCount?l().createElement("div",{className:"counter-notification",id:"counter_notification",path:"/messages"},e.auth.user.messagesCount>10?"10+":e.auth.user.messagesCount):null,l().createElement(v.Link,{className:"nav-value",href:"/messages"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:dn,alt:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"}):l().createElement("img",{src:mn,alt:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"})),l().createElement("div",{className:"nav-value"},"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"))),l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/feeds"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:ln,alt:"–õ–µ–Ω—Ç–∞"}):l().createElement("img",{src:cn,alt:"–õ–µ–Ω—Ç–∞"})),l().createElement("div",{className:"nav-value"},"–õ–µ–Ω—Ç–∞"))),l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/people"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:vn,alt:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"}):l().createElement("img",{src:hn,alt:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"})),l().createElement("div",{className:"nav-value"},"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"))),l().createElement("div",{className:"nav-item"},e.auth.user.notificationCount?l().createElement("div",{className:"counter-notification",id:"counter_notification",path:"/notification"},e.auth.user.notificationCount>10?"10+":e.auth.user.notificationCount):null,l().createElement(v.Link,{className:"nav-value",href:"/notification"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:gn,alt:"–°–æ–±—ã—Ç–∏—è"}):l().createElement("img",{src:yn,alt:"–°–æ–±—ã—Ç–∏—è"})),l().createElement("div",{className:"nav-value"},"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"))),e.auth.user.data.testing?l().createElement("div",null,l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/freelances"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:W,alt:"–ó–∞–¥–∞—á–∏"}):l().createElement("img",{src:sn,alt:"–ó–∞–¥–∞—á–∏"})),l().createElement("div",{className:"nav-value"},"–§—Ä–∏–ª–∞–Ω—Å"))),l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/market"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:fn,alt:"–ú–∞–≥–∞–∑–∏–Ω"}):l().createElement("img",{src:pn,alt:"–ú–∞–≥–∞–∑–∏–Ω"})),l().createElement("div",{className:"nav-value"},"–ú–∞–≥–∞–∑–∏–Ω")))):null):l().createElement("div",{className:"loader-flex"},l().createElement("div",{className:"loader-small"}))):"/"!==window.location.pathname?l().createElement("div",{className:"wrapper-vertical-nav"},this.state.load?l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/"},l().createElement("div",{className:"icon-image"},l().createElement("img",{src:En,alt:"messages"})),l().createElement("div",{className:"nav-value"},"–í–æ–π—Ç–∏"))):l().createElement("div",{className:"loader-flex"},l().createElement("div",{className:"loader-small"}))):"/"===window.location.pathname?l().createElement("div",{className:"wrapper-vertical-nav"},l().createElement("div",{className:"nav-item"},l().createElement(v.Link,{className:"nav-value",href:"/feeds"},l().createElement("div",{className:"icon-image"},"light"===this.state.isDark?l().createElement("img",{src:ln,alt:"–ó–∞–º–µ—Ç–∫–∏"}):l().createElement("img",{src:cn,alt:"–ó–∞–º–µ—Ç–∫–∏"})),l().createElement("div",{className:"nav-value"},"–ù–æ–≤–æ—Å—Ç–∏")))):null}}])&&Nn(t.prototype,n),i}(o.Component);function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function xn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function jn(e,t){return jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jn(e,t)}function Ln(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dn(e){return Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dn(e)}const Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dn(a);if(r){var n=Dn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ln(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={},t}return t=i,(n=[{key:"render",value:function(){return l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"block-preview-main"},l().createElement("div",{className:"image-main-developer"},l().createElement("img",{className:"main-developer-photos",src:"https://avatars.githubusercontent.com/u/29627450?v=4",alt:"–ê–Ω–¥—Ä–µ–π –®–º–µ–ª–µ–≤-–®–∞–º–ø–∞–Ω–æ–≤"})),l().createElement("div",{className:"message-info"},l().createElement("p",null,"–ü—Ä–∏–≤–µ—Ç –∏ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –∫ –Ω–∞–º."),l().createElement("div",{className:"m-small-bobble"}),l().createElement("div",{className:"s-small-bobble"})))))}}])&&xn(t.prototype,n),i}(o.Component);function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function An(e){return function(e){if(Array.isArray(e))return Bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Mn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Un(e,t){return Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Un(e,t)}function Fn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?Hn(e):t}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vn(e)}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.p;var Gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vn(a);if(r){var n=Vn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fn(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Jn(Hn(t=o.call(this,e)),"allUsers",(function(e){document.getElementById("search_users").value="",e.target.classList.add("button-select"),fetch("api/user",{method:"GET"}).then((function(e){return e.json()})).then((function(e){t.setState({users:e.data,load:"continue"})})).catch((function(e){console.log(e)}))})),Jn(Hn(t),"downPage",(function(){if("/people"===window.location.pathname){var e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);if(window.scrollY>=e-100-innerHeight&&!t.state.scrollDown){t.setState({scrollDown:!0});var n=t.state.store.getState(),a=n.people.length;t.setState({last_count_users:a}),fetch("api/user/pagination/".concat(a),{method:"GET"}).then((function(e){return e.json()})).then((function(e){if(0===e.data.length)t.setState({small_louder_show:!1});else{var a=[].concat(An(n.people),An(e.data));t.state.store.dispatch({type:"ACTION_UPDATE_PEOPLE",value:a})}t.setState({load:"continue"})})).catch((function(e){console.log(e)})),setTimeout((function(){t.setState({scrollDown:!1})}),1e3)}}})),Jn(Hn(t),"focusSearch",(function(){t.setState({load:"onFocusSearch"})})),Jn(Hn(t),"changeSearch",(function(e){fetch("api/user?q=".concat(e.target.value),{method:"GET"}).then((function(e){return e.json()})).then((function(e){e.data.length?t.setState({usersSearch:e.data,load:"continueSearch"}):t.setState({usersSearch:e.data,load:"onSearchError"})})).catch((function(e){console.log(e)}))})),Jn(Hn(t),"blurSearch",(function(){})),t.state={load:"load",users:null,usersSearch:null,error:null,scrollDown:!1,last_count_users:0,small_louder_show:!0,store:t.props.store},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,n=[{key:"componentDidMount",value:function(){var e=this;window.onscroll=this.downPage,fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((function(e){return e.json()})).then((function(t){0===t.status.code?(e.setState({auth:!0}),fetch("api/user",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.state.store.dispatch({type:"ACTION_UPDATE_PEOPLE",value:t.data}),e.setState({load:"continue"})})).catch((function(e){console.log(e)}))):e.setState({load:"notAuth"})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,n=this.state.store.getState();return l().createElement("div",null,l().createElement("div",{className:"content-wall-views"},"notAuth"===this.state.load?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É."))):l().createElement("div",null,l().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},l().createElement("div",null,l().createElement("input",{placeholder:"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å...",id:"search_users",onFocus:this.focusSearch,onBlur:this.blurSearch,onChange:this.changeSearch})),l().createElement("div",{className:"tags-wrapper"},l().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"all_users",action:"all",onClick:this.allUsers},"–í—Å–µ"))),"load"===this.state.load?l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})):"error"===this.state.load?l().createElement("div",null,l().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–Ω–µ–µ.")):"onFocusSearch"===this.state.load?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):"onSearchError"===this.state.load?l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üôÅ")):"continueSearch"===this.state.load?l().createElement("div",{className:"feed-wrapper"},null===(e=this.state.usersSearch)||void 0===e?void 0:e.map((function(e){return l().createElement("div",{key:e.id,className:"users-view"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.id)},l().createElement("div",{className:"image-user"},l().createElement("img",{className:"image-user-src-people",src:e.avatar_url,alt:e.login}))),l().createElement("div",{className:"info-user"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.id)},l().createElement("div",{className:"link-user"},null==e?void 0:e.login))),l().createElement("div",{className:"more-info"},l().createElement("div",{className:"more-info-value"},"–ö–æ–º–ø–∞–Ω–∏—è:",null!=e&&e.company?" "+e.company:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"),l().createElement("div",{className:"more-info-value"},"–õ–æ–∫–∞—Ü–∏—è:",null!=e&&e.location?" "+e.location:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"))))}))):"continue"===this.state.load?l().createElement("div",{className:"feed-wrapper"},null===(t=n.people)||void 0===t?void 0:t.map((function(e){return l().createElement("div",{key:e.id,className:"users-view"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.id)},l().createElement("div",{className:"image-user"},l().createElement("img",{className:"image-user-src-people",src:e.avatar_url,alt:e.login}))),l().createElement("div",{className:"info-user"},l().createElement("div",{className:"feed-item-title"},l().createElement(v.Link,{href:"/user/".concat(null==e?void 0:e.id)},l().createElement("div",{className:"link-user"},null==e?void 0:e.login))),l().createElement("div",{className:"more-info"},l().createElement("div",{className:"more-info-value"},"–ö–æ–º–ø–∞–Ω–∏—è:",null!=e&&e.company?" "+e.company:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"),l().createElement("div",{className:"more-info-value"},"–õ–æ–∫–∞—Ü–∏—è:",null!=e&&e.location?" "+e.location:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"))))})),this.state.small_louder_show?l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader-small"})):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",null,"–ë–æ–ª—å—à–µ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ—á–µ–≥–æ"))):null)),l().createElement("div",{className:"tags-view"}))}}],n&&Mn(t.prototype,n),i}(o.Component);const qn=Gn;var Kn={auth:{user:{isAuth:!1,data:null,feeds:null,notificationCount:0,messagesCount:0,notifications:null,token:null,error:null}},centrifuge:{object:null},history:{path:null,id:null},components:{settings:{main_page:!0,messenger:!0,feed:!0}},webRTC:{pc:null},status_call:"connecting",call:{state:!1,audio:null},stream:null,am:!1,people:[],notification_user:{},feed_rewrite:{rewriteUUID:null,rewriteValue:null,rewriteTitle:null,rewriteMode:!1,privatePost:!1,showPreview:!1,coverUpload:null,videoUpload:null,useTags:[]}};function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}var Wn=["node","inline","className","children"];function $n(){return $n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$n.apply(this,arguments)}function Yn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qn(e,t){return Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qn(e,t)}function Zn(e,t){return!t||"object"!==zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}const ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xn(a);if(r){var n=Xn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Zn(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={},t.components={code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,Wn),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,$n({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",$n({className:n},r),a)}},t}return t=i,(n=[{key:"render",value:function(){return l().createElement("div",null,l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"wrapper-about"},l().createElement("div",{className:"about-text"}))))}}])&&Yn(t.prototype,n),i}(o.Component);function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}var na=["node","inline","className","children"];function aa(){return aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},aa.apply(this,arguments)}function ra(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function oa(e,t){return oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oa(e,t)}function la(e,t){return!t||"object"!==ta(t)&&"function"!=typeof t?ia(e):t}function ia(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ua=n(344),da=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ca(a);if(r){var n=ca(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return la(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),sa(ia(t=o.call(this,e)),"getPreferredColorScheme",(function(){var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?t.setState({isDark:"dark"}):t.setState({isDark:"light"})})),sa(ia(t),"handleKeyPress",(function(){document.getElementById("comments_view").scrollTop=document.getElementById("comments_view").scrollHeight})),sa(ia(t),"components",{code:function(e){e.node;var t=e.inline,n=e.className,a=e.children,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,na),o=/language-(\w+)/.exec(n||"");return!t&&o?l().createElement(S.Prism,aa({wrapLongLines:!1,language:o[1],PreTag:"div",children:String(a).replace(/\n$/,"")},r)):l().createElement("code",aa({className:n},r),a)}}),sa(ia(t),"actionExec",(function(e){e.target.classList.add("wait_blink"),t.setState({exec:"–û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"});var n={uuid:e.target.getAttribute("uuid")};fetch("api/notification",{method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){0===e.status.code&&console.log(e)})).catch((function(e){console.log(e),t.setState({isLoaded:!1,result:{}})}))})),t.state={name:"React"},t.state={error:null,isLoaded:!1,result:null,mainFeed:null,task:null,isLoadedFeed:!1,comments:null,counter:0,auth:!1,load:!1,data:null,event:null,notFeed:!1,isDark:"light",user:null,store:t.props.store,exec:"–°—Ç–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º"},t.refActionExecButton=l().createRef(),t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,n=[{key:"like",value:function(e){var t={feeds_uuid:e};fetch("api/like",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&(document.getElementById(e).innerHTML=t.data.count+" –ù—Ä–∞–≤–∏—Ç—å—Å—è"),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"previewClick",value:function(e){var t=document.getElementsByClassName(e)[0];console.log(t),t.classList.toggle("preview_swap")}},{key:"sendComments",value:function(){var e=this,t={value:document.getElementById("text_comments").value,to_uuid:document.getElementById("place_feed").getAttribute("uuid")};""!==t.value&&fetch("api/comments",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){console.log(t),0===t.status.code&&(e.getTask(),document.getElementById("text_comments").value=""),console.log(t)})).catch((function(e){console.log(e)}))}},{key:"componentWillMount",value:function(){var e=this;this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){e.getPreferredColorScheme()})),fetch("api/authentication",{method:"POST"}).then((function(e){return e.json()})).then((function(t){0===t.status.code&&t.data.length>0&&e.setState({isLoaded:!0,auth:!0,result:t.data,data:t.data,mainFeed:t.feed,notification_count:t.notification_count,notification:t.notification,token:t.token,messagesCount:t.count_message})})).catch((function(t){console.log(t),e.setState({isLoaded:!1,result:{}})})),this.getTask()}},{key:"getTask",value:function(){var e=this,t=new URL(window.location.href).searchParams.get("uuid"),n="api/task/".concat(t,"/");""!==t&&fetch(n,{method:"GET"}).then((function(e){return e.json()})).then((function(t){0===t.status.code?e.setState({isLoadedFeed:!0,task:t.data,comments:t.comments,event:t.events,counter:t.counter,user:t.user,load:!0}):e.setState({isLoadedFeed:!1,task:t.data,comments:t.comments,counter:t.counter,load:!0,notFeed:!0})})).catch((function(t){console.log(t),e.setState({isLoaded:!1,result:{},load:!0})}))}},{key:"unixToDateTime",value:function(e){return new Date(1e3*e).toLocaleString()}},{key:"render",value:function(){var e,t,n,a=this,r=this.state.store.getState();console.log(f);var o=this.state,i=o.isLoadedFeed,c=o.task,s=o.result,u=o.comments,d=o.counter,m=o.user,f=o.event;return l().createElement("div",{style:{display:"flex"}},l().createElement("div",{className:"content-wall-views"},i?l().createElement("div",{className:"comments-view",id:"comments_view"},l().createElement("div",{className:"place-items",id:"place_feed",uuid:null==c?void 0:c.id},l().createElement(q.JsonLd,{item:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"DevCodeMyLife",item:"https://devcodemylife.tech"},{"@type":"ListItem",position:2,name:"–§—Ä–∏–ª–∞–Ω—Å",item:"https://devcodemylife.tech/freelances"},{"@type":"ListItem",position:3,name:(null==c?void 0:c.title)||(null==c||null===(e=c.value)||void 0===e?void 0:e.substring(0,30)),item:"https://devcodemylife.tech/task?uuid=".concat(null==c?void 0:c.ID)}]}}),l().createElement(be.Helmet,null,l().createElement("title",null,(null==c?void 0:c.title)||(null==c||null===(t=c.value)||void 0===t?void 0:t.substring(0,30))," | DevCodeMyLife"),l().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, "+(null==c?void 0:c.title)})),l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==c?void 0:c.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{key:"asdmmmmasd",src:null==c?void 0:c.photo,alt:null==c?void 0:c.user,onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==c?void 0:c.uid)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==c?void 0:c.uid)}},null==c?void 0:c.user),l().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==c?void 0:c.date_time))))),l().createElement("div",{className:"title-feed"},null==c?void 0:c.title),l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[ua],components:this.components},null==c?void 0:c.value))),l().createElement("div",{className:"wrapper-bottom"},l().createElement("div",{className:"like_wrapper wrapper-flex-start"},l().createElement("div",{className:"like",onClick:function(){return a.like(null==c?void 0:c.id)}},l().createElement("div",{className:"like-item"},"light"===this.state.isDark?l().createElement("img",{src:O,alt:"like"}):l().createElement("img",{src:P,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count",id:null==c?void 0:c.id},null==c?void 0:c.count_like," –ù—Ä–∞–≤–∏—Ç—å—Å—è"))),l().createElement("div",{className:"like"},l().createElement("div",{className:"like-item"},"light"===this.state.isDark?l().createElement("img",{src:C,alt:"like"}):l().createElement("img",{src:T,alt:"like"})),l().createElement("div",{className:"like-text"},l().createElement("span",{className:"like-count"},d," –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤"))),r.auth.user.isAuth&&r.auth.user.data.id!==(null==c?void 0:c.user_creator_id)&&"wait"===(null==c?void 0:c.status)?""===(null==f?void 0:f.feeds_uuid)||null!=f&&f.block||null!=f&&f.executor?""!==(null==f?void 0:f.feeds_uuid)||null!=f&&f.block||null!=f&&f.executor?""===(null==f?void 0:f.feeds_uuid)||null==f||!f.block||null!=f&&f.executor?""===(null==f?void 0:f.feeds_uuid)||null!=f&&f.block||null==f||!f.executor?null:l().createElement("div",{className:"like",onClick:this.actionExec,uuid:null==c?void 0:c.id,ref:this.refActionExecButton},l().createElement("div",{className:"like-text",uuid:null==c?void 0:c.id},l().createElement("span",{className:"like-count ready_blink",uuid:null==c?void 0:c.id},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É"))):l().createElement("div",{className:"like",uuid:null==c?void 0:c.id,ref:this.refActionExecButton},l().createElement("div",{className:"like-text",uuid:null==c?void 0:c.id},l().createElement("span",{className:"like-count fail_blink",uuid:null==c?void 0:c.id},"–ó–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω"))):l().createElement("div",{className:"like",onClick:this.actionExec,uuid:null==c?void 0:c.id,ref:this.refActionExecButton},l().createElement("div",{className:"like-text",uuid:null==c?void 0:c.id},l().createElement("span",{className:"like-count",uuid:null==c?void 0:c.id},this.state.exec))):l().createElement("div",{className:" like",uuid:null==c?void 0:c.id,ref:this.refActionExecButton},l().createElement("div",{className:"like-text",uuid:null==c?void 0:c.id},l().createElement("span",{className:"like-count wait_blink",uuid:null==c?void 0:c.id},"–û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"))):null,l().createElement("div",{className:"like"},l().createElement("div",{className:"like-text"},"0"!==(null==c?void 0:c.price)?l().createElement("span",{className:"like-count"},parseInt(null==c?void 0:c.price).toLocaleString("ru")," —Ä—É–±."):l().createElement("span",{className:"like-count"},"–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ")))),l().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=c&&c.tag?l().createElement("div",{className:"tags-type"},"#",null==c?void 0:c.tag):null)),this.state.isLoaded?s.map((function(e){var t;return l().createElement("div",{className:"feed-comments-wrapper-item background-white"},l().createElement("div",{className:"wrapper-comments"},l().createElement("div",{className:"comments-title bottom-line"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),l().createElement("div",{className:"wall-comments"},null!==(t=a.state.comments)&&void 0!==t&&t.length?u.map((function(e){return l().createElement("div",null,l().createElement("div",{className:"feed-item-value"},l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user,onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.user_id)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(t){t.preventDefault(),window.location.href="/user/".concat(null==e?void 0:e.user_id)}},null==e?void 0:e.user),l().createElement("div",{className:"feed-item-datetime"},a.unixToDateTime(null==e?void 0:e.date_time)))))),l().createElement("div",{className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[ua],components:a.components},null==e?void 0:e.value))))})):l().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")),l().createElement("div",{className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.avatar_url,alt:null==e?void 0:e.login})),l().createElement("div",{className:"value-post placeholder-main-feed"},l().createElement(z(),{className:"feed-textarea",onChange:a.handleChangeTextarea,autoFocus:!1,placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",id:"text_comments",onKeyPress:a.handleKeyPress}))),l().createElement("div",{className:"wrapper-flex-end create-feed-wrapper-button"},l().createElement("div",{className:"button-default",onClick:function(){return a.sendComments()}},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"))))})):l().createElement("div",{className:"feed-comments-wrapper-item background-white"},l().createElement("div",{className:"wrapper-comments"},l().createElement("div",{className:"comments-title"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),l().createElement("div",{className:"wall-comments"},null!==(n=this.state.comments)&&void 0!==n&&n.length?u.map((function(e){return l().createElement("div",null,l().createElement("div",{className:"feed-item-value bottom-line"},l().createElement("div",{className:"feed-item-value"},l().createElement("div",{key:"asldk",className:"wrapper-data"},l().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:a.copyLogin},null==e?void 0:e.user),l().createElement("div",{className:"feed-item-datetime"},a.unixToDateTime(null==e?void 0:e.date_time)))))),l().createElement("div",{className:"wrapper-data"},l().createElement(G(),{className:"value-post",remarkPlugins:[ua],components:a.components},null==e?void 0:e.value))))})):l().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")))))):this.state.notFeed?l().createElement("div",null,l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞ –ª–∏–±–æ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞."))):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"}))),l().createElement("div",{className:"tags-view"},i?l().createElement("div",{className:"tags-box"},l().createElement("div",{className:"wrapper-data"},l().createElement("div",{className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==m?void 0:m.last_active_at).getTime()/1e3)>120?null:l().createElement("div",{className:"online_user"}),l().createElement("img",{src:null==m?void 0:m.avatar_url,alt:null==m?void 0:m.login,onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==m?void 0:m.id)}})),l().createElement("div",{className:"value-post"},l().createElement("div",{className:"feed-item-title"},l().createElement("div",{className:"link-user",onClick:function(e){e.preventDefault(),window.location.href="/user/".concat(null==m?void 0:m.id)}},null==m?void 0:m.login)))),null!=m&&m.location?l().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:"," "+(null==m?void 0:m.location)):null,null!=m&&m.company?l().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:"," "+(null==m?void 0:m.company)):null,null!=m&&m.count_feeds?l().createElement("div",{className:"main-place"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤:"," "+(null==m?void 0:m.count_feeds)):null,null!=m&&m.count_tasks?l().createElement("div",{className:"main-place"},"–°–æ–∑–¥–∞–ª –∑–∞–¥–∞—á:"," "+(null==m?void 0:m.count_tasks)):null):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader-small"}))))}}],n&&ra(t.prototype,n),i}(o.Component);const ma=da;function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function pa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function va(e,t){return va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},va(e,t)}function ha(e,t){return!t||"object"!==fa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ga(e){return ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ga(e)}const ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ga(a);if(r){var n=ga(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ha(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={store:t.props.store},t}return t=i,(n=[{key:"render",value:function(){return l().createElement(l().Fragment,null,l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"wrapper-apps"},l().createElement("div",{className:"apps-search-block"},l().createElement("input",{className:"input-default",placeholder:"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ"})),l().createElement("div",{className:"apps-nav-block"},l().createElement("div",{className:"tags-wrapper",id:"tags-wrapper-default"},l().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"top",action:"main"},"–ú–æ–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"),l().createElement("div",{className:"button-default-tag tags-item unselectable",action:"all"},"–í—Å–µ"))),l().createElement("div",{className:"apps-content-block"})))))}}])&&pa(t.prototype,n),i}(o.Component);function Ea(e){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(e)}function wa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ba(e,t){return ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ba(e,t)}function Na(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _a(e){return _a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_a(e)}const ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_a(a);if(r){var n=_a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Na(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={price:t.props.price},t}return t=i,(n=[{key:"buy",value:function(e){console.log(e);var t={count:e};fetch("api/balance",{method:"POST",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){var t;0===e.status.code&&document.location.replace(null==e||null===(t=e.data)||void 0===t?void 0:t.url_redirect)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l().createElement("div",{className:"coins-item"},l().createElement("div",{className:"coins-item-title"},this.state.price," tokens"),l().createElement("div",{className:"coins-item-descriptions item-about"},l().createElement("p",null,"–ü–∞–∫–µ—Ç ",this.state.price," tokens")),l().createElement("div",{onClick:function(){e.buy(e.state.price)},className:"button-general-page",style:{boxSizing:"border-box"}},"–ö—É–ø–∏—Ç—å –∑–∞ ",this.state.price,"‚ÇΩ"))}}])&&wa(t.prototype,n),i}(o.Component);function Sa(e){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sa(e)}function Oa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ca(e,t){return Ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ca(e,t)}function Ta(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pa(e)}const xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ca(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pa(a);if(r){var n=Pa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ta(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={store:t.props.store},t.state.store.subscribe((function(){t.setState(t.state.store.getState())})),t}return t=i,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.store.getState();return l().createElement("div",null,l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},e.auth.user.isAuth?l().createElement("div",{className:"wrapper-balance"},l().createElement("div",{className:"balance-content-block feed-wrapper-item background-white"},l().createElement("div",{className:"wrapper-balance-count auth-box-title"},l().createElement("span",{className:"balance-count"},"–í–∞—à –±–∞–ª–∞–Ω—Å: ",parseInt(e.auth.user.data.balance).toLocaleString("ru")," tokens.")),l().createElement("div",{className:"content-pack-coins"},l().createElement(ka,{price:1}),l().createElement(ka,{price:20}),l().createElement(ka,{price:200}),l().createElement(ka,{price:500})))):l().createElement("div",{className:"loader-wrapper feed-wrapper"},l().createElement("div",{className:"loader"})))),l().createElement("div",{className:"tags-view"}))}}])&&Oa(t.prototype,n),i}(o.Component);function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function La(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Da(e,t){return Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Da(e,t)}function Ra(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ia(e){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ia(e)}const Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(i,e);var t,n,a,r,o=(a=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ia(a);if(r){var n=Ia(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ra(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={count:0,error:null},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=window.location.search,t=new URLSearchParams(e);this.setState({count:t.get("count"),error:t.get("error")})}},{key:"render",value:function(){return l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"feed-wrapper"},l().createElement("div",{className:"loader-wrapper feed-wrapper",style:{fontSize:"22px"}},null!==this.state.error?l().createElement("span",null,"–í—ã —É—Å–ø–µ—à–Ω–æ –∫—É–ø–∏–ª–∏ –ø–∞–∫–µ—Ç –Ω–∞",l().createElement("span",{style:{color:"green"}}," ",this.state.count," tokens")):l().createElement("span",null,"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É"))))}}])&&La(t.prototype,n),i}(o.Component);function Ba(e){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(e)}function Ma(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function Ua(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function l(e){Ma(o,a,r,l,i,"next",e)}function i(e){Ma(o,a,r,l,i,"throw",e)}l(void 0)}))}}function Fa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ha(e,t){return Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ha(e,t)}function Va(e,t){return!t||"object"!==Ba(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}var Ga=(0,f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_UPDATE_HISTORY":return e.history=t.value,e;case"ACTION_CHECK_AUTH":return e.auth=t.value,e;case"ACTION_SET_CENTRIFUGE":return e.centrifuge=t.value,e;case"ACTION_SET_COMPONENTS":return e.components=t.value,e;case"ACTION_SET_WEBRTC":return e.webRTC=t.value,e;case"ACTION_SET_CALL":return e.call=t.value,e;case"ACTION_SET_STATUS_CALL":return e.status_call=t.value,e;case"ACTION_SET_STREAM":return e.stream=t.value,e;case"ACTION_SET_AM":return e.am=t.value,e;case"ACTION_UPDATE_PEOPLE":return e.people=t.value,e;case"ACTION_UPDATE_NOTIFICATION_USER":return e.notification_user=t.value,e;case"ACTION_UPDATE_FEED_REWRITE":return e.feed_rewrite=t.value,e;default:return e}}));const qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(c,e);var t,n,a,r,i=(a=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ja(a);if(r){var n=Ja(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Va(this,e)});function c(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=i.call(this,e),"undefined"!=typeof window){var n=window.AudioContext||window.webkitAudioContext;t.state={load:!1,context:new n,audio:new Audio(Xe),channel:null}}else t.state={load:!1,context:{},audio:{},channel:null};return t.routes=(0,p.mount)({"/":(0,p.route)({view:l().createElement(he,null)}),"/people":(0,p.route)({view:l().createElement(qn,{store:Ga})}),"/messages":(0,p.route)({view:l().createElement(pt,{store:Ga})}),"/user/:id":(0,p.route)(function(){var e=Ua(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.id,Ga.dispatch({type:"ACTION_UPDATE_HISTORY",value:{path:null,id:n}}),fetch("/api/user/".concat(n),{method:"GET"}).then((function(e){return e.json()})).then((function(e){0===e.status.code&&e.data[0]})).catch((function(e){console.log(e)})),e.abrupt("return",{view:l().createElement(Ye,{store:Ga,id:n})});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"/feeds":(0,p.route)({view:l().createElement(V,{store:Ga})}),"/post/:uuid":(0,p.route)(function(){var e=Ua(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.uuid,e.abrupt("return",{view:l().createElement(le,{store:Ga,uuid:n})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"/agreement":(0,p.route)({view:l().createElement(ea,{store:Ga})}),"/settings":(0,p.route)({view:l().createElement(Pt,{store:Ga})}),"/freelances":(0,p.route)({view:l().createElement(Kt,{store:Ga})}),"/notification":(0,p.route)({view:l().createElement(Xt,{store:Ga})}),"/teams":(0,p.route)({view:l().createElement(on,{store:Ga})}),"/how_to_use":(0,p.route)({view:l().createElement(Rn,{store:Ga})}),"/task":(0,p.route)({view:l().createElement(ma,{store:Ga})}),"/apps":(0,p.route)({view:l().createElement(ya,{store:Ga})}),"/balance":(0,p.route)({view:l().createElement(xa,{store:Ga})}),"/up_balance":(0,p.route)({view:l().createElement(Aa,null)}),"/test":(0,p.route)({view:l().createElement(Ue,null)})}),t}return t=c,(n=[{key:"checkAuth",value:function(){var e=this;fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(t){if(0===t.status.code){Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:null==t?void 0:t.notification_count,messagesCount:null==t?void 0:t.count_message,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token,error:null}}}),Ga.dispatch({type:"ACTION_SET_WEBRTC",value:{pc:new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]})}}),fetch("/api/app/components",{method:"GET"}).then((function(e){return e.json()})).then((function(e){0===(null==e?void 0:e.status.code)&&Ga.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:e.data}})}));var n=new(se())("wss://devcodemylife.tech/cent/connection/websocket",{subscribeEndpoint:"/api/subscribe",onPrivateSubscribe:function(e){console.log(e)}});n.setToken(null==t?void 0:t.token),n.connect(),n.on("connect",(function(e){console.log("[ app connected centrifuge ]")}));var a=e;n.subscribe("".concat(null==t?void 0:t.data[0].id),(function(e){var n=Ga.getState(),r=e.data;switch(r.type){case"event":a.state.context.resume().then((function(){a.state.audio.play()})),Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:r.count,messagesCount:n.auth.user.messagesCount,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token,error:null}}}),Ga.dispatch({type:"ACTION_UPDATE_NOTIFICATION_USER",value:h.toast}),h.toast.info("–í–∞—à—É –∑–∞–º–µ—Ç–∫—É –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:function(){location.href="/notification"}});break;case"task_win":a.state.context.resume().then((function(){a.state.audio.play()})),fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){0===(null==e?void 0:e.status.code)&&Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})})),h.toast.info("–í—ã —Å—Ç–∞–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:function(){location.href="/notification"}});break;case"task_lose":a.state.context.resume().then((function(){a.state.audio.play()})),fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){0===(null==e?void 0:e.status.code)&&Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})})),h.toast.info("–í–∞–º –æ—Ç–∫–∞–∑–∞–ª–∏ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:function(){location.href="/notification"}});break;case"comment":a.state.context.resume().then((function(){a.state.audio.play()})),Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:r.count,messagesCount:n.auth.user.messagesCount,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token,error:null}}}),h.toast.info("–í–∞—à—É –∑–∞–º–µ—Ç–∫—É –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:function(){location.href="/notification"}});break;case"message":null===window.location.pathname.match(/messages/)&&(Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==t?void 0:t.data[0],feeds:null==t?void 0:t.feed,notificationCount:n.auth.user.notificationCount,messagesCount:r.count,notifications:null==t?void 0:t.notification,token:null==t?void 0:t.token,error:null}}}),h.toast.info("–í–∞–º –ø—Ä–∏—à–ª–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:function(){location.href="/messages"}}));break;case"update":fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){0===(null==e?void 0:e.status.code)&&Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})}))}})),Ga.dispatch({type:"ACTION_SET_CENTRIFUGE",value:{object:n}}),"/"===document.location.pathname?window.location.href="/feeds":e.setState({load:!0})}else{var r;Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!1,data:null,feeds:null,error:null==t||null===(r=t.status)||void 0===r?void 0:r.message}}}),e.setState({load:!0})}})).catch((function(e){Ga.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!1,data:null,feeds:null,error:e}}})}))}},{key:"componentDidMount",value:function(){this.checkAuth()}},{key:"render",value:function(){var e=this;return"undefined"==typeof window?null:l().createElement(y(),null,l().createElement("div",{className:"wrapper"},l().createElement(ie.BrowserRouter,null,l().createElement(ie.Switch,null,l().createElement(ie.Route,{path:"/",render:function(t){var n=t.history,a=t.match;return l().createElement(v.Router,{routes:e.routes,history:n,basename:a.url},l().createElement(k,{store:Ga,load:!0}),l().createElement(h.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),l().createElement("div",{className:"wrapper-content"},l().createElement("div",{className:"content"},l().createElement("div",{id:"vertical_menu",className:"reviews-menu"},l().createElement(Tn,{song:Xe,store:Ga}),l().createElement("div",{className:"menu-nav"},l().createElement("div",{className:"menu-nav-item"},l().createElement(v.Link,{href:"/user/6"},"–ü–æ–¥–¥–µ—Ä–∂–∫–∞")),l().createElement("div",{className:"menu-nav-item"},l().createElement(v.Link,{href:"https://t.me/devcodemylife",target:"_blank"},"–ú—ã –≤ Telegram")),l().createElement("div",{className:"menu-nav-item"},l().createElement(v.Link,{href:"https://www.youtube.com/channel/UC6DGlIbofPsqhTddIzGM5RQ",target:"_blank"},"–ú—ã –Ω–∞ YouTube")),l().createElement("div",{className:"menu-nav-item"},l().createElement(v.Link,{href:"https://my.qiwi.com/Andrei-ShQU6cQ2pop",target:"_blank"},"–ü–æ–º–æ—á—å –ø—Ä–æ–µ–∫—Ç—É")))),l().createElement(v.NotFoundBoundary,{render:function(){return l().createElement("div",{className:"content-wall-views"},l().createElement("div",{className:"error-wrapper"},l().createElement("div",{className:"error-page"},"–¢–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.")))}},l().createElement(o.Suspense,{fallback:!0},l().createElement(v.View,{store:Ga}))))))}})))))}}])&&Fa(t.prototype,n),c}(l().Component);var Ka=u()(),za='<div id="root"></div>',Wa="<title></title>",$a='<meta name="keywords" content=""/>',Ya='<meta name="description" content=""/>',Qa='<meta property="og:title" content="">',Za='<meta name="title" content=""/>',Xa='<link rel="canonical" href=""/>';function er(e,t,n,a,r,o){return(e=(e=(e=(e=(e=(e=e.replace(za,'<div id="root">'.concat(t,"</div>"))).replace(Wa,"<title>".concat(n,"</title>"))).replace($a,'<meta name="keywords" content="'.concat(a,'"/>'))).replace(Ya,'<meta name="description" content="'.concat(r,'"/>'))).replace(Qa,'<meta property="og:title" content="'.concat(r,'">'))).replace(Za,'<meta name="title" content="'.concat(n,'"/>'))).replace(Xa,'<link rel="canonical" href="https://devcodemylife.tech'.concat(o,'"/>'))}Ka.get(["/","/feeds","/post/*","/user/*","/settings","/messages","/notification","/people","/apps","/balance","/up_balance"],(function(e,n){var a=m().renderToString(l().createElement(qa,null)),o=t().resolve("./build/index.html");r().readFile(o,"utf8",(function(t,r){if(t)return console.error("Something went wrong:",t),n.status(500).send("–°–µ–π—á–∞—Å –º—ã —á—Ç–æ —Ç–æ –¥–µ–ª–∞–µ–º");switch(console.log(e.path),console.log(e.path.split("/")[1]),e.path.split("/")[1]){case"post":var o=e.path.split("/")[e.path.split("/").length-1];c()("https://devcodemylife.tech/api/feed/".concat(o,"/null"),{"set-cookie":e.cookies},(function(t,o,l){if(console.error("error:",t),console.log("statusCode:",o&&o.statusCode),o&&404===o.statusCode)return r=er(r,a,"–¢–∞–∫–æ–π –∑–∞–º–µ—Ç–∫–∏ –Ω–µ—Ç | DevCodeMyLife","golang, python, c, c#, css, js, node, nginx, proxy","–¢–∞–∫–æ–π –∑–∞–º–µ—Ç–∫–∏ –Ω–µ—Ç",e.path),n.status(200),void n.send(r);r=function(e,t,n,a,r,o,l){return""!==l&&(e=(e=(e=(e=e.replace('<meta property="og:image" content="/main.jpg">','<meta property="og:image" content="https://devcodemylife.tech'.concat(l,'">'))).replace('<meta property="og:url" content="https://devcodemylife.tech/">','<meta property="og:url" content="https://devcodemylife.tech'.concat(o,'">'))).replace('<meta property="twitter:image" content="/main.jpg">','<meta property="twitter:image" content="https://devcodemylife.tech'.concat(l,'">'))).replace('<meta property="twitter:url" content="https://devcodemylife.tech/">','<meta property="twitter:url" content="https://devcodemylife.tech'.concat(o,'">'))),(e=(e=(e=(e=(e=(e=e.replace(za,'<div id="root">'.concat(t,"</div>"))).replace(Wa,"<title>".concat(n,"</title>"))).replace($a,'<meta name="keywords" content="'.concat(a,'"/>'))).replace(Ya,'<meta name="description" content="'.concat(r,'"/>'))).replace(Qa,'<meta property="og:title" content="'.concat(r,'">'))).replace(Za,'<meta name="title" content="'.concat(n,'"/>'))).replace(Xa,'<link rel="canonical" href="https://devcodemylife.tech'.concat(o,'"/>'))}(r,a,"".concat(JSON.parse(l).data[0].title," | DevCodeMyLife"),"".concat(JSON.parse(l).data[0].title.split(" ").join(", ")),"".concat(JSON.parse(l).data[0].title),e.path,JSON.parse(l).data[0].cover_path),n.status(200),n.send(r)}));break;case"feeds":r=er(r,a,"–õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π | DevCodeMyLife","DevCodeMyLIfe, golang, python, c, c#, css, js, node, nginx, proxy","–õ–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π",e.path),n.status(200),n.send(r);break;default:r=er(r,a,"–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ | DevCodeMyLIfe","DevCodeMyLIfe, golang, python, c, c#, css, js, node, nginx, proxy","–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è. –ó–¥–µ—Å—å –í—ã –Ω–∞–π–¥–µ—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏, –∏ –ø–æ–ª–µ–∑–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏.",e.path),n.status(200),n.send(r)}}))})),Ka.use(u().static("./build")),Ka.use((function(e,n,a){var o=t().resolve("./public/400.html");r().readFile(o,"utf8",(function(e,t){n.status(404).send(t)}))})),Ka.listen(80,(function(){console.log("Server is listening on port ".concat(80))}))})()})();