(()=>{"use strict";var e={344:e=>{e.exports=require("remark-gfm")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="",(()=>{require("css-ssr");const e=require("path");var t=a.n(e);const s=require("fs");var l=a.n(s);const n=require("react");var i=a.n(n);const r=require("express");var c=a.n(r);const o=require("react-dom/server");var d=a.n(o);const m=require("redux"),u=require("navi"),h=require("react-navi"),p=require("react-toastify"),v=require("react-navi-helmet-async");var g=a.n(v);class E extends n.Component{constructor(e){super(e),this.state={store:this.props.store,load:this.props.load,showSettings:!1}}render(){const e=this.state.store.getState();return i().createElement("header",{className:"head"},i().createElement("div",{className:"rectangle-head"},i().createElement("div",{className:"wrapper-logo unselectable"},i().createElement("div",{className:"place-logo wrapper-inline-block",onClick:t=>{t.preventDefault(),e.auth.user.isAuth?window.location.href="/feeds":window.location.href="/"}},"[ DevCodeMyLife ]")),i().createElement("div",{className:"wrapper-user"},i().createElement("div",{className:"wrapper-auth"},this.state.load?e.auth.user.isAuth?i().createElement("div",{className:"wrapper-auth-photo",style:this.state.showSettings?{background:"#3890FC"}:{}},i().createElement("img",{src:e.auth.user.data.avatar_url,alt:e.auth.user.data.login,onClick:()=>{this.setState((e=>({showSettings:!e.showSettings})))}})):null:i().createElement("div",{className:"loader-small"})),this.state.showSettings?i().createElement("div",{className:"settings-user",onMouseLeave:()=>{this.setState((e=>({showSettings:!e.showSettings})))},onClick:()=>{this.setState((e=>({showSettings:!e.showSettings})))}},i().createElement(h.Link,{href:`/user/${e.auth.user.data.id}`},i().createElement("div",{className:"settings-user-item"},e.auth.user.data.login," ",i().createElement("span",{style:{fontSize:"12px",color:"#585858"}}," - –≠—Ç–æ –í—ã"))),i().createElement("div",{className:"nav-hidden"},i().createElement("div",{className:"separator"},i().createElement("div",{className:"line-separator"})),i().createElement("div",{className:"settings-user-item",onClick:()=>{window.location.href=`http://${window.location.host}/people`}},"–õ—é–¥–∏"),i().createElement("div",{className:"settings-user-item",onClick:()=>{window.location.href=`http://${window.location.host}/feeds`}},"–ù–æ–≤–æ—Å—Ç–∏"),i().createElement("div",{className:"settings-user-item",onClick:()=>{window.location.href=`http://${window.location.host}/messages`}},"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"),i().createElement("div",{className:"settings-user-item",onClick:()=>{window.location.href=`http://${window.location.host}/notification`}},"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")),i().createElement(h.Link,{href:"/settings"},i().createElement("div",{className:"settings-user-item"},"–ù–∞—Å—Ç—Ä–æ–π–∫–∏")),i().createElement("div",{className:"separator"},i().createElement("div",{className:"line-separator"})),i().createElement("div",{className:"settings-user-item",onClick:()=>{window.location.href=`http://${window.location.host}/api/logout`}},"–í—ã–π—Ç–∏")):null)),i().createElement("div",{className:"to-top",id:"to_top",onClick:()=>{(document.body.scrollTop||window.pageYOffset)>0&&window.scroll(0,0)}},"–ù–∞–≤–µ—Ä—Ö"))}}const f=E,N=require("react-syntax-highlighter"),w=a.p+"c3697a9542c4f422024d609419a7bee6.png",k=a.p+"50e8973e803d2efc1cf09498dd5a3119.png",y=a.p+"cc24d62affa1ec8b07cef83739b6cab3.png",_=(a.p,a.p+"b4e7f147d68cb47f2ed9911c9319c536.png");function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},b.apply(this,arguments)}class S extends n.Component{constructor(e){super(e),this.state={error:null,isLoaded:"load",result:[],data:null,currentDateTime:(new Date).getTime(),tags:[],isDark:"light",store:this.props.store,likeType:{}},this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}popular=i().createRef();getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};like(e){let t={feeds_uuid:e};fetch("api/like",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((t=>{0===t.status.code&&(document.getElementById(e).innerHTML=t.data.count,this.state.likeType[e]=!this.state.likeType[e],this.setState({likeType:this.state.likeType}))})).catch((e=>{console.log(e)}))}handleKeyPress=e=>{this.setState({isLoaded:"load"});let t=e.target.value;t.length>0?fetch("api/search?"+new URLSearchParams({query:t}),{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data.sort((function(e,t){return e.count_like>t.count_like?-1:1}))})})).catch((e=>{this.setState({isLoaded:"error",result:{}})})):fetch("api/feed",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data})})).catch((e=>{this.setState({isLoaded:"error",result:{}})}))};handleClickTag=e=>{for(let e of document.getElementById("tags-wrapper-all-tags").parentNode.children)e.classList.remove("button-select");for(let e of document.getElementById("tags-wrapper-default").children)e.classList.remove("button-select");for(let t of e.target.parentNode.children)t.classList.remove("button-select");this.setState({isLoaded:"load"}),e.target.classList.add("button-select");let t=e.target.getAttribute("action");"top"===t?fetch("api/feed/top",{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&null!=e.data?this.setState({isLoaded:"access",result:e.data}):this.setState({isLoaded:"access",result:[]})})).catch((e=>{this.setState({isLoaded:"error",result:{}})})):"all"===t?fetch("api/feed",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data.sort((function(e,t){return e.date_time>t.date_time?-1:1}))})})).catch((e=>{this.setState({isLoaded:"error",result:{}})})):fetch(`api/feed?params=${t}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data})})).catch((e=>{this.setState({isLoaded:"error",result:{}})}))};componentDidMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.getPreferredColorScheme()})),fetch("api/feed/top",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data})})).catch((e=>{this.setState({isLoaded:"error",result:{}})})),fetch("api/tags",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({tags:e.data})})).catch((e=>{this.setState({isLoaded:"error",tags:{}})}))}handlerFocus=e=>{for(let e of document.getElementById("tags-wrapper-all-tags").parentNode.children)e.classList.remove("button-select");for(let e of document.getElementById("tags-wrapper-default").children)e.classList.remove("button-select");this.setState({isLoaded:"OnFocusSearch"})};handlerBlur=e=>{0===e.target.value.length&&(fetch("api/feed/top",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({isLoaded:"access",result:e.data})})).catch((e=>{this.setState({isLoaded:"error",result:{}})})),this.popular.current.classList.add("button-select"),this.setState({isLoaded:"access"}))};handleHoverOn=e=>{let t=e.target.querySelector(".descriptions-button");t?t.classList.add("fade-in"):document.querySelector(".descriptions-button").classList.remove("fade-in")};handleHoverOff=e=>{let t=e.target.querySelector(".descriptions-button");t&&t.classList.remove("fade-in"),document.querySelector(".descriptions-button").classList.remove("fade-in")};unixToDateTime(e){return new Date(1e3*e).toLocaleString()}components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.PrismAsync,b({style,wrapLongLines:!1,language:n[1],showLineNumbers:!1,PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",b({className:a},l),s)}};render(){let{isLoaded:e,result:t,tags:a}=this.state;return this.state.store.getState().components.settings.feed?i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-feed"},i().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},i().createElement("div",null,i().createElement("input",{placeholder:"–ù–∞–ø—Ä–∏–º–µ—Ä –∏–º—è –∞–≤—Ç–æ—Ä–∞",onKeyPress:this.handleKeyPress,onFocus:this.handlerFocus,onBlur:this.handlerBlur})),i().createElement("div",{className:"tags-wrapper",id:"tags-wrapper-default"},i().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"top",action:"top",onClick:this.handleClickTag,ref:this.popular},"–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ"),i().createElement("div",{className:"button-default-tag tags-item unselectable",action:"all",onClick:this.handleClickTag},"–ù–æ–≤—ã–µ"))),"load"===e?i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"})):"error"===e?i().createElement("div",null,i().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–Ω–µ–µ.")):"OnFocusSearch"===e?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):null===t.length?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ—á–µ–≥–æ üôÅ")):i().createElement("div",{className:"feed-wrapper"},t.map((e=>i().createElement("div",{key:null==e?void 0:e.ID,className:"feed-wrapper-item"},i().createElement(h.Link,{style:{textDecoration:"none"},href:`/post?uuid=${null==e?void 0:e.ID}`},""!==(null==e?void 0:e.cover_path)?i().createElement("img",{className:"cover-feed",src:e.cover_path,alt:e.title}):null,i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.uid}`},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==e?void 0:e.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.id}))),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.uid}`},i().createElement("div",{className:"link-user"},null==e?void 0:e.user)),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time))))),i().createElement("div",{key:"asldkasd",className:"wrapper-data"},i().createElement("div",{className:"title-feed"},null==e?void 0:e.title)))),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"like_wrapper wrapper-flex-start"},i().createElement("div",{className:"like",onClick:()=>this.like(null==e?void 0:e.ID)},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:w,alt:"like"}):i().createElement("img",{src:_,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count",id:null==e?void 0:e.ID},null==e?void 0:e.count_like))),i().createElement("div",{className:"like"},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:k,alt:"like"}):i().createElement("img",{src:y,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count"},null==e?void 0:e.look_count)))),i().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=e&&e.tag?i().createElement("div",{className:"tags-type"},"#",null==e?void 0:e.tag):null)))))))),i().createElement("div",{className:"tags-view"},i().createElement("div",{className:"tags-box"},i().createElement("div",{className:"title-box",id:"tags-wrapper-all-tags"},"–¢–µ–≥–∏"),null==a?void 0:a.map((e=>i().createElement("div",{className:"button-default-tag tags-item unselectable",action:e.value,onClick:this.handleClickTag},"#",e.value)))))):i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –ù–æ–≤–æ—Å—Ç–µ–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã."))))}}const C=S,T=require("react-markdown");var x=a.n(T);const L=require("react-schemaorg"),D=require("react-helmet"),P=require("react-textarea-autosize");var O=a.n(P);const M=a.p+"d7d64c08a52cb40097f32919e8242152.png";function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},I.apply(this,arguments)}const A=a(344);class B extends n.Component{constructor(e){super(e),this.state={name:"React"},this.state={error:null,isLoaded:!1,result:null,mainFeed:null,feed:null,isLoadedFeed:!1,comments:null,counter:0,auth:!1,load:!1,data:null,notFeed:!1,isDark:"light",user:null}}getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};handleKeyPress=()=>{document.getElementById("comments_view").scrollTop=document.getElementById("comments_view").scrollHeight};like(e){let t={feeds_uuid:e};fetch("api/like",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((t=>{0===t.status.code&&(console.log(t),document.getElementById(e).innerHTML=t.data.count+" –ù—Ä–∞–≤–∏—Ç—å—Å—è"),console.log(t)})).catch((e=>{console.log(e)}))}components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.Prism,I({wrapLongLines:!1,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",I({className:a},l),s)}};previewClick(e){const t=document.getElementsByClassName(e)[0];console.log(t),t.classList.toggle("preview_swap")}sendComments(){let e={value:document.getElementById("text_comments").value,to_uuid:document.getElementById("place_feed").getAttribute("uuid")};""!==e.value&&fetch("api/comments",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),0===e.status.code&&(this.getFeed(),document.getElementById("text_comments").value=""),console.log(e)})).catch((e=>{console.log(e)}))}componentWillMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.getPreferredColorScheme()})),fetch("api/authentication",{method:"POST"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0&&this.setState({isLoaded:!0,auth:!0,result:e.data,data:e.data,mainFeed:e.feed,notification_count:e.notification_count,notification:e.notification,token:e.token,messagesCount:e.count_message})})).catch((e=>{console.log(e),this.setState({isLoaded:!1,result:{}})})),this.getFeed()}getFeed(){let e=new URL(window.location.href).searchParams.get("uuid"),t=`api/feed/${e}/${window.localStorage.getItem("finger")}`;""!==e&&fetch(t,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0?this.setState({isLoadedFeed:!0,feed:e.data,comments:e.comments,counter:e.counter,user:e.user,load:!0}):this.setState({isLoadedFeed:!1,feed:e.data,comments:e.comments,counter:e.counter,load:!0,notFeed:!0})})).catch((e=>{console.log(e),this.setState({isLoaded:!1,result:{},load:!0})}))}unixToDateTime(e){return new Date(1e3*e).toLocaleString()}render(){let{isLoadedFeed:e,feed:t,result:a,comments:s,counter:l,user:n}=this.state;return i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},e?i().createElement("div",{className:"comments-view",id:"comments_view"},i().createElement("div",{className:"rectangle-back"},i().createElement("div",{className:"button-default wrapper-inline-block",onClick:()=>{window.history.go(-1)}},"–ù–∞–∑–∞–¥")),t.map((e=>{var t,n;return i().createElement("div",{className:"place-items",id:"place_feed",uuid:null==e?void 0:e.ID},""!==(null==e?void 0:e.cover_path)?i().createElement("img",{className:"cover-feed",src:e.cover_path,alt:e.title}):null,i().createElement(L.JsonLd,{item:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"DevCodeMyLife",item:"https://devcodemylife.tech"},{"@type":"ListItem",position:2,name:"–í—Å–µ –∑–∞–º–µ—Ç–∫–∏",item:"https://devcodemylife.tech/feed"},{"@type":"ListItem",position:3,name:(null==e?void 0:e.title)||(null==e||null===(t=e.value)||void 0===t?void 0:t.substring(0,30)),item:`https://devcodemylife.tech/post?uuid=${null==e?void 0:e.ID}`}]}}),i().createElement(D.Helmet,null,i().createElement("title",null,e.title||(null==e||null===(n=e.value)||void 0===n?void 0:n.substring(0,30))," | DevCodeMyLife"),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, "+e.title})),i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==e?void 0:e.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user,onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.uid}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.uid}`}},null==e?void 0:e.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time))))),i().createElement("div",{className:"title-feed"},null==e?void 0:e.title),i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[A],components:this.components},null==e?void 0:e.value))),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"like_wrapper wrapper-flex-start"},i().createElement("div",{className:"like",onClick:()=>this.like(null==e?void 0:e.ID)},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:w,alt:"like"}):i().createElement("img",{src:_,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count",id:null==e?void 0:e.ID},null==e?void 0:e.count_like," –ù—Ä–∞–≤–∏—Ç—å—Å—è"))),i().createElement("div",{className:"like"},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:k,alt:"like"}):i().createElement("img",{src:y,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count"},l," –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤")))),i().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=e&&e.tag?i().createElement("div",{className:"tags-type"},"#",null==e?void 0:e.tag):null)),this.state.isLoaded?a.map((e=>i().createElement("div",{className:"feed-comments-wrapper-item background-white"},i().createElement("div",{className:"wrapper-comments"},i().createElement("div",{className:"comments-title bottom-line"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),i().createElement("div",{className:"wall-comments"},this.state.comments.length?s.map((e=>i().createElement("div",null,i().createElement("div",{className:"feed-item-value"},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user,onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.user_id}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.user_id}`}},null==e?void 0:e.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)))))),i().createElement("div",{className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[A],components:this.components},null==e?void 0:e.value)))))):i().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")),i().createElement("div",{className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.avatar_url,alt:null==e?void 0:e.login})),i().createElement("div",{className:"value-post placeholder-main-feed"},i().createElement(O(),{className:"feed-textarea",onChange:this.handleChangeTextarea,autoFocus:!1,placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",id:"text_comments",onKeyPress:this.handleKeyPress}))),i().createElement("div",{className:"wrapper-flex-end create-feed-wrapper-button"},i().createElement("div",{className:"button-default",onClick:()=>this.sendComments()},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å")))))):i().createElement("div",{className:"feed-comments-wrapper-item background-white"},i().createElement("div",{className:"wrapper-comments"},i().createElement("div",{className:"comments-title"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),i().createElement("div",{className:"wall-comments"},this.state.comments.length?s.map((e=>i().createElement("div",null,i().createElement("div",{className:"feed-item-value bottom-line"},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:this.copyLogin},null==e?void 0:e.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)))))),i().createElement("div",{className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[A],components:this.components},null==e?void 0:e.value)))))):i().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")))))}))):this.state.notFeed?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ó–∞–º–µ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –ª–∏–±–æ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞."))):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"}))),i().createElement("div",{className:"tags-view"},e?i().createElement("div",{className:"tags-box"},i().createElement("div",{className:"wrapper-data"},i().createElement("div",{className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==n?void 0:n.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{src:null==n?void 0:n.avatar_url,alt:null==n?void 0:n.login,onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==n?void 0:n.id}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==n?void 0:n.id}`}},null==n?void 0:n.login)))),null!=n&&n.location?i().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:"," "+(null==n?void 0:n.location)):null,null!=n&&n.company?i().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:"," "+(null==n?void 0:n.company)):null,null!=n&&n.count_feeds?i().createElement("div",{className:"main-place"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤:"," "+(null==n?void 0:n.count_feeds)):null,null!=n&&n.count_tasks?i().createElement("div",{className:"main-place"},"–°–æ–∑–¥–∞–ª –∑–∞–¥–∞—á:"," "+(null==n?void 0:n.count_tasks)):null):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader-small"}))))}}const U=B,j=require("react-router-dom"),F=require("centrifuge");var $=a.n(F);const R=a.p+"746ec8f0bc97208f903e1a6bfe34c79e.png";class H extends n.Component{constructor(e){super(e),this.state={countUsers:0,countNotes:0,countUsersToday:0,loadData:!1}}auth(){let e={login:document.getElementById("auth_login").value,password:document.getElementById("auth_password").value};fetch("/api/auth",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{200===e.status.code?window.location.href=e.data.location:404===e.status.code?document.getElementById("error_auth").innerHTML="–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å":7182===e.status.code&&(document.getElementById("error_auth").innerHTML="–ê–∫–∫–∞—É–Ω—Ç –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —Å–∞–π—Ç–∞")})).catch((e=>{console.log(e)}))}registration(){let e={login:document.getElementById("registration_login").value,email:document.getElementById("registration_email").value,password:document.getElementById("registration_password").value},t=document.getElementById("registration_two_password").value;e.password===t?fetch("/api/registration",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{200===e.status.code?window.location.href=e.data.location:3002===e.status.code?document.getElementById("error_registration").innerHTML="–¢–∞–∫–æ–π –ª–æ–≥–∏–Ω –∏–ª–∏ —ç–ª. –ø–æ—á—Ç–∞ —É–∂–µ –µ—Å—Ç—å":3003===e.status.code&&(document.getElementById("error_registration").innerHTML="–ù–µ –≤—Å–µ –ø–æ–ª—è –±—ã–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã")})).catch((e=>{console.log(e)})):document.getElementById("error_registration").innerHTML="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç"}componentDidMount(){fetch("/api/status_platform",{method:"GET"}).then((e=>e.json())).then((e=>{200===e.status.code&&this.setState({countUsers:e.data.count_user_to_day,countNotes:e.data.count_notes,loadData:!0})})).catch((e=>{console.log(e)}))}render(){return window.outerWidth<=768?(console.log("mobile"),i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-page-about"},i().createElement("div",{className:"wrapper-about"},i().createElement("div",{className:"about-text"},i().createElement("p",null,i().createElement("b",null,"DevCodeMyLife")," - —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–∫–∞—Ç—å –∫–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –ø—Ä–æ–±–ª–µ–º—É. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–æ—Ä—É–º–æ–≤, —Ç—ã –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –Ω–∞—Ö–æ–¥–∏—à—å —Ç–æ, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, –≤–Ω–µ–¥—Ä—è–µ—à—å –∏ –∑–∞–±—ã–≤–∞–µ—à—å, –≥–¥–µ —Ç—ã —ç—Ç–æ –Ω–∞—Ö–æ–¥–∏–ª.",i().createElement("br",null),i().createElement("br",null),"–í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —Ç—ã —Å–Ω–æ–≤–∞ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—à—å—Å—è —Å –ø–æ–¥–æ–±–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π. –ß—Ç–æ–±—ã –Ω–µ –ª–µ–∑—Ç—å —Å–Ω–æ–≤–∞ –≤ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –∏—Å–∫–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —Ç—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—à—å –∑–∞–ø–æ—Å—Ç–∏—Ç—å –∫–æ–¥ –∑–¥–µ—Å—å, –∏—Å–ø–æ–ª—å–∑—É—è Markdown, –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—à—å –ø–æ–ª–µ–∑–Ω—É—é —á–∞—Å—Ç—å –∫–æ–¥–∞.",i().createElement("br",null),"–¢–∞–∫ –∂–µ —Ç—ã —Å–º–æ–∂–µ—à—å –ø–æ–º–æ—á—å –¥—Ä—É–≥–∏–º, –µ—Å–ª–∏ —Ç–≤–æ–π –∫–æ–¥ –æ–∫–∞–∂–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ª—é–¥–∏ –±—É–¥—É—Ç —á–∞—â–µ –µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –Ω–∞ –Ω–∞—à–µ–π –ø–ª–æ—â–∞–¥–∫–µ.")))),i().createElement("div",{className:"auth-box-list"},i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–í—Ö–æ–¥ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã")),i().createElement("div",{className:"auths-list"},i().createElement("div",{className:"button-auth github",onClick:()=>{window.location.href="https://github.com/login/oauth/authorize?client_id=7262f0da224a3673dee9&redirect_uri=http://devcodemylife.tech/api/oauth/github/redirect&scope=email&state=asiud88as7d&login=devcodemylife&allow_signup=true"}},i().createElement("img",{className:"auth-logo",src:R,alt:"github"}))))),i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–í—Ö–æ–¥")),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"auth_login"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"auth_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("div",{className:"button-default",onClick:()=>{this.auth()}},"–í–æ–π—Ç–∏")),i().createElement("div",{className:"error-wrapper center red",id:"error_auth"}))),i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–ï—Å–ª–∏ –í—ã —É –Ω–∞—Å –≤–ø–µ—Ä–≤—ã–µ"),i().createElement("div",{className:"title-span-auth-small"},"–ü—Ä–æ–π–¥–∏—Ç–µ –ª–µ–≥–∫—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é")),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:28,placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"registration_login"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:30,placeholder:"–≠–ª. –ø–æ—á—Ç–∞",type:"text",id:"registration_email"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"registration_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",type:"password",id:"registration_two_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("div",{className:"button-default",onClick:()=>{this.registration()}},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")),i().createElement("div",{className:"error-wrapper center red",id:"error_registration"})))),this.state.loadData?i().createElement("div",{className:"view-status"},i().createElement("div",{className:"wrapper-status"},i().createElement("div",{className:"auth-box-title"},"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"),i().createElement("div",{className:"auths-list"},i().createElement("p",null,i().createElement("span",{className:"test-stat"},"–°–æ–±—ã—Ç–∏–π —Å–µ–≥–æ–¥–Ω—è:")," ",i().createElement("span",{className:"green"},this.state.countUsers),i().createElement("br",null),i().createElement("span",{className:"test-stat"},"–°–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –≤—Å–µ–≥–æ:")," ",i().createElement("span",{className:"green"},this.state.countNotes),i().createElement("br",null))))):i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box",style:{display:"flex",justifyContent:"center",alignItems:"center"}},i().createElement("div",{className:"loader"}))))):(console.log("desktop"),i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-page-about"},i().createElement("div",{className:"wrapper-about"},i().createElement("div",{className:"about-text"},i().createElement("p",null,i().createElement("b",null,"DevCodeMyLife")," - —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–∫–∞—Ç—å –∫–æ–¥ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —á—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –ø—Ä–æ–±–ª–µ–º—É. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ —á–∏—Å–ª–æ —Ñ–æ—Ä—É–º–æ–≤, —Ç—ã –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –Ω–∞—Ö–æ–¥–∏—à—å —Ç–æ, —á—Ç–æ —Ç–µ–±–µ –Ω—É–∂–Ω–æ, –≤–Ω–µ–¥—Ä—è–µ—à—å –∏ –∑–∞–±—ã–≤–∞–µ—à—å, –≥–¥–µ —Ç—ã —ç—Ç–æ –Ω–∞—Ö–æ–¥–∏–ª.",i().createElement("br",null),i().createElement("br",null),"–í –∫–∞–∫–æ–π-—Ç–æ –º–æ–º–µ–Ω—Ç —Ç—ã —Å–Ω–æ–≤–∞ —Å—Ç–∞–ª–∫–∏–≤–∞–µ—à—å—Å—è —Å –ø–æ–¥–æ–±–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π. –ß—Ç–æ–±—ã –Ω–µ –ª–µ–∑—Ç—å —Å–Ω–æ–≤–∞ –≤ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –∏—Å–∫–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —Ç—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—à—å –∑–∞–ø–æ—Å—Ç–∏—Ç—å –∫–æ–¥ –∑–¥–µ—Å—å, –∏—Å–ø–æ–ª—å–∑—É—è Markdown, –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—à—å –ø–æ–ª–µ–∑–Ω—É—é —á–∞—Å—Ç—å –∫–æ–¥–∞.",i().createElement("br",null),"–¢–∞–∫ –∂–µ —Ç—ã —Å–º–æ–∂–µ—à—å –ø–æ–º–æ—á—å –¥—Ä—É–≥–∏–º, –µ—Å–ª–∏ —Ç–≤–æ–π –∫–æ–¥ –æ–∫–∞–∂–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ª—é–¥–∏ –±—É–¥—É—Ç —á–∞—â–µ –µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º –Ω–∞ –Ω–∞—à–µ–π –ø–ª–æ—â–∞–¥–∫–µ.")))),this.state.loadData?i().createElement("div",{className:"view-status"},i().createElement("div",{className:"wrapper-status"},i().createElement("div",{className:"auth-box-title"},"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"),i().createElement("div",{className:"auths-list"},i().createElement("p",null,i().createElement("span",{className:"test-stat"},"–°–æ–±—ã—Ç–∏–π —Å–µ–≥–æ–¥–Ω—è:")," ",i().createElement("span",{className:"green"},this.state.countUsers),i().createElement("br",null),i().createElement("span",{className:"test-stat"},"–°–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –≤—Å–µ–≥–æ:")," ",i().createElement("span",{className:"green"},this.state.countNotes),i().createElement("br",null))))):i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box",style:{display:"flex",justifyContent:"center",alignItems:"center"}},i().createElement("div",{className:"loader"})))),i().createElement("div",{className:"auth-box-list"},i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–í—Ö–æ–¥ —á–µ—Ä–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã")),i().createElement("div",{className:"auths-list"},i().createElement("div",{className:"button-auth github",onClick:()=>{window.location.href="https://github.com/login/oauth/authorize?client_id=7262f0da224a3673dee9&redirect_uri=http://devcodemylife.tech/api/oauth/github/redirect&scope=email&state=asiud88as7d&login=devcodemylife&allow_signup=true"}},i().createElement("img",{className:"auth-logo",src:R,alt:"github"}))))),i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–í—Ö–æ–¥")),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"auth_login"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"auth_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("div",{className:"button-default",onClick:()=>{this.auth()}},"–í–æ–π—Ç–∏")),i().createElement("div",{className:"error-wrapper center red",id:"error_auth"}))),i().createElement("div",{className:"auth-wrapper"},i().createElement("div",{className:"auth-view-box"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–ï—Å–ª–∏ –í—ã —É –Ω–∞—Å –≤–ø–µ—Ä–≤—ã–µ"),i().createElement("div",{className:"title-span-auth-small"},"–ü—Ä–æ–π–¥–∏—Ç–µ –ª–µ–≥–∫—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é")),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:28,placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"registration_login"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:30,placeholder:"–≠–ª. –ø–æ—á—Ç–∞",type:"text",id:"registration_email"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–∞—Ä–æ–ª—å",type:"password",id:"registration_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",type:"password",id:"registration_two_password"})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("div",{className:"button-default",onClick:()=>{this.registration()}},"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è")),i().createElement("div",{className:"error-wrapper center red",id:"error_registration"}))))))}}const G=H,J=require("react-image-crop");var q=a.n(J);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},K.apply(this,arguments)}require("react-image-crop/dist/ReactCrop.css"),require("prop-types");const V=a(344);class z extends n.Component{constructor(e){super(e),this.state={name:"React"},this.state={error:!1,isLoaded:!1,mainFeed:[],showPreview:!1,textNews:"...",heading:"...",prevState:null,clicked_new_post:!1,show_textarea:!1,id:0,data:[],notUser:!1,close:!1,load:!1,rewriteMode:!1,rewriteValue:null,rewriteTitle:null,currentDateTime:(new Date).getTime(),isDark:"light",file:null,imagePreviewUrl:null,store:this.props.store,crop:{unit:"px",x:0,y:0,width:300,height:300,aspect:1},cropCover:{unit:"px",x:0,y:0,width:735,height:200,aspect:3.675},cropImage:null,showCrop:!1,imageRef:null,idPage:this.props.id,loadImage:!1,clickCreateDialog:!1,isCall:!1,coverUpload:null,src_cover:null,imageCropCover:!1},this.state.store.subscribe((()=>{this.setState(this.state.store.getState()),this.updateStateUser()}))}updateStateUser(){const e=this.state.store.getState();fetch(`/api/user/${e.history.id}`,{method:"GET"}).then((e=>e.json())).then((t=>{0===t.status.code&&t.data.length>0?this.setState({isLoaded:!0,id:e.history.id,result:t.data,mainFeed:t.feed,notUser:!1}):this.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((e=>{this.setState({isLoaded:!1,error:!0,result:{},notUser:!0})}))}getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};deleteFeed(e){fetch(`/api/feed/${e}`,{method:"DELETE",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{const t=this.state.store.getState();let a=`/api/user/${t.history.id}`;fetch(a,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0?(this.cancel(),this.setState({isLoaded:!0,id:t.history.id,result:e.data,mainFeed:e.feed,notUser:!1})):this.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((e=>{this.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(e)}))})).catch((e=>{this.setState({auth:!1,load:!0})}))}like(e){let t={feeds_uuid:e};fetch("/api/like",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((t=>{0===t.status.code&&(console.log(t),document.getElementById(e).innerHTML=t.data.count)})).catch((e=>{console.log(e)}))}previewClick(){this.setState({showPreview:!this.state.showPreview})}rewriteFeed(e,t,a,s,l){this.setState({rewriteUUID:e,rewriteValue:t,rewriteTitle:a,rewriteMode:!0,clicked_new_post:!0,show_textarea:!0,close:s,showPreview:!0,coverUpload:l})}componentDidMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=e=>{this.getPreferredColorScheme()};const e=this.state.store.getState();let t=`/api/user/${e.history.id}`;fetch(t,{method:"GET"}).then((e=>e.json())).then((t=>{0===t.status.code&&t.data.length>0?this.setState({isLoaded:!0,id:e.history.id,result:t.data,mainFeed:t.feed,notUser:!1}):this.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((e=>{this.setState({isLoaded:!1,error:!0,result:{},notUser:!0})}))}components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.Prism,K({wrapLongLines:!1,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",K({className:a},l),s)}};cancel(){this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1,rewriteMode:!1,textNews:"...",coverUpload:null})}saveFeed(){let e={title:document.getElementById("text_title").value,value:document.getElementById("text_news").value,cover_path:this.state.coverUpload,close:this.state.close};this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1,rewriteMode:!1,textNews:"..."}),fetch(`/api/feed/${this.state.rewriteUUID}`,{method:"PUT",body:JSON.stringify({value:e.value,close:e.close,title:e.title,cover_path:e.cover_path})}).then((e=>e.json())).then((e=>{const t=this.state.store.getState();let a=`/api/user/${t.history.id}`;fetch(a,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0?this.setState({isLoaded:!0,id:t.history.id,result:e.data,mainFeed:e.feed,notUser:!1}):this.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((e=>{this.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(e)}))})).catch((e=>{console.log(e)}))}feedNew(){let e={title:document.getElementById("text_title").value,value:document.getElementById("text_news").value,cover_path:this.state.coverUpload,close:this.state.close};e.value.length>1&&(this.setState({clicked_new_post:!1,show_textarea:!1,rewriteValue:null,showPreview:!1}),fetch("/api/feed",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{0===e.status.code&&fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((e=>e.json())).then((e=>{0===e.status.code?this.setState({auth:!0,data:e.data,feed:e.feed,load:!0,token:e.token}):(this.sendLogs(e.status.message),this.delete_cookie("access_token"));const t=this.state.store.getState();let a=`/api/user/${t.history.id}`;fetch(a,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0?this.setState({isLoaded:!0,id:t.history.id,result:e.data,mainFeed:e.feed,notUser:!1}):this.setState({isLoaded:!1,result:{},notUser:!0,error:!0})})).catch((e=>{this.setState({isLoaded:!1,error:!0,result:{},notUser:!0}),console.log(e)}))})).catch((e=>{this.setState({auth:!1,load:!0})}))})).catch((e=>{console.log(e)})))}unixToDateTime(e){return new Date(1e3*e).toLocaleString()}handleChangeTextarea=e=>{""===e.target.value?this.setState({textNews:"..."}):this.setState({textNews:e.target.value})};handleChangeTitle=e=>{this.setState({rewriteTitle:e.target.value})};handleChangeInput=e=>{""===e.target.value?this.setState({heading:"–¢–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞"}):this.setState({heading:e.target.value})};newInputText=e=>{this.setState({clicked_new_post:!0,show_textarea:!0,showPreview:!0})};getLastVisit=e=>Math.floor(e/60);createChat=e=>{this.setState({clickCreateDialog:!0});let t={to_uid:Number(this.state.id)};fetch("/api/chat",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{var t;console.log(e),0===e.status.code?window.location.href=`/messages?cid=${e.data}`:p.toast.error((null===(t=e.status)||void 0===t?void 0:t.message)+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((e=>{p.toast.error(e+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0})}))};onKeyDown=e=>{if(9===e.keyCode){e.preventDefault();const{selectionStart:t,selectionEnd:a}=e.target;this.setState((e=>({lyrics:e.lyrics.substring(0,t)+"\t"+e.lyrics.substring(a)})),(()=>{this.textAreaRef.current.selectionStart=this.textAreaRef.current.selectionEnd=t+1}))}};uploading=e=>{this.setState({file:e.target.files[0]})};uploadClick(){document.getElementById("upload_file_input").click()}uploadClickCover(){document.getElementById("upload_file_input_cover").click()}uploadPhotoAction=e=>{e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{this.setState({file:a,src:t.result,showCrop:!0})},t.readAsDataURL(a),console.log(a)};uploadCoverAction=e=>{e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{},t.readAsDataURL(a);const s=p.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),l=new FormData;l.append("data",a),l.append("width","1000"),l.append("height","420"),this.cancelCrop(),p.toast.update(s,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload_image",{method:"POST",body:l}).then((e=>e.json())).then((e=>{console.log(e),0===e.status.code?(this.setState({coverUpload:null==e?void 0:e.data[0].url_preview}),p.toast.update(s,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):p.toast.update(s,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((e=>{this.setState({loadImage:!1}),p.toast.update(s,{render:e,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))};makeUpload(){const e=p.toast.loading("–ü–æ–¥–æ–∂–¥–∏—Ç–µ, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è"),t=new FormData,a=Math.floor(this.state.imageRef.naturalWidth/Number(this.state.imageRef.width)),s=Math.floor(this.state.imageRef.naturalHeight/Number(this.state.imageRef.height));console.log(this.state.imageRef.naturalWidth,this.state.imageRef.naturalHeight,this.state.crop.x*a,this.state.crop.y*s);const l=this.state.crop.x*a,n=this.state.crop.y*s,i=this.state.crop.width*a,r=this.state.crop.height*s;console.log(l,n,i,r),t.append("data",this.state.file),t.append("x",l.toString()),t.append("y",n.toString()),t.append("x_",i),t.append("y_",r),this.cancelCrop(),p.toast.update(e,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä",type:"default",isLoading:!0}),fetch("/api/upload_main_photo",{method:"POST",body:t}).then((e=>e.json())).then((t=>{console.log(t),0===t.status.code?(this.setState({imagePreviewUrl:null==t?void 0:t.data[0].url_preview}),p.toast.update(e,{render:"–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞",type:"success",isLoading:!1,autoClose:5e3,hideProgressBar:!0})):p.toast.update(e,{render:"–°–µ—Ä–≤–µ—Ä –Ω–µ —Å–º–æ–≥ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é",type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})})).catch((t=>{this.setState({loadImage:!1}),p.toast.update(e,{render:t,type:"error",isLoading:!1,autoClose:5e3,hideProgressBar:!0})}))}onCropChange=(e,t)=>{this.setState({crop:e})};onCropComplete=e=>{this.setState({cropImage:e}),console.log(e)};onImageLoaded=e=>{this.setState({imageRef:e})};cancelCrop(){this.setState({crop:{unit:"px",x:130,y:50,width:300,height:300,aspect:1},cropImage:null,showCrop:!1,imageRef:null})}render(){let{isLoaded:e,textNews:t,mainFeed:a,clicked_new_post:s}=this.state;const l=this.state.store.getState();var n,r,c,o,d,m,u,p,v,g,E,f,N;return l.components.settings.main_page?i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},this.state.showCrop?i().createElement("div",{className:"pop-up"},i().createElement("div",{className:"center-view"},this.state.loadImage?i().createElement("div",{className:"loader"}):i().createElement("div",null,i().createElement(q(),{circularCrop:!0,keepSelection:!0,minWidth:300,minHeight:300,src:this.state.src,crop:this.state.crop,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),i().createElement("div",{className:"wrapper-bottom",style:{width:"100%",boxSizing:"border-box",padding:"20px 0"}},i().createElement("div",{className:"wrapper-flex-start"},i().createElement("div",{className:"button-default",onClick:()=>this.cancelCrop()},"–û—Ç–º–µ–Ω–∞")),i().createElement("div",{className:"wrapper-flex-end"},i().createElement("div",{className:"button-default",onClick:()=>this.makeUpload()},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")))))):null,e?this.state.result[0].is_block?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–°—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —Å–∞–π—Ç–∞."))):i().createElement("div",{className:"feed-wrapper"},Number(this.state.id)===l.auth.user.data.id?i().createElement("div",{className:"feed-wrapper-item background-white"},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:l.auth.user.data.avatar_url,className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null===(n=l.auth.user.data)||void 0===n?void 0:n.avatar_url,alt:null===(r=l.auth.user.data)||void 0===r?void 0:r.login,onClick:e=>{e.preventDefault(),window.location.href=`/user/${l.auth.user.data.id}`}})),i().createElement("div",{className:"value-post placeholder-main-feed",id:"main_input",onClick:s?null:this.newInputText},this.state.clicked_new_post?i().createElement("div",{className:"textarea-hide"},i().createElement("input",{type:"file",name:"file",id:"upload_file_input_cover",onChange:e=>this.uploadCoverAction(e),accept:"image/x-png,image/jpeg",style:{display:"none"}}),this.state.coverUpload?i().createElement("img",{src:this.state.coverUpload,alt:l.auth.user.data.login,onClick:()=>this.uploadClickCover(),style:{cursor:"pointer",maxWidth:"634px"}}):i().createElement(i().Fragment,null,i().createElement("div",{className:"palace-upload-photo-liable",onClick:()=>this.uploadClickCover()},"–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ –±—ã –¥–æ–±–∞–≤–∏—Ç—å –æ–±–ª–æ–∂–∫—É")),i().createElement("div",{className:"title-view"},i().createElement("input",{className:"feed-textarea",autoFocus:!0,type:"text",id:"text_title",onChange:this.handleChangeTitle,placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫",style:{margin:"0 0 10px 0"},value:this.state.rewriteTitle})),i().createElement(O(),{className:"feed-textarea",onChange:this.handleChangeTextarea,placeholder:"–ß—Ç–æ —É –í–∞—Å –Ω–æ–≤–æ–≥–æ?",id:"text_news"},this.state.rewriteMode?this.state.rewriteValue:"")):i().createElement("div",{className:"fake-textarea"},"–ß—Ç–æ —É –í–∞—Å –Ω–æ–≤–æ–≥–æ?"))),this.state.clicked_new_post?i().createElement("div",{className:"wrapper-flex-end create-feed-wrapper-button"},i().createElement("div",{className:"button-default-icon",onClick:()=>{this.setState((e=>({close:!e.close})))}},l.auth.user.data.privat_post||this.state.close?i().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},i().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM36 21c0 0 0-4.9 0-6 0-6.1-4.9-11-11-11-6.1 0-11 4.9-11 11 0 1.1 0 6 0 6"}),i().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"})):i().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},i().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM34.6 13.1c0 0-1.1-3.6-1.3-4.3-1.8-5.8-8-9.1-13.8-7.3-5.8 1.8-9.1 8-7.3 13.8C12.6 16.4 14 21 14 21"}),i().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"}))),i().createElement("div",{className:"button-default",onClick:()=>this.cancel()},"–û—Ç–º–µ–Ω–∞"),this.state.rewriteMode?i().createElement("div",{className:"button-default",onClick:()=>{this.deleteFeed(this.state.rewriteUUID)}},"–£–¥–∞–ª–∏—Ç—å"):null,this.state.rewriteMode?i().createElement("div",{className:"button-default",onClick:()=>this.saveFeed()},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"):i().createElement("div",{className:"button-default",onClick:()=>this.feedNew()},"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å")):null,this.state.showPreview?i().createElement(i().Fragment,null,i().createElement("div",{className:"preview-news preview_swap"},i().createElement("div",{className:"feed-wrapper-item",style:{boxShadow:"none"}},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[V],components:this.components},t)))))):null)):null,(null==a?void 0:a.length)>0?null==a?void 0:a.map((e=>i().createElement("div",{key:null==e?void 0:e.ID,className:"feed-wrapper-item"},i().createElement(h.Link,{style:{textDecoration:"none"},href:`/post?uuid=${null==e?void 0:e.ID}`},""!==(null==e?void 0:e.cover_path)?i().createElement("img",{className:"cover-feed",src:e.cover_path,alt:e.title}):null,i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.uid}`},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},l.auth.user.data.id===Number(this.state.id)?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(l.auth.user.data.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}):Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user}))),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.uid}`},i().createElement("div",{className:"link-user"},null==e?void 0:e.user)),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)))),Number(this.state.id)===l.auth.user.data.id?i().createElement("div",{className:"button-default-icon-disable hide-border"},null!=e&&e.close?i().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},i().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM36 21c0 0 0-4.9 0-6 0-6.1-4.9-11-11-11-6.1 0-11 4.9-11 11 0 1.1 0 6 0 6"}),i().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"})):i().createElement("svg",{className:"svg-close-view",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px"},i().createElement("path",{fill:"none",className:"svg-close",stroke:"#000000",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",d:"M9 49c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h32c1.1 0 2 .9 2 2v24c0 1.1-.9 2-2 2H9zM34.6 13.1c0 0-1.1-3.6-1.3-4.3-1.8-5.8-8-9.1-13.8-7.3-5.8 1.8-9.1 8-7.3 13.8C12.6 16.4 14 21 14 21"}),i().createElement("path",{d:"M28,33c0-1.7-1.3-3-3-3c-1.7,0-3,1.3-3,3c0,0.9,0.4,1.7,1,2.2V38c0,1.1,0.9,2,2,2c1.1,0,2-0.9,2-2v-2.8C27.6,34.7,28,33.9,28,33z"}))):null),i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{className:"title-feed"},null==e?void 0:e.title)))),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"like_wrapper wrapper-flex-start"},i().createElement("div",{className:"like",onClick:()=>this.like(null==e?void 0:e.ID)},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:w,alt:"like"}):i().createElement("img",{src:_,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count",id:null==e?void 0:e.ID},null==e?void 0:e.count_like))),i().createElement("div",{className:"like"},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:k,alt:"like"}):i().createElement("img",{src:y,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count"},null==e?void 0:e.look_count))),Number(this.state.id)===l.auth.user.data.id?i().createElement("div",{className:"like",onClick:()=>{this.rewriteFeed(null==e?void 0:e.ID,null==e?void 0:e.value,null==e?void 0:e.title,null==e?void 0:e.close,e.cover_path)}},i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count"},"–ò–∑–º–µ–Ω–∏—Ç—å"))):null),i().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=e&&e.tag?i().createElement("div",{className:"tags-type"},"#",null==e?void 0:e.tag):null))))):Number(this.state.id)===l.auth.user.data.id?i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å –ø–æ–ª–µ–∑–Ω–æ–µ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –∏–ª–∏ –¥–ª—è —Å–µ–±—è.")):i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},this.state.result[0].login," –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–ø–∏—Å–∞–ª."))):this.state.notUser&&l.auth.user.isAuth?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–¢–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"))):l.auth.user.isAuth?i().createElement("div",{className:"feed-wrapper",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},i().createElement("div",{className:"loader"})):i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.")))),i().createElement("div",{className:"tags-view"},e?i().createElement("div",{className:"tags-box"},i().createElement("div",{className:"main-place-photo-column "},i().createElement("input",{type:"file",name:"file",id:"upload_file_input",onChange:e=>this.uploadPhotoAction(e),accept:"image/x-png,image/jpeg",style:{display:"none"}}),Number(this.state.id)===l.auth.user.data.id?this.state.imagePreviewUrl?i().createElement("img",{src:this.state.imagePreviewUrl,alt:l.auth.user.data.login,onClick:()=>this.uploadClick(),style:{cursor:"pointer"}}):i().createElement("img",{src:l.auth.user.data.avatar_url,alt:l.auth.user.data.login,onClick:()=>this.uploadClick(),style:{cursor:"pointer"}}):i().createElement("img",{src:this.state.result[0].avatar_url,alt:this.state.result[0].login,style:{cursor:"default"}})),i().createElement("div",{className:"main-place-info-column "},i().createElement("div",{className:"main-place date_active"},l.auth.user.data.id===Number(this.state.id)?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(l.auth.user.data.last_active_at).getTime()/1e3)>120?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(l.auth.user.data.last_active_at).getTime()/1e3)>60?i().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",new Date(l.auth.user.data.last_active_at).toLocaleString()):i().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",this.getLastVisit(Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(l.auth.user.data.last_active_at).getTime()/1e3))," –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥."):i().createElement("span",{className:"info_status"},"–°–µ–π—á–∞—Å –Ω–∞ —Å–∞–π—Ç–µ"):Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3)>120?Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3)>60?i().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",new Date(this.state.result[0].last_active_at).toLocaleString()):i().createElement("span",{className:"info_status"},"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ ",this.getLastVisit(Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(this.state.result[0].last_active_at).getTime()/1e3))," –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥."):i().createElement("span",{className:"info_status"},"–°–µ–π—á–∞—Å –Ω–∞ —Å–∞–π—Ç–µ")),i().createElement(D.Helmet,null,l.auth.user.data.id===Number(this.state.id)?i().createElement("title",null,l.auth.user.data.login," | DevCodeMyLife"):i().createElement("title",null,this.state.result[0].login," | DevCodeMyLife")),i().createElement("div",{className:"main-place name"},l.auth.user.data.id===Number(this.state.id)?null!==(c=l.auth.user.data)&&void 0!==c&&c.name?" "+l.auth.user.data.name+" "+l.auth.user.data.last_name:" "+l.auth.user.data.login:null!==(o=this.state.result[0])&&void 0!==o&&o.name?" "+this.state.result[0].name+" "+this.state.result[0].last_name:" "+this.state.result[0].login),i().createElement("div",{className:"main-place"},"Email:",Number(this.state.id)===l.auth.user.data.id?null!==(d=l.auth.user.data)&&void 0!==d&&d.email?" "+l.auth.user.data.email:" –Ω–µ—Ç":" –°–∫—Ä—ã—Ç –ª–∏–±–æ –Ω–µ –∑–∞–¥–∞–Ω"),i().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:",Number(this.state.id)===l.auth.user.data.id?null!==(m=l.auth.user.data)&&void 0!==m&&m.company?" "+l.auth.user.data.company:" –Ω–µ—Ç":null!==(u=this.state.result[0])&&void 0!==u&&u.company?" "+this.state.result[0].company:" –Ω–µ—Ç"),i().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:",Number(this.state.id)===l.auth.user.data.id?null!==(p=l.auth.user.data)&&void 0!==p&&p.location?" "+l.auth.user.data.location:" –Ω–µ—Ç":null!==(v=this.state.result[0])&&void 0!==v&&v.location?" "+this.state.result[0].location:" –Ω–µ—Ç"),i().createElement("div",{className:"main-place"},"–ü—Ä–æ—Ñ–∏–ª—å GitHub:",Number(this.state.id)===l.auth.user.data.id?null!==(g=l.auth.user.data)&&void 0!==g&&g.html_url?i().createElement("a",{className:"link_github",target:"_blank",href:l.auth.user.data.html_url,rel:"noreferrer"}," ",l.auth.user.data.login):" –Ω–µ—Ç":null!==(E=this.state.result[0])&&void 0!==E&&E.html_url?i().createElement("a",{className:"link_github",target:"_blank",href:this.state.result[0].html_url,rel:"noreferrer"}," ",this.state.result[0].login):" –Ω–µ—Ç"),i().createElement("div",{className:"main-place"},"–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—é–º–µ:",Number(this.state.id)===l.auth.user.data.id?null!==(f=l.auth.user.data)&&void 0!==f&&f.link_summary?i().createElement("a",{className:"link_github",target:"_blank",href:l.auth.user.data.link_summary,rel:"noreferrer"}," ",l.auth.user.data.login):" –Ω–µ—Ç":null!==(N=this.state.result[0])&&void 0!==N&&N.link_summary?i().createElement("a",{className:"link_github",target:"_blank",href:this.state.result[0].link_summary,rel:"noreferrer"}," ",this.state.result[0].login):" –Ω–µ—Ç"),i().createElement("div",{className:"main-place"},Number(this.state.id)!==l.auth.user.data.id?this.state.clickCreateDialog?i().createElement("div",null,i().createElement("div",{className:"loader-small"})):i().createElement("div",{className:"button-default",style:{width:"100%",boxSizing:"border-box"},onClick:this.createChat},"–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ"):null))):this.state.notUser&&l.auth.user.isAuth?null:l.auth.user.isAuth?i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader-small"})):null)):i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –ü—Ä–æ—Ñ–∏–ª–µ–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã."))))}}const W=z,Y=a.p+"79f1fc7e559a3564eb15acc95726812e.png",Z=a.p+"29af39577712532a5c7641f2f9ed71df.png",Q=a.p+"cc0a5518c9c63592453b39a00d7d261a.mp3";var X=a(344),ee=a.n(X);function te(){return te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},te.apply(this,arguments)}a.p,a.p;class ae extends n.Component{constructor(e){super(e);let t=window.AudioContext||window.webkitAudioContext;this.state={cent:null,_createMessage:!1,chats:[],messages:[],dialog:!1,cid:null,cent_channel:null,typing:null,context:new t,audio:new Audio(Q),loadCent:!1,messagesCount:0,load:!1,data:null,dialogTitle:null,loader:!0,store:this.props.store,openCall:!1,isDark:"light",uidUserPeer:0,am:!1,stateCode:0,lastTimeToLive:null},this.state.store.subscribe((()=>{this.setState(this.state.store.getState()),this.updateState()})),this.pc1=null,this.pc2=null}getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};messagesEndRef=i().createRef();videoMain=i().createRef();videoPeer=i().createRef();localStream=null;streamConstraints={audio:!0,video:!1};offerOptions={offerToReceiveAudio:1,offerToReceiveVideo:0};createMessage=e=>{this.setState({_createMessage:!0})};allMessage=e=>{this.setState({_createMessage:!1}),this.state.cent_channel&&this.state.cid&&(this.state.cent_channel.unsubscribe(),this.state.cent_channel.removeAllListeners()),e&&window.history.pushState({urlPath:"/messages"},"","/messages"),fetch("/api/chat",{method:"GET"}).then((e=>e.json())).then((e=>{var t;0===(null==e||null===(t=e.status)||void 0===t?void 0:t.code)&&this.setState({chats:null==e?void 0:e.data,load:!0,loader:!1})})).catch((e=>{console.log(e)}))};unixToDateTime(e){return new Date(e).toLocaleString()}sendMessageButton=e=>{const t=this.state.store.getState();let a={value:document.getElementById("message_chat").value,c_id:this.state.cid},s=document.getElementById("message_chat").value;if(this.clearInput(document.getElementById("message_chat")),a.value.length>0&&a.value.search(/[a-zA-Z–∞-—è–ê-–Ø0-9]/i)>-1){let e={created_at:(new Date).getTime(),c_id:this.state.cid,value:s,avatar_url:t.auth.user.data.avatar_url,uid:t.auth.user.data.id,date_time:Math.round((new Date).getTime()/1e3),login:t.auth.user.data.login};this.state.messages.push(e),this.setState({messages:this.state.messages}),this.scrollToBottom(),fetch("/api/messages",{method:"POST",body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{this.read(this.state.cid),this.scrollToBottom()})).catch((e=>{console.log(e)}))}};sendMessage=e=>{const t=this.state.store.getState();let a=this,s={value:e.target.value,c_id:this.state.cid},l=e.target.value;if(this.state.cent_channel&&this.state.cent_channel.publish({input:{typing:t.auth.user.data.login}}).then((function(){}),(function(e){})),13!==e.keyCode&&this.setState({stateCode:e.keyCode}),13===e.keyCode&&16!==this.state.stateCode&&l.length>0){this.setState({stateCode:0});let n={created_at:(new Date).getTime(),c_id:this.state.cid,value:l,avatar_url:t.auth.user.data.avatar_url,uid:t.auth.user.data.id,date_time:Math.round((new Date).getTime()/1e3),login:t.auth.user.data.login};this.state.messages.push(n),this.setState({messages:this.state.messages}),this.scrollToBottom(),e.preventDefault(),a.clearInput(e.target),s.value.length>0&&fetch("/api/messages",{method:"POST",body:JSON.stringify(s)}).then((e=>e.json())).then((e=>{this.read(this.state.cid)})).catch((e=>{console.log(e)}))}};components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.Prism,te({wrapLongLines:!1,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",te({className:a},l),s)}};clearInput(e){e.value=e.value.replace(/[\n\r]/g,""),e.value="",e.style.height="50px"}updateState(){if(this.state.dialog){let e=`/api/message/${this.state.cid}`;fetch(e,{method:"GET"}).then((e=>e.json())).then((e=>{var t;if(0===(null==e||null===(t=e.status)||void 0===t?void 0:t.code)){if(this.setState({messages:e.data.sort((function(e,t){return Math.round(1e3*new Date(e.created_at).getTime())>Math.round(1e3*new Date(t.created_at).getTime())?1:-1})),dialog:!0,cid:this.state.cid,dialogTitle:null==e?void 0:e.title_dialog,linkUser:null==e?void 0:e.id_user,loader:!1}),document.getElementById("chats-list"))for(let e of document.getElementById("chats-list").children)e.classList.remove("hover-message-dialog");else setTimeout((()=>{if(document.getElementById("chats-list"))for(let e of document.getElementById("chats-list").children)e.classList.remove("hover-message-dialog")}),600);for(let e of document.getElementById("chats-list").children)e.getAttribute("id")===this.state.cid&&e.classList.add("hover-message-dialog")}})).catch((e=>{console.log(e)})),this.allMessage()}}openDialog(e){const t=this.state.store.getState();let a=this,s=`/api/message/${e}`;window.history.pushState({urlPath:`/messages?cid=${e}`},"",`/messages?cid=${e}`);let l=t.centrifuge.object.subscribe(e,(async function(e){var s,l,n;let i=a.state.messages;var r,c,o;if((null===(s=e.data)||void 0===s||null===(l=s.input)||void 0===l?void 0:l.typing)!==t.auth.user.data.login&&null!==(r=e.data)&&void 0!==r&&null!==(c=r.input)&&void 0!==c&&c.typing){var d,m;a.setState({typing:`${null==e||null===(d=e.data)||void 0===d||null===(m=d.input)||void 0===m?void 0:m.typing} –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.`});try{document.getElementById("hide-typing").style.display="block",setTimeout((()=>{document.getElementById("hide-typing").style.display="none"}),5e3)}catch(e){console.error(e)}}null!=e&&null!==(n=e.data)&&void 0!==n&&n.login&&((null==e||null===(o=e.data)||void 0===o?void 0:o.login)!==t.auth.user.data.login&&a.state.context.resume().then((()=>{a.state.audio.play()})),e.data.uid!==t.auth.user.data.id&&(i.push(null==e?void 0:e.data),a.setState({messages:i}),a.scrollToBottom()))}));this.setState({cent_channel:l}),fetch(s,{method:"GET"}).then((e=>e.json())).then((t=>{var a;if(0===(null==t||null===(a=t.status)||void 0===a?void 0:a.code)){if(this.setState({messages:t.data.sort((function(e,t){return Math.round(1e3*new Date(e.created_at).getTime())>Math.round(1e3*new Date(t.created_at).getTime())?1:-1})),dialog:!0,cid:e,dialogTitle:null==t?void 0:t.title_dialog,linkUser:null==t?void 0:t.id_user,avatar:null==t?void 0:t.avatar,lastTimeToLive:null==t?void 0:t.last_time_to_live,loader:!1,load:!0}),this.scrollToBottom(),document.getElementById("chats-list"))for(let e of document.getElementById("chats-list").children)e.classList.remove("hover-message-dialog");else setTimeout((()=>{if(document.getElementById("chats-list"))for(let e of document.getElementById("chats-list").children)e.classList.remove("hover-message-dialog")}),600);for(let t of document.getElementById("chats-list").children)t.getAttribute("id")===e&&t.classList.add("hover-message-dialog")}})).catch((e=>{console.log(e)}))}read(e){fetch(`/api/message/read/${e}`,{method:"PUT",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{})).catch((e=>{p.toast.error(e+" - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ",{position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0}),this.setState({auth:!1,load:!0})}))}changerPage=()=>{const e=new URLSearchParams(window.location.search).get("cid");e&&(this.setState({cid:e}),this.openDialog(e)),this.allMessage()};async getMediaStream(){const e=this.state.store.getState();void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){let t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.GetUserMedia;return t?new Promise((function(a,s){t.call(navigator,e,a,s)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),this.localStream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),this.state.store.dispatch({type:"ACTION_SET_STREAM",value:this.localStream}),this.state.am||this.state.cent_channel.publish({type:"ready",uid:this.state.uidUserPeer}).then((function(){}),(function(e){})),await this.openCall(e.stream)}textToHTML(e){let t=document.createElement("div");return t.innerHTML=e,t}componentDidMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=e=>{this.getPreferredColorScheme()},this.changerPage()}scrollToBottom=()=>{this.messagesEndRef.current.scrollIntoView({behavior:"smooth"})};async start(e){this.setState({openCall:!this.state.openCall}),await this.getMediaStream(),console.log(this.state.uidUserPeerMainUUID)}async call(e){await this.getMediaStream(),fetch(`/api/call/${e}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.state.store.dispatch({type:"ACTION_SET_CALL",value:{status:"–ñ–¥–µ–º –æ—Ç–≤–µ—Ç–∞",state:!0,audio:new Audio,cc:e.data.cc}}),this.state.store.dispatch({type:"ACTION_SET_AM",value:!0})}))}async openCall(e){const t=this.state.store.getState();for(const a of e.getTracks())t.webRTC.pc.addTrack(a,e)}async createOffer(){let e=this;const t=this.state.store.getState();let a;try{a=await t.webRTC.pc.createOffer(),await t.webRTC.pc.setLocalDescription(a),console.log("create offer",a),this.state.cent_channel.publish({type:"offer",offer:t.webRTC.pc.localDescription,uid:e.state.uidUserPeer}).then((function(){}),(function(e){}))}catch(e){console.error(e)}}async onOffer(e){const t=this.state.store.getState();let a=this;if(await t.webRTC.pc.setRemoteDescription(e),"stable"!==t.webRTC.pc.signalingState){let e=await t.webRTC.pc.createAnswer();await t.webRTC.pc.setLocalDescription(e),console.log(t.webRTC.pc.localDescription),this.state.cent_channel.publish({type:"answer",answer:t.webRTC.pc.localDescription,uid:a.state.uidUserPeer}).then((function(){}),(function(e){}))}}convertNewLinesToBr(e){return e.replace(/(?:\r\n|\r|\n)/g,"<br />")}getUserMedia_success(e){this.videoMain.current.srcObject=new MediaStream(e),this.videoMain.current.play(),this.localStream=e}getUserRemote(e){console.log(e),this.videoPeer.current.srcObject=new MediaStream(e),this.videoPeer.current.play(),this.localStream=e}async getUserMedia_click(){const e=await navigator.mediaDevices.getUserMedia(this.streamConstraints);this.getUserMedia_success(e)}time2TimeAgo(e){let t=new Date,a=Math.floor(t.getTime()/1e3)-new Date(e).getTime()/1e3;return a>172800?"–ë—ã–ª(–∞) –±–æ–ª—å—à–µ 5 –¥–Ω–µ–π –Ω–∞–∑–∞–¥":a>86400?"–ë—ã–ª(–∞) –≤—á–µ—Ä–∞":a>3600?"–ë—ã–ª(–∞) 5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥":a>1800?"–ë—ã–ª(–∞) –ø–æ–ª—á–∞—Å–∞ –Ω–∞–∑–∞–¥":a>60?"–ë—ã–ª(–∞) "+Math.floor(a/60)+" –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥":a<60?"Online":void 0}render(){const e=this.state.store.getState();var t;return this.state.load?e.components.settings.messenger||"admin"===e.auth.user.scope?i().createElement(i().Fragment,null,i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-content-default"},this.state.loader?i().createElement("div",{className:"wrapper-chats-main"},i().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),i().createElement("div",{className:"chats-list"})):0===this.state.chats.length?i().createElement("div",{className:"wrapper-chats-main"},i().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),i().createElement("div",{className:"chats-list"},i().createElement("div",{className:"info-user-chat",style:{color:"var(--font-color)"}},"–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç"))):i().createElement("div",{className:"wrapper-chats-main"},i().createElement("div",{className:"lable-dialogs-list"},"–í—Å–µ —á–∞—Ç—ã"),i().createElement("div",{className:"chats-list",id:"chats-list"},this.state.chats.map((e=>{var t,a;return e.no_read_count?i().createElement("div",{className:"feed-wrapper-item-chat chat-flex-row hover-message-dialog",style:{marginBottom:0},onClick:()=>this.openDialog(e.c_id),id:e.c_id},i().createElement("div",{className:"photo-wrapper-chat"},i().createElement("img",{src:e.avatar_url,alt:e.avatar_url})),i().createElement("div",{className:"feed-item-title",style:{padding:"13px"}},i().createElement("span",{className:"test-stat"},e.login),i().createElement("div",{className:"feed-item-datetime"},(null===(t=e.last_message)||void 0===t?void 0:t.substring(0,40))+"..."))):i().createElement("div",{className:"feed-wrapper-item-chat chat-flex-row",style:{marginBottom:0},onClick:()=>this.openDialog(e.c_id),id:e.c_id},i().createElement("div",{className:"photo-wrapper-chat"},i().createElement("img",{src:e.avatar_url,alt:e.avatar_url})),i().createElement("div",{className:"feed-item-title",style:{padding:"13px"}},i().createElement("span",{className:"test-stat"},e.login),i().createElement("div",{className:"feed-item-datetime"},(null===(a=e.last_message)||void 0===a?void 0:a.substring(0,40))+"...")))})))),this.state.dialog?i().createElement(i().Fragment,null,i().createElement("div",{className:"wrapper-chat"},i().createElement("div",{className:"messages-control-nav"},i().createElement("div",{className:"messages-control-nav-item"},i().createElement("div",{className:"avatar-wrapper"},i().createElement(h.Link,{href:`/user/${this.state.linkUser}`},i().createElement("img",{src:this.state.avatar,alt:this.state.dialogTitle}))),i().createElement("div",{className:"block-title-chat"},i().createElement(h.Link,{href:`/user/${this.state.linkUser}`},i().createElement("div",{className:"title-dialog"},this.state.dialogTitle)),i().createElement("div",{className:"feed-item-datetime"},this.time2TimeAgo(this.state.lastTimeToLive))))),i().createElement("div",{className:"wrapper-items",id:"messages",style:{}},null===(t=this.state.messages)||void 0===t?void 0:t.map((t=>e.auth.user.data.id===t.uid?i().createElement("div",{className:"message-item flex-end",style:{boxShadow:"none",background:t.read?"none":"var(--not-read-message)"}},i().createElement("div",{className:"wrapper-data",style:{flexDirection:"row",borderRadius:"10px"}},i().createElement(h.Link,{href:`/user/${t.uid}`},i().createElement("div",{className:"photo-wrapper"},i().createElement("img",{src:t.avatar_url,alt:t.login}))),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==t?void 0:t.uid}`},i().createElement("div",{className:"link-user"},null==t?void 0:t.login)),i().createElement("div",{className:"feed-item-datetime"},new Date(1e3*Math.round(new Date(t.created_at).getTime()/1e3)).toLocaleString())),i().createElement(x(),{className:"value-post",remarkPlugins:[ee()],components:this.components},t.value),i().createElement("div",{className:"settings-messages"})))):i().createElement("div",{className:"message-item flex-start",style:{background:t.read?"none":"var(--not-read-message)",boxShadow:"none"},onMouseEnter:()=>{this.read(t.c_id)}},i().createElement("div",{className:"wrapper-data",style:{flexDirection:"row",borderRadius:"10px"}},i().createElement(h.Link,{href:`/user/${t.uid}`},i().createElement("div",{className:"photo-wrapper"},i().createElement("img",{src:t.avatar_url,alt:t.login}))),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==t?void 0:t.uid}`},i().createElement("div",{className:"link-user"},i().createElement("span",{className:"test-stat"},null==t?void 0:t.login))),i().createElement("div",{className:"feed-item-datetime"},new Date(1e3*Math.round(new Date(t.created_at).getTime()/1e3)).toLocaleString())),i().createElement(x(),{className:"value-post",remarkPlugins:[ee()],components:this.components},t.value),i().createElement("div",{className:"settings-messages"})))))),i().createElement("div",{ref:this.messagesEndRef})),i().createElement("div",{className:"view-typing-text"},i().createElement("div",{className:"typing_user",id:"typing_user"},i().createElement("div",{className:"hide-typing",id:"hide-typing"},i().createElement("div",{className:"image-icon-typing"},i().createElement("img",{src:Z,alt:"typing"})),i().createElement("div",{className:"typing-text"},this.state.typing))),i().createElement("div",{className:"wrapper-input"},i().createElement(O(),{onKeyDown:this.sendMessage,placeholder:"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",autoFocus:!0,maxRows:15,id:"message_chat",style:{borderRadius:"5px"}}),i().createElement("div",{className:"send-button",onClick:this.sendMessageButton},i().createElement("img",{src:Y,alt:"send"})))))):i().createElement(i().Fragment,null,i().createElement("div",{className:"wrapper-chat"},i().createElement("div",{className:"info-user-chat"},i().createElement("div",{style:{color:"var(--font-color)"}},"–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–∞—Ç—å—Å—è")))))),i().createElement("div",{className:"tags-view"})):i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,"–í —Ä–∞–∑–¥–µ–ª–µ –°–æ–æ–±—â–µ–Ω–∏–π –≤–µ–¥—É—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã.")))):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"}))}}const se=ae;class le extends n.Component{constructor(e){super(e),this.state={callBack:this.props.callBack,enable:this.props.enable}}switcher(){var e;this.setState((({enable:e})=>({enable:!e}))),null===(e=this.state)||void 0===e||e.callBack(this.state.enable)}render(){return i().createElement("div",{className:"button-switch",style:this.state.enable?{background:"#38FC93",flexDirection:"row-reverse"}:{background:"#ff8585",flexDirection:"row"}},i().createElement("div",{className:"bobble",onClick:()=>this.switcher()}))}}const ne=le;class ie extends n.Component{constructor(e){super(e),this.state={privatPost:!1,testing:!1,load:"load",login:null,name:null,lastName:null,email:null,link:null,store:this.props.store,imagePreviewUrl:null,crop:{unit:"px",x:0,y:0,width:300,height:300,aspect:1},cropImage:null,showCrop:!1,imageRef:null},this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}changeSettingsTesting=e=>{let t={testing:!e,privat_post:this.state.store.getState().auth.user.data.privat_post};fetch("/api/settings?flags=switch",{method:"PUT",body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{this.updateState()})).catch((e=>{console.log(e)}))};changeSettingsPrivat=e=>{let t={testing:this.state.store.getState().auth.user.data.testing,privat_post:!e};fetch("/api/settings?flags=switch",{method:"PUT",body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{this.updateState()})).catch((e=>{console.log(e)}))};changeSettingsAdminMainPage=e=>{const t=this.state.store.getState();let a={main_page:!e,feed:t.components.settings.feed,messenger:t.components.settings.messenger};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{this.updateState()})).catch((e=>{console.log(e)}))};changeSettingsAdminMessengerPage=e=>{const t=this.state.store.getState();let a={main_page:t.components.settings.messenger,feed:t.components.settings.feed,messenger:!e};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{this.updateState()})).catch((e=>{console.log(e)}))};changeSettingsAdminFeedPage=e=>{const t=this.state.store.getState();let a={main_page:t.components.settings.messenger,feed:!e,messenger:t.components.settings.feed};fetch("/api/app/components",{method:"PUT",body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{this.updateState()})).catch((e=>{console.log(e)}))};getLastVisit=e=>Math.floor(e/60);updateState(){fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&(this.state.store.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}}),fetch("/api/app/components",{method:"GET"}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&this.state.store.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:e.data}})})))}))}save(){let e={login:document.getElementById("login").value,name:document.getElementById("name").value,last_name:document.getElementById("last_name").value,email:document.getElementById("email").value,link:document.getElementById("link").value};fetch("/api/settings",{method:"PUT",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{"0"===e.status.code?(document.getElementById("event_save").style.color="green",document.getElementById("event_save").innerHTML="–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ",this.updateState()):(document.getElementById("event_save").style.color="red",document.getElementById("event_save").innerHTML="–í—Å–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã")})).catch((e=>{console.log(e)}))}componentDidMount(){fetch("/api/app/components",{method:"GET"}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&(this.state.store.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:e.data}}),this.setState({load:"complete"}))}))}render(){var e;const t=this.state.store.getState();return i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},t.auth.user.isAuth?"complete"===this.state.load?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,i().createElement("b",null,"–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - ")," –≤–∫–ª—é—á–∏–≤ —Ä–µ–∂–∏–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –í—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ —á—Ç–æ –≥–æ—Ç–æ–≤—ã, –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É —á—Ç–æ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ.")),i().createElement("div",{className:"main-place-wrapper-settings"},i().createElement("div",{className:"block-settings child_settings"},i().createElement("div",{className:"key-settings"},"–ü—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ"),i().createElement("div",{className:"value-settings"},t.auth.user.data.privat_post?i().createElement(ne,{enable:!0,callBack:e=>this.changeSettingsPrivat(e)}):i().createElement(ne,{enable:!1,callBack:e=>this.changeSettingsPrivat(e)}))),i().createElement("div",{className:"block-settings child_settings"},i().createElement("div",{className:"key-settings"},"–£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏"),i().createElement("div",{className:"value-settings"},t.auth.user.data.testing?i().createElement(ne,{enable:!0,callBack:e=>this.changeSettingsTesting(e)}):i().createElement(ne,{enable:!1,callBack:e=>this.changeSettingsTesting(e)})))),i().createElement("div",{className:"main-place-wrapper-settings"},i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–õ–æ–≥–∏–Ω",type:"text",id:"login",defaultValue:t.auth.user.data.login})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–ò–º—è",type:"text",id:"name",defaultValue:t.auth.user.data.name})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:"28",placeholder:"–§–∞–º–∏–ª–∏—è",type:"text",id:"last_name",defaultValue:t.auth.user.data.last_name})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:"30",placeholder:"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞",type:"text",id:"email",defaultValue:t.auth.user.data.email})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("input",{className:"input-default",maxLength:"60",placeholder:"–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–∑—é–º–µ",type:"text",id:"link",defaultValue:t.auth.user.data.link_summary})),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement("div",{className:"button-default",onClick:()=>this.save()},"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å")),i().createElement("div",{className:"error-wrapper center",id:"event_save",style:{color:"green"}})),"admin"===t.auth.user.data.scope?i().createElement("div",null,i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,"–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")),i().createElement("div",{className:"main-place-wrapper-settings"},i().createElement("div",{className:"block-settings child_settings"},i().createElement("div",{className:"key-settings"},"messenger"),i().createElement("div",{className:"value-settings"},t.components.settings.messenger?i().createElement(ne,{enable:!0,callBack:e=>{this.changeSettingsAdminMessengerPage(e)}}):i().createElement(ne,{enable:!1,callBack:e=>{this.changeSettingsAdminMessengerPage(e)}}))),i().createElement("div",{className:"block-settings child_settings"},i().createElement("div",{className:"key-settings"},"main_page"),i().createElement("div",{className:"value-settings"},t.components.settings.main_page?i().createElement(ne,{enable:!0,callBack:e=>{this.changeSettingsAdminMainPage(e)}}):i().createElement(ne,{enable:!1,callBack:e=>{this.changeSettingsAdminMainPage(e)}}))),i().createElement("div",{className:"block-settings child_settings"},i().createElement("div",{className:"key-settings"},"feed"),i().createElement("div",{className:"value-settings"},t.components.settings.feed?i().createElement(ne,{enable:!0,callBack:e=>{this.changeSettingsAdminFeedPage(e)}}):i().createElement(ne,{enable:!1,callBack:e=>{this.changeSettingsAdminFeedPage(e)}}))))):null):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"})):i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É.")))),i().createElement("div",{className:"tags-view"},t.auth.user.isAuth?"complete"===this.state.load?i().createElement("div",{className:"tags-box"},i().createElement("div",{className:"main-place-photo-column "},i().createElement("img",{src:t.auth.user.data.avatar_url,alt:t.auth.user.data.login,style:{cursor:"default"}})),i().createElement("div",{className:"main-place-info-column "},i().createElement("div",{className:"main-place name"},null!==(e=t.auth.user.data)&&void 0!==e&&e.name?" "+t.auth.user.data.name+" "+t.auth.user.data.last_name:" "+t.auth.user.data.login))):t.auth.user.isAuth?null:i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"})):null))}}const re=ie,ce=require("react-currency-input-field");var oe=a.n(ce);const de=require("react-select");var me=a.n(de);function ue(){return ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ue.apply(this,arguments)}require("@emotion/react");const he=[{value:"0",label:"–õ–µ–≥–∫–æ"},{value:"1",label:"–°—Ä–µ–¥–Ω–µ"},{value:"2",label:"–°–ª–æ–∂–Ω–æ"}],pe=(e="var(--bg-grey)")=>({alignItems:"center",display:"flex",color:"var(--font-color)",":before":{backgroundColor:e,borderRadius:10,content:'" "',display:"block",marginRight:8,height:10,width:10}}),ve={control:e=>({...e,backgroundColor:"var(--bg-grey)"}),option:(e,{data:t,isDisabled:a,isFocused:s,isSelected:l})=>({...e,color:a?"#ccc":l?"white":t.color,cursor:a?"not-allowed":"default"}),input:e=>({...e,...pe()}),placeholder:e=>({...e,...pe()}),singleValue:(e,{data:t})=>({...e,...pe(t.color)})};class ge extends n.Component{constructor(e){super(e),this.state={mode:null,dateNow:new Date,selectedOption:null,auth:!1,freeSearch:null,load:"load",free:null,price:0}}componentDidMount(){fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((e=>e.json())).then((e=>{0===e.status.code?(this.setState({auth:!0}),fetch("api/freelances",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({free:e.data,load:"continue"})})).catch((e=>{console.log(e)}))):this.setState({load:"notAuth"})})).catch((e=>{console.log(e)}))}handleChangeSelect=e=>{this.setState({selectedOption:e})};cancelTask=()=>{this.setState({mode:null})};createTask=e=>{this.setState({mode:"create"})};createTaskFull=()=>{let e={title:document.getElementById("title").value,complexity:this.state.selectedOption.value,value:document.getElementById("value").value,price:this.state.price};fetch("api/freelances",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{this.cancelTask(),fetch("api/freelances",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({free:e.data,load:"continue"})})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)}))};handleChange=e=>{this.setState({dateNow:e})};updatePrice=(e,t)=>{this.setState({price:e})};components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.PrismAsync,ue({style,wrapLongLines:!1,language:n[1],showLineNumbers:!1,PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",ue({className:a},l),s)}};setStartDate(e){console.log(e)}render(){var e,t;return i().createElement("div",{className:"content-wall-views"},"notAuth"===this.state.load?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É."))):i().createElement("div",null,i().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,i().createElement("b",null,"–§—Ä–∏–ª–∞–Ω—Å - ")," –ó–¥–µ—Å—å —Ç—ã –º–æ–∂–µ—à—å –≤–∑—è—Ç—å –∑–∞–¥–∞—á–∏ –≤ —Ä–∞–±–æ—Ç—É –ª–∏–±–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–∏.")),i().createElement("div",null,i().createElement("input",{placeholder:"–ù–∞–π–¥–µ–º —á—Ç–æ –Ω–∏–±—É–¥—å –¥–ª—è –í–∞—Å...",onFocus:()=>{this.cancelTask()}})),i().createElement("div",{className:"tags-wrapper"},i().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"all",action:"main"},"–í—Å–µ"),i().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–°–æ–∑–¥–∞–Ω–Ω—ã–µ"),i().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–í –æ–∂–∏–¥–∞–Ω–∏–∏"),i().createElement("div",{className:"button-default-tag tags-item unselectable",id:"all",action:"main"},"–í –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏"),"create"===this.state.mode?null:i().createElement("div",{className:"button-default-tag tags-item unselectable",style:{background:"#4cb463",color:"#fff"},id:"all",action:"create",onClick:this.createTask},"–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É")),"create"===this.state.mode?i().createElement("div",{className:"wrapper-white-default"},i().createElement("div",{className:"auth-box-title"},i().createElement("div",{className:"title-span-auth"},"–ó–∞–¥–∞—á–∞")),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"wrapper-flex-start"},i().createElement("input",{autoFocus:!0,className:"input-default",id:"title",placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫",type:"text"})),i().createElement("div",{className:"wrapper-flex-end-margin"},i().createElement(me(),{id:"complexity",placeholder:"–°–ª–æ–∂–Ω–æ—Å—Ç—å",className:"selected-box",value:this.state.selectedOption,onChange:this.handleChangeSelect,options:he,styles:ve}))),i().createElement("div",{className:"wrapper-input fix_wrapper"},i().createElement(O(),{id:"value",minRows:12,placeholder:"–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏",style:{borderRadius:"5px"}})),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"wrapper-flex-start"},i().createElement(oe(),{id:"price",className:"input-default",intlConfig:{locale:"ru-RU",currency:"RUB"},name:"price",placeholder:"–°—Ç–æ–∏–º–æ—Å—Ç—å",maxLength:6,defaultValue:0,decimalsLimit:2,onValueChange:(e,t)=>this.updatePrice(e,t),style:{width:"220px"}})),i().createElement("div",{className:"wrapper-flex-end-margin"},i().createElement("div",{className:"button-default",onClick:()=>{this.cancelTask()}},"–û—Ç–º–µ–Ω–∏—Ç—å"),i().createElement("div",{className:"button-default",onClick:this.createTaskFull},"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å")))):null),"load"===this.state.load?i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"})):"error"===this.state.load?i().createElement("div",null,i().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–µ–µ.")):"onFocusSearch"===this.state.load?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):"onSearchError"===this.state.load?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üôÅ")):"continueSearch"===this.state.load?i().createElement("div",{className:"feed-wrapper"},null===(e=this.state.freeSearch)||void 0===e?void 0:e.map((e=>i().createElement("div",null,e.id)))):"continue"===this.state.load?i().createElement("div",{className:"feed-wrapper"},null===(t=this.state.free)||void 0===t?void 0:t.map((e=>i().createElement(h.Link,{style:{textDecoration:"none"},href:`/task?uuid=${null==e?void 0:e.ID}`},i().createElement("div",{key:e.id,className:"task-view"},i().createElement("div",{className:"task-view-flex"},i().createElement("div",{className:"image-user"},i().createElement("img",{className:"image-user-src",src:e.avatar_url,alt:e.login,onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.user_creator_id}`}})),i().createElement("div",{className:"info-user"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user"},null==e?void 0:e.title),i().createElement("div",{className:"feed-item-datetime"},(null==e||e.status,i().createElement("span",{style:{color:"green"}},"–û–∂–∏–¥–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è"))),i().createElement("div",{className:"feed-item-datetime"},0===(null==e?void 0:e.complexity)?i().createElement("span",{style:{color:"green"}},"–õ–µ–≥–∫–æ"):1===(null==e?void 0:e.complexity)?i().createElement("span",{style:{color:"orange"}},"–°—Ä–µ–¥–Ω–µ"):2===(null==e?void 0:e.complexity)?i().createElement("span",{style:{color:"red"}},"–°–ª–æ–∂–Ω–æ"):i().createElement("span",null,"–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞")))),i().createElement("div",{className:"task-price"},i().createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",color:"var(--font-color)"}},"0"===(null==e?void 0:e.price)?"–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ":parseInt(null==e?void 0:e.price).toLocaleString("ru")+" ‚ÇΩ")))))))):null))}}const Ee=ge;class fe extends n.Component{constructor(e){super(e),this.state={store:this.props.store},this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}componentDidMount(){}callExecutor(e,t,a){fetch("/api/task/",{method:"POST",body:JSON.stringify({uuid:e,uid:t,flag:a})}).then((e=>e.json())).then((e=>{e.status.code,console.log(e)})).catch((e=>{console.log(e)}))}checkNotification(e,t){fetch("/api/notification",{method:"PUT",body:JSON.stringify({feeds_uuid:e,addr:t})}).then((e=>e.json())).then((t=>{0===t.status.code&&(window.location.href=`/post?uuid=${e}`)})).catch((e=>{console.log(e)}))}unixToDateTime(e){return new Date(1e3*e).toLocaleString()}render(){var e,t;const a=this.state.store.getState();return i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-feed"},i().createElement("div",{className:"feed-wrapper"},null!==(e=a.auth.user.notifications)&&void 0!==e&&e.length?null===(t=a.auth.user.notifications)||void 0===t?void 0:t.map((e=>null!=e&&e.is_look?null:i().createElement("div",{className:"notifications-item background-white"},i().createElement("div",{className:"info-notification-item feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)),i().createElement("div",{className:"info-notification-item"},"post"===(null==e?void 0:e.types)?null!=e&&e.user_event_action?i().createElement("div",null,i().createElement("span",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.uwuid}`}},null==e?void 0:e.user_event_action),i().createElement("span",null," –ø–æ—Å–º–æ—Ç—Ä–µ–ª –í–∞—à—É –∑–∞–º–µ—Ç–∫—É")):i().createElement("div",null,i().createElement("span",null,"–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–º–æ—Ç—Ä–µ–ª –í–∞—à—É –∑–∞–º–µ—Ç–∫—É")):"comment"===(null==e?void 0:e.types)?i().createElement("div",null,i().createElement("span",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.uwuid}`}},null==e?void 0:e.user_event_action),i().createElement("span",null," –æ—Å—Ç–∞–≤–∏–ª –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π")):"task"===(null==e?void 0:e.types)?i().createElement("div",null,i().createElement("span",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.uwuid}`}},null==e?void 0:e.user_event_action),i().createElement("span",null," —Ö–æ—á–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å ",i().createElement("a",{target:"_blank",className:"link-user",href:`/task?uuid=${null==e?void 0:e.feeds_uuid}`},"–∑–∞–¥–∞—á—É"))):null),"task"===(null==e?void 0:e.types)?i().createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem"}},i().createElement("div",{className:"button-default",onClick:()=>this.callExecutor(e.feeds_uuid,null==e?void 0:e.uwuid,!0)},"–û—Ç–∫–ª–æ–Ω–∏—Ç—å"),i().createElement("div",{className:"button-default",onClick:()=>this.callExecutor(e.feeds_uuid,null==e?void 0:e.uwuid,!1)},"–û—Ç–¥–∞—Ç—å –≤ —Ä–∞–±–æ—Ç—É")):i().createElement("div",{className:"info-notifications-item"},i().createElement("div",{className:"button-default",onClick:()=>this.checkNotification(e.feeds_uuid,e.addr)},"–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–º–µ—Ç–∫–µ"))))):i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ù–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ—Ç.")))))}}const Ne=fe;class we extends n.Component{constructor(e){super(e),this.state={}}render(){return i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-feed"},i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"main-place-wrapper"},i().createElement("p",null,i().createElement("b",null,"–ö–æ–º–∞–Ω–¥—ã - ")," —ç—Ç–æ —Ä–∞–∑–¥–µ–ª –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é.",i().createElement("br",null),"–†–∞–∑–¥–µ–ª –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.")))))}}const ke=we,ye=(require("react-toastify/dist/ReactToastify.css"),a.p+"8b248dacb3acbce45404f931369ce1c5.png"),_e=a.p+"bdc6307d8dd351084cc8bf99bad0ddda.png",be=a.p+"6a2343046af14d5d9b5e0e301cc30aa5.png",Se=a.p+"7135f125a809e97a87049ba70d329fe8.png",Ce=a.p+"5aef9798d871c0e57497f0c497e0447e.png",Te=a.p+"18b72a5e739da6f8267ece2fbf3fab16.png",xe=a.p+"abee6d9efaa8c3e925ef1dca4d3a5d45.png",Le=a.p+"a2c0b65ceb85628b1120ef8e45b9b603.png",De=a.p+"d1a95ac5340727dcdf5ab03362785e55.png",Pe=a.p+"ed17ec51f4947f65d140dd82d30e2754.png",Oe=a.p+"955f997bd5de03e787cabb5f17d1b9ca.png",Me=a.p+"051dd92f34fcd71aeb8550c71252f47f.png";class Ie extends n.Component{constructor(e){super(e),this.state={load:!1,isDark:"light",store:this.props.store},this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}updateHistory=e=>{this.state.store.dispatch({type:"ACTION_UPDATE_HISTORY",value:{path:null,id:e}})};getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};componentDidMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").onchange=e=>{this.getPreferredColorScheme()},this.setState({load:!0})}render(){const e=this.state.store.getState();return e.auth.user.isAuth?i().createElement("div",{className:"wrapper-vertical-nav"},this.state.load?i().createElement("div",null,i().createElement("div",{className:"nav-item"},i().createElement(h.Link,{className:"nav-value",href:`/user/${e.auth.user.data.id}`},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:Se,alt:"–í–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞"}):i().createElement("img",{src:Me,alt:"–í–∞—à–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞"})),i().createElement("div",{className:"nav-value"},"–ú–æ—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞"))),i().createElement("div",{className:"nav-item"},e.auth.user.messagesCount?i().createElement("div",{className:"counter-notification",id:"counter_notification",path:"/messages"},e.auth.user.messagesCount>10?"10+":e.auth.user.messagesCount):null,i().createElement(h.Link,{className:"nav-value",href:"/messages"},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:Ce,alt:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"}):i().createElement("img",{src:Te,alt:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"})),i().createElement("div",{className:"nav-value"},"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"))),i().createElement("div",{className:"nav-item"},i().createElement(h.Link,{className:"nav-value",href:"/feeds"},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:ye,alt:"–ó–∞–º–µ—Ç–∫–∏"}):i().createElement("img",{src:_e,alt:"–ó–∞–º–µ—Ç–∫–∏"})),i().createElement("div",{className:"nav-value"},"–ù–æ–≤–æ—Å—Ç–∏"))),i().createElement("div",{className:"nav-item"},i().createElement(h.Link,{className:"nav-value",href:"/people"},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:xe,alt:"–õ—é–¥–∏"}):i().createElement("img",{src:Le,alt:"–õ—é–¥–∏"})),i().createElement("div",{className:"nav-value"},"–õ—é–¥–∏"))),i().createElement("div",{className:"nav-item"},e.auth.user.notificationCount?i().createElement("div",{className:"counter-notification",id:"counter_notification",path:"/notification"},e.auth.user.notificationCount>10?"10+":e.auth.user.notificationCount):null,i().createElement(h.Link,{className:"nav-value",href:"/notification"},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:De,alt:"–°–æ–±—ã—Ç–∏—è"}):i().createElement("img",{src:Pe,alt:"–°–æ–±—ã—Ç–∏—è"})),i().createElement("div",{className:"nav-value"},"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"))),e.auth.user.data.testing?i().createElement("div",null,i().createElement("div",{className:"nav-item"},i().createElement(h.Link,{className:"nav-value",href:"/freelances"},i().createElement("div",{className:"icon-image"},"light"===this.state.isDark?i().createElement("img",{src:M,alt:"–ó–∞–¥–∞—á–∏"}):i().createElement("img",{src:be,alt:"–ó–∞–¥–∞—á–∏"})),i().createElement("div",{className:"nav-value"},"–§—Ä–∏–ª–∞–Ω—Å")))):null):i().createElement("div",{className:"loader-flex"},i().createElement("div",{className:"loader-small"}))):"/"!==window.location.pathname?i().createElement("div",{className:"wrapper-vertical-nav"},this.state.load?i().createElement("div",{className:"nav-item"},i().createElement(h.Link,{className:"nav-value",href:"/"},i().createElement("div",{className:"icon-image"},i().createElement("img",{src:Oe,alt:"messages"})),i().createElement("div",{className:"nav-value"},"–í–æ–π—Ç–∏"))):i().createElement("div",{className:"loader-flex"},i().createElement("div",{className:"loader-small"}))):null}}const Ae=Ie;class Be extends n.Component{constructor(e){super(e),this.state={}}render(){return i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"block-preview-main"},i().createElement("div",{className:"image-main-developer"},i().createElement("img",{className:"main-developer-photos",src:"https://avatars.githubusercontent.com/u/29627450?v=4",alt:"–ê–Ω–¥—Ä–µ–π –®–º–µ–ª–µ–≤-–®–∞–º–ø–∞–Ω–æ–≤"})),i().createElement("div",{className:"message-info"},i().createElement("p",null,"–ü—Ä–∏–≤–µ—Ç –∏ –¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –∫ –Ω–∞–º."),i().createElement("div",{className:"m-small-bobble"}),i().createElement("div",{className:"s-small-bobble"})))))}}const Ue=Be,je=a.p+"3ff4331f535f9f479413205daa68859b.png";class Fe extends n.Component{constructor(e){super(e),this.state={load:"load",users:null,usersSearch:null,error:null,scrollDown:!1,last_count_users:0,small_louder_show:!0,store:this.props.store},this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}allUsers=e=>{document.getElementById("search_users").value="",e.target.classList.add("button-select"),fetch("api/user",{method:"GET"}).then((e=>e.json())).then((e=>{this.setState({users:e.data,load:"continue"})})).catch((e=>{console.log(e)}))};downPage=()=>{if("/people"!==window.location.pathname)return;let e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);if(window.scrollY>=e-100-innerHeight&&!this.state.scrollDown){this.setState({scrollDown:!0});let e=this.state.store.getState(),t=e.people.length;this.setState({last_count_users:t}),fetch(`api/user/pagination/${t}`,{method:"GET"}).then((e=>e.json())).then((t=>{if(0===t.data.length)this.setState({small_louder_show:!1});else{let a=[...e.people,...t.data];this.state.store.dispatch({type:"ACTION_UPDATE_PEOPLE",value:a})}this.setState({load:"continue"})})).catch((e=>{console.log(e)})),setTimeout((()=>{this.setState({scrollDown:!1})}),1e3)}};componentDidMount(){window.onscroll=this.downPage,fetch("/api/authentication",{method:"POST",body:JSON.stringify({finger:window.localStorage.getItem("finger")})}).then((e=>e.json())).then((e=>{0===e.status.code?(this.setState({auth:!0}),fetch("api/user",{method:"GET"}).then((e=>e.json())).then((e=>{this.state.store.dispatch({type:"ACTION_UPDATE_PEOPLE",value:e.data}),this.setState({load:"continue"})})).catch((e=>{console.log(e)}))):this.setState({load:"notAuth"})})).catch((e=>{console.log(e)}))}focusSearch=()=>{this.setState({load:"onFocusSearch"})};changeSearch=e=>{fetch(`api/user?q=${e.target.value}`,{method:"GET"}).then((e=>e.json())).then((e=>{e.data.length?this.setState({usersSearch:e.data,load:"continueSearch"}):this.setState({usersSearch:e.data,load:"onSearchError"})})).catch((e=>{console.log(e)}))};blurSearch=()=>{};render(){var e,t;let a=this.state.store.getState();return i().createElement("div",null,i().createElement("div",{className:"content-wall-views"},"notAuth"===this.state.load?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É."))):i().createElement("div",null,i().createElement("div",{className:"wrapper-search wrapper-inline-block unselectable"},i().createElement("div",null,i().createElement("input",{placeholder:"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å...",id:"search_users",onFocus:this.focusSearch,onBlur:this.blurSearch,onChange:this.changeSearch})),i().createElement("div",{className:"tags-wrapper"},i().createElement("div",{className:"button-default-tag tags-item unselectable button-select",id:"all_users",action:"all",onClick:this.allUsers},"–í—Å–µ"))),"load"===this.state.load?i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"})):"error"===this.state.load?i().createElement("div",null,i().createElement("div",{className:"not_news"},"–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–¥–Ω–µ–µ.")):"onFocusSearch"===this.state.load?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏ –º—ã –Ω–∞—á–Ω–µ–º –∏—Å–∫–∞—Ç—å...")):"onSearchError"===this.state.load?i().createElement("div",{className:"feed-wrapper"},i().createElement("div",{className:"not_news"},"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –ø–æ –í–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ üôÅ")):"continueSearch"===this.state.load?i().createElement("div",{className:"feed-wrapper"},null===(e=this.state.usersSearch)||void 0===e?void 0:e.map((e=>i().createElement("div",{key:e.id,className:"users-view"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.id}`},i().createElement("div",{className:"image-user"},i().createElement("img",{className:"image-user-src-people",src:e.avatar_url,alt:e.login}))),i().createElement("div",{className:"info-user"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.id}`},i().createElement("div",{className:"link-user"},null==e?void 0:e.login))),i().createElement("div",{className:"more-info"},i().createElement("div",{className:"more-info-value"},"–ö–æ–º–ø–∞–Ω–∏—è:",null!=e&&e.company?" "+e.company:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"),i().createElement("div",{className:"more-info-value"},"–õ–æ–∫–∞—Ü–∏—è:",null!=e&&e.location?" "+e.location:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"))))))):"continue"===this.state.load?i().createElement("div",{className:"feed-wrapper"},null===(t=a.people)||void 0===t?void 0:t.map((e=>i().createElement("div",{key:e.id,className:"users-view"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.id}`},i().createElement("div",{className:"image-user"},i().createElement("img",{className:"image-user-src-people",src:e.avatar_url,alt:e.login}))),i().createElement("div",{className:"info-user"},i().createElement("div",{className:"feed-item-title"},i().createElement(h.Link,{href:`/user/${null==e?void 0:e.id}`},i().createElement("div",{className:"link-user"},null==e?void 0:e.login))),i().createElement("div",{className:"more-info"},i().createElement("div",{className:"more-info-value"},"–ö–æ–º–ø–∞–Ω–∏—è:",null!=e&&e.company?" "+e.company:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞"),i().createElement("div",{className:"more-info-value"},"–õ–æ–∫–∞—Ü–∏—è:",null!=e&&e.location?" "+e.location:" –Ω–µ —É–∫–∞–∑–∞–Ω–∞")))))),this.state.small_louder_show?i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader-small"})):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",null,"–ë–æ–ª—å—à–µ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ—á–µ–≥–æ"))):null)),i().createElement("div",{className:"tags-view"}))}}const $e=Fe,Re={auth:{user:{isAuth:!1,data:null,feeds:null,notificationCount:0,messagesCount:0,notifications:null,token:null,error:null}},centrifuge:{object:null},history:{path:null,id:null},components:{settings:{main_page:!0,messenger:!0,feed:!0}},webRTC:{pc:null},status_call:"connecting",call:{state:!1,audio:null},stream:null,am:!1,people:[],notification_user:{}};function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},He.apply(this,arguments)}class Ge extends n.Component{constructor(e){super(e),this.state={},this.components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.Prism,He({wrapLongLines:!1,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",He({className:a},l),s)}}}render(){return i().createElement("div",null,i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"wrapper-about"},i().createElement("div",{className:"about-text"}))))}}const Je=Ge;function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},qe.apply(this,arguments)}const Ke=a(344);class Ve extends n.Component{constructor(e){super(e),this.state={name:"React"},this.state={error:null,isLoaded:!1,result:null,mainFeed:null,task:null,isLoadedFeed:!1,comments:null,counter:0,auth:!1,load:!1,data:null,event:null,notFeed:!1,isDark:"light",user:null,store:this.props.store,exec:"–°—Ç–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º"},this.refActionExecButton=i().createRef(),this.state.store.subscribe((()=>{this.setState(this.state.store.getState())}))}getPreferredColorScheme=()=>{var e;null!==(e=window)&&void 0!==e&&e.matchMedia("(prefers-color-scheme: dark)").matches?this.setState({isDark:"dark"}):this.setState({isDark:"light"})};handleKeyPress=()=>{document.getElementById("comments_view").scrollTop=document.getElementById("comments_view").scrollHeight};like(e){let t={feeds_uuid:e};fetch("api/like",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((t=>{0===t.status.code&&(document.getElementById(e).innerHTML=t.data.count+" –ù—Ä–∞–≤–∏—Ç—å—Å—è"),console.log(t)})).catch((e=>{console.log(e)}))}components={code({node:e,inline:t,className:a,children:s,...l}){const n=/language-(\w+)/.exec(a||"");return!t&&n?i().createElement(N.Prism,qe({wrapLongLines:!1,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},l)):i().createElement("code",qe({className:a},l),s)}};previewClick(e){const t=document.getElementsByClassName(e)[0];console.log(t),t.classList.toggle("preview_swap")}sendComments(){let e={value:document.getElementById("text_comments").value,to_uuid:document.getElementById("place_feed").getAttribute("uuid")};""!==e.value&&fetch("api/comments",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{console.log(e),0===e.status.code&&(this.getTask(),document.getElementById("text_comments").value=""),console.log(e)})).catch((e=>{console.log(e)}))}actionExec=e=>{e.target.classList.add("wait_blink"),this.setState({exec:"–û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"});let t={uuid:e.target.getAttribute("uuid")};fetch("api/notification",{method:"POST",body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{0===e.status.code&&console.log(e)})).catch((e=>{console.log(e),this.setState({isLoaded:!1,result:{}})}))};componentWillMount(){this.getPreferredColorScheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.getPreferredColorScheme()})),fetch("api/authentication",{method:"POST"}).then((e=>e.json())).then((e=>{0===e.status.code&&e.data.length>0&&this.setState({isLoaded:!0,auth:!0,result:e.data,data:e.data,mainFeed:e.feed,notification_count:e.notification_count,notification:e.notification,token:e.token,messagesCount:e.count_message})})).catch((e=>{console.log(e),this.setState({isLoaded:!1,result:{}})})),this.getTask()}getTask(){let e=new URL(window.location.href).searchParams.get("uuid");""!==e&&fetch(`api/task/${e}/`,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code?this.setState({isLoadedFeed:!0,task:e.data,comments:e.comments,event:e.events,counter:e.counter,user:e.user,load:!0}):this.setState({isLoadedFeed:!1,task:e.data,comments:e.comments,counter:e.counter,load:!0,notFeed:!0})})).catch((e=>{console.log(e),this.setState({isLoaded:!1,result:{},load:!0})}))}unixToDateTime(e){return new Date(1e3*e).toLocaleString()}render(){var e,t,a;let s=this.state.store.getState();console.log(m);let{isLoadedFeed:l,task:n,result:r,comments:c,counter:o,user:d,event:m}=this.state;return i().createElement("div",{style:{display:"flex"}},i().createElement("div",{className:"content-wall-views"},l?i().createElement("div",{className:"comments-view",id:"comments_view"},i().createElement("div",{className:"place-items",id:"place_feed",uuid:null==n?void 0:n.id},i().createElement(L.JsonLd,{item:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"DevCodeMyLife",item:"https://devcodemylife.tech"},{"@type":"ListItem",position:2,name:"–§—Ä–∏–ª–∞–Ω—Å",item:"https://devcodemylife.tech/freelances"},{"@type":"ListItem",position:3,name:(null==n?void 0:n.title)||(null==n||null===(e=n.value)||void 0===e?void 0:e.substring(0,30)),item:`https://devcodemylife.tech/task?uuid=${null==n?void 0:n.ID}`}]}}),i().createElement(D.Helmet,null,i().createElement("title",null,(null==n?void 0:n.title)||(null==n||null===(t=n.value)||void 0===t?void 0:t.substring(0,30))," | DevCodeMyLife"),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, "+(null==n?void 0:n.title)})),i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==n?void 0:n.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{key:"asdmmmmasd",src:null==n?void 0:n.photo,alt:null==n?void 0:n.user,onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==n?void 0:n.uid}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==n?void 0:n.uid}`}},null==n?void 0:n.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==n?void 0:n.date_time))))),i().createElement("div",{className:"title-feed"},null==n?void 0:n.title),i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[Ke],components:this.components},null==n?void 0:n.value))),i().createElement("div",{className:"wrapper-bottom"},i().createElement("div",{className:"like_wrapper wrapper-flex-start"},i().createElement("div",{className:"like",onClick:()=>this.like(null==n?void 0:n.id)},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:w,alt:"like"}):i().createElement("img",{src:_,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count",id:null==n?void 0:n.id},null==n?void 0:n.count_like," –ù—Ä–∞–≤–∏—Ç—å—Å—è"))),i().createElement("div",{className:"like"},i().createElement("div",{className:"like-item"},"light"===this.state.isDark?i().createElement("img",{src:k,alt:"like"}):i().createElement("img",{src:y,alt:"like"})),i().createElement("div",{className:"like-text"},i().createElement("span",{className:"like-count"},o," –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤"))),s.auth.user.isAuth&&s.auth.user.data.id!==(null==n?void 0:n.user_creator_id)&&"wait"===(null==n?void 0:n.status)?""===(null==m?void 0:m.feeds_uuid)||null!=m&&m.block||null!=m&&m.executor?""!==(null==m?void 0:m.feeds_uuid)||null!=m&&m.block||null!=m&&m.executor?""===(null==m?void 0:m.feeds_uuid)||null==m||!m.block||null!=m&&m.executor?""===(null==m?void 0:m.feeds_uuid)||null!=m&&m.block||null==m||!m.executor?null:i().createElement("div",{className:"like",onClick:this.actionExec,uuid:null==n?void 0:n.id,ref:this.refActionExecButton},i().createElement("div",{className:"like-text",uuid:null==n?void 0:n.id},i().createElement("span",{className:"like-count ready_blink",uuid:null==n?void 0:n.id},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É"))):i().createElement("div",{className:"like",uuid:null==n?void 0:n.id,ref:this.refActionExecButton},i().createElement("div",{className:"like-text",uuid:null==n?void 0:n.id},i().createElement("span",{className:"like-count fail_blink",uuid:null==n?void 0:n.id},"–ó–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω"))):i().createElement("div",{className:"like",onClick:this.actionExec,uuid:null==n?void 0:n.id,ref:this.refActionExecButton},i().createElement("div",{className:"like-text",uuid:null==n?void 0:n.id},i().createElement("span",{className:"like-count",uuid:null==n?void 0:n.id},this.state.exec))):i().createElement("div",{className:" like",uuid:null==n?void 0:n.id,ref:this.refActionExecButton},i().createElement("div",{className:"like-text",uuid:null==n?void 0:n.id},i().createElement("span",{className:"like-count wait_blink",uuid:null==n?void 0:n.id},"–û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"))):null,i().createElement("div",{className:"like"},i().createElement("div",{className:"like-text"},"0"!==(null==n?void 0:n.price)?i().createElement("span",{className:"like-count"},parseInt(null==n?void 0:n.price).toLocaleString("ru")," —Ä—É–±."):i().createElement("span",{className:"like-count"},"–í–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ")))),i().createElement("div",{className:"like_wrapper wrapper-flex-end"},null!=n&&n.tag?i().createElement("div",{className:"tags-type"},"#",null==n?void 0:n.tag):null)),this.state.isLoaded?r.map((e=>{var t;return i().createElement("div",{className:"feed-comments-wrapper-item background-white"},i().createElement("div",{className:"wrapper-comments"},i().createElement("div",{className:"comments-title bottom-line"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),i().createElement("div",{className:"wall-comments"},null!==(t=this.state.comments)&&void 0!==t&&t.length?c.map((e=>i().createElement("div",null,i().createElement("div",{className:"feed-item-value"},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user,onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.user_id}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:t=>{t.preventDefault(),window.location.href=`/user/${null==e?void 0:e.user_id}`}},null==e?void 0:e.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)))))),i().createElement("div",{className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[Ke],components:this.components},null==e?void 0:e.value)))))):i().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")),i().createElement("div",{className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.avatar_url,alt:null==e?void 0:e.login})),i().createElement("div",{className:"value-post placeholder-main-feed"},i().createElement(O(),{className:"feed-textarea",onChange:this.handleChangeTextarea,autoFocus:!1,placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",id:"text_comments",onKeyPress:this.handleKeyPress}))),i().createElement("div",{className:"wrapper-flex-end create-feed-wrapper-button"},i().createElement("div",{className:"button-default",onClick:()=>this.sendComments()},"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"))))})):i().createElement("div",{className:"feed-comments-wrapper-item background-white"},i().createElement("div",{className:"wrapper-comments"},i().createElement("div",{className:"comments-title"},"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"),i().createElement("div",{className:"wall-comments"},null!==(a=this.state.comments)&&void 0!==a&&a.length?c.map((e=>i().createElement("div",null,i().createElement("div",{className:"feed-item-value bottom-line"},i().createElement("div",{className:"feed-item-value"},i().createElement("div",{key:"asldk",className:"wrapper-data"},i().createElement("div",{key:"aksdlkasd",className:"photo-wrapper"},i().createElement("img",{key:"asdmmmmasd",src:null==e?void 0:e.photo,alt:null==e?void 0:e.user})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:this.copyLogin},null==e?void 0:e.user),i().createElement("div",{className:"feed-item-datetime"},this.unixToDateTime(null==e?void 0:e.date_time)))))),i().createElement("div",{className:"wrapper-data"},i().createElement(x(),{className:"value-post",remarkPlugins:[Ke],components:this.components},null==e?void 0:e.value)))))):i().createElement("div",{className:"no-comments"},"–ù–æ–≤—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ—Ç.")))))):this.state.notFeed?i().createElement("div",null,i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞ –ª–∏–±–æ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞."))):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader"}))),i().createElement("div",{className:"tags-view"},l?i().createElement("div",{className:"tags-box"},i().createElement("div",{className:"wrapper-data"},i().createElement("div",{className:"photo-wrapper"},Math.floor((new Date).getTime()/1e3)-Math.floor(new Date(null==d?void 0:d.last_active_at).getTime()/1e3)>120?null:i().createElement("div",{className:"online_user"}),i().createElement("img",{src:null==d?void 0:d.avatar_url,alt:null==d?void 0:d.login,onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==d?void 0:d.id}`}})),i().createElement("div",{className:"value-post"},i().createElement("div",{className:"feed-item-title"},i().createElement("div",{className:"link-user",onClick:e=>{e.preventDefault(),window.location.href=`/user/${null==d?void 0:d.id}`}},null==d?void 0:d.login)))),null!=d&&d.location?i().createElement("div",{className:"main-place"},"–õ–æ–∫–∞—Ü–∏—è:"," "+(null==d?void 0:d.location)):null,null!=d&&d.company?i().createElement("div",{className:"main-place"},"–ö–æ–º–ø–∞–Ω–∏—è:"," "+(null==d?void 0:d.company)):null,null!=d&&d.count_feeds?i().createElement("div",{className:"main-place"},"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤:"," "+(null==d?void 0:d.count_feeds)):null,null!=d&&d.count_tasks?i().createElement("div",{className:"main-place"},"–°–æ–∑–¥–∞–ª –∑–∞–¥–∞—á:"," "+(null==d?void 0:d.count_tasks)):null):i().createElement("div",{className:"loader-wrapper feed-wrapper"},i().createElement("div",{className:"loader-small"}))))}}const ze=Ve,We=(0,m.createStore)((function(e=Re,t){switch(t.type){case"ACTION_UPDATE_HISTORY":return e.history=t.value,e;case"ACTION_CHECK_AUTH":return e.auth=t.value,e;case"ACTION_SET_CENTRIFUGE":return e.centrifuge=t.value,e;case"ACTION_SET_COMPONENTS":return e.components=t.value,e;case"ACTION_SET_WEBRTC":return e.webRTC=t.value,e;case"ACTION_SET_CALL":return e.call=t.value,e;case"ACTION_SET_STATUS_CALL":return e.status_call=t.value,e;case"ACTION_SET_STREAM":return e.stream=t.value,e;case"ACTION_SET_AM":return e.am=t.value,e;case"ACTION_UPDATE_PEOPLE":return e.people=t.value,e;case"ACTION_UPDATE_NOTIFICATION_USER":return e.notification_user=t.value,e;default:return e}})),Ye="wss://devcodemylife.tech/cent/connection/websocket";class Ze extends i().Component{constructor(e){let t=window.AudioContext||window.webkitAudioContext;super(e),this.state={load:!1,context:new t,audio:new Audio(Q),channel:null},this.routes=(0,u.mount)({"/":(0,u.route)({title:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(G,null)}),"/people":(0,u.route)({title:"–õ—é–¥–∏ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement($e,{store:We})}),"/messages":(0,u.route)({title:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(se,{store:We})}),"/user/:id":(0,u.route)((async e=>{var t,a;let s,l=e.params.id;return We.dispatch({type:"ACTION_UPDATE_HISTORY",value:{path:null,id:l}}),fetch(`/api/user/${l}`,{method:"GET"}).then((e=>e.json())).then((e=>{0===e.status.code&&(s=e.data[0])})).catch((e=>{console.log(e)})),{title:`${null===(t=s)||void 0===t?void 0:t.name} | DevCodeMyLife`,head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:`–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${null===(a=s)||void 0===a?void 0:a.title}`}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(W,{store:We,id:l})}})),"/feeds":(0,u.route)({title:"–ù–æ–≤–æ—Å—Ç–∏ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ù–æ–≤–æ—Å—Ç–∏, —É –Ω–∞—Å –µ—Å—Ç—å –≤—Å–µ, —á–µ–≥–æ –Ω–µ—Ç –Ω–∞–ø–∏—à–∏ —Å–∞–º."}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(C,{store:We})}),"/post":(0,u.route)({title:"–ó–∞–º–µ—Ç–∫–∞ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ó–∞–º–µ—Ç–∫–∞"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(U,{store:We})}),"/agreement":(0,u.route)({title:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(Je,{store:We})}),"/settings":(0,u.route)({title:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(re,{store:We})}),"/freelances":(0,u.route)({title:"–§—Ä–∏–ª–∞–Ω—Å | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–§—Ä–∏–ª–∞–Ω—Å"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(Ee,{store:We})}),"/notification":(0,u.route)({title:"–°–æ–±—ã—Ç–∏—è | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–û–ø–æ–≤–µ—â–µ–Ω–∏—è"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(Ne,{store:We})}),"/teams":(0,u.route)({title:"–ö–æ–º–∞–Ω–¥—ã | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ö–æ–º–∞–Ω–¥—ã"}),i().createElement("meta",{name:"Keywords",content:"dev, code, life, messenger, —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, devcode"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(ke,{store:We})}),"/how_to_use":(0,u.route)({title:"–ü—Ä–∏–≤–µ—Ç! | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:""}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(Ue,{store:We})}),"/task":(0,u.route)({title:"–ó–∞–¥–∞—á–∞ | DevCodeMyLife",head:i().createElement(i().Fragment,null,i().createElement("meta",{name:"description",content:"–ó–∞–¥–∞—á–∞"}),i().createElement("script",null,"console.log('[ app start ]')")),view:i().createElement(ze,{store:We})})})}checkAuth(){fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{if(0===e.status.code){We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}}),We.dispatch({type:"ACTION_SET_WEBRTC",value:{pc:new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]})}}),fetch("/api/app/components",{method:"GET"}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&We.dispatch({type:"ACTION_SET_COMPONENTS",value:{settings:e.data}})}));let t=new($())(Ye,{subscribeEndpoint:"/api/subscribe",onPrivateSubscribe:e=>{console.log(e)}});t.setToken(null==e?void 0:e.token),t.connect(),t.on("connect",(function(e){console.log("[ app connected centrifuge ]")}));let a=this;t.subscribe(`${null==e?void 0:e.data[0].id}`,(function(t){const s=We.getState();let l=t.data;switch(l.type){case"event":a.state.context.resume().then((()=>{a.state.audio.play()})),We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:l.count,messagesCount:s.auth.user.messagesCount,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}}),We.dispatch({type:"ACTION_UPDATE_NOTIFICATION_USER",value:p.toast}),p.toast.info("–í–∞—à—É –∑–∞–º–µ—Ç–∫—É –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{location.href="/notification"}});break;case"task_win":a.state.context.resume().then((()=>{a.state.audio.play()})),fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})})),p.toast.info("–í—ã —Å—Ç–∞–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏!",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{location.href="/notification"}});break;case"task_lose":a.state.context.resume().then((()=>{a.state.audio.play()})),fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})})),p.toast.info("–í–∞–º –æ—Ç–∫–∞–∑–∞–ª–∏ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{location.href="/notification"}});break;case"comment":a.state.context.resume().then((()=>{a.state.audio.play()})),We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:l.count,messagesCount:s.auth.user.messagesCount,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}}),p.toast.info("–í–∞—à—É –∑–∞–º–µ—Ç–∫—É –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{location.href="/notification"}});break;case"message":null===window.location.pathname.match(/messages/)&&(We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:s.auth.user.notificationCount,messagesCount:l.count,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}}),p.toast.info("–í–∞–º –ø—Ä–∏—à–ª–æ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,onClick:()=>{location.href="/messages"}}));break;case"update":fetch("/api/authentication",{method:"POST",body:JSON.stringify({})}).then((e=>e.json())).then((e=>{0===(null==e?void 0:e.status.code)&&We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!0,data:null==e?void 0:e.data[0],feeds:null==e?void 0:e.feed,notificationCount:null==e?void 0:e.notification_count,messagesCount:null==e?void 0:e.count_message,notifications:null==e?void 0:e.notification,token:null==e?void 0:e.token,error:null}}})}))}})),We.dispatch({type:"ACTION_SET_CENTRIFUGE",value:{object:t}}),"/"===document.location.pathname?window.location.href="/feeds":this.setState({load:!0})}else{var t;We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!1,data:null,feeds:null,error:null==e||null===(t=e.status)||void 0===t?void 0:t.message}}}),this.setState({load:!0})}})).catch((e=>{We.dispatch({type:"ACTION_CHECK_AUTH",value:{user:{isAuth:!1,data:null,feeds:null,error:e}}})}))}componentDidMount(){this.checkAuth()}render(){return this.state.load?i().createElement(g(),null,i().createElement("div",{className:"wrapper"},i().createElement(j.BrowserRouter,null,i().createElement(j.Switch,null,i().createElement(j.Route,{path:"/",render:({history:e,match:t})=>i().createElement(h.Router,{routes:this.routes,history:e,basename:t.url},i().createElement(f,{store:We,load:!0}),i().createElement(p.ToastContainer,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),i().createElement("div",{className:"wrapper-content"},i().createElement("div",{className:"content"},i().createElement("div",{id:"vertical_menu",className:"reviews-menu"},i().createElement(Ae,{song:Q,store:We}),i().createElement("div",{className:"wrapper-ad",onClick:()=>{window.location.href="https://mcs.mail.ru/"}},i().createElement("div",{className:"image-ad"},i().createElement("img",{className:"image-ad-tag",src:je,alt:"vk"})),i().createElement("div",{className:"ad-text"},"–°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–ª–∞–∫–∞—Ö")),i().createElement("div",{className:"menu-nav"},i().createElement("div",{className:"menu-nav-item"},i().createElement(h.Link,{href:"/user/6"},"–ü–æ–¥–¥–µ—Ä–∂–∫–∞")),i().createElement("div",{className:"menu-nav-item"},i().createElement(h.Link,{href:"https://t.me/devcodemylife",target:"_blank"},"–ú—ã –≤ Telegram")))),i().createElement(h.NotFoundBoundary,{render:()=>i().createElement("div",{className:"content-wall-views"},i().createElement("div",{className:"error-wrapper"},i().createElement("div",{className:"error-page"},"–¢–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.")))},i().createElement(n.Suspense,{fallback:!0},i().createElement(h.View,{store:We}))))))}))))):i().createElement("div",{style:{position:"fixed",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i().createElement("div",{className:"loader"}))}}const Qe=Ze,Xe=c()();Xe.get("/",((e,a)=>{const s=d().renderToNodeStream(i().createElement(Qe,null)),n=t().resolve("./build/index.html");l().readFile(n,"utf8",((e,t)=>e?(console.error("Something went wrong:",e),a.status(500).send("Oops, better luck next time!")):(console.log("request"),a.send(t.replace('<div id="root"></div>',`<div id="root">${s}</div>`)))))})),Xe.use(c().static("./build")),Xe.listen(80,(()=>{console.log("Server is listening on port 80")}))})()})();